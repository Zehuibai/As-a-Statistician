<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 28 CDISC | As a Statistician</title>
  <meta name="description" content="This book involves different statistical principles and methods, including the application of SAS and R, and aims to accumulate personal statistical knowledge." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 28 CDISC | As a Statistician" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book involves different statistical principles and methods, including the application of SAS and R, and aims to accumulate personal statistical knowledge." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 28 CDISC | As a Statistician" />
  
  <meta name="twitter:description" content="This book involves different statistical principles and methods, including the application of SAS and R, and aims to accumulate personal statistical knowledge." />
  

<meta name="author" content="Zehui Bai" />


<meta name="date" content="2022-05-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="adaptive-designs.html"/>
<link rel="next" href="regularization-penalized-regression.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/d3-3.5.17/d3.min.js"></script>
<link href="libs/markmap-0.3.3/view.mindmap.css" rel="stylesheet" />
<script src="libs/markmap-0.3.3/view.mindmap.js"></script>
<script src="libs/markmap-0.3.3/plugins/parsemd.min.js"></script>
<script src="libs/markmap-binding-1.3.2/markmap.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">As a Statistician</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html"><i class="fa fa-check"></i><b>2</b> Data Management in SAS</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#input-data-into-sas"><i class="fa fa-check"></i><b>2.1</b> Input data into SAS</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#native-datasets-input"><i class="fa fa-check"></i><b>2.1.1</b> Native datasets input</a></li>
<li class="chapter" data-level="2.1.2" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#reading-free-formatted-data-instream"><i class="fa fa-check"></i><b>2.1.2</b> Reading free formatted data instream</a></li>
<li class="chapter" data-level="2.1.3" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#reading-fixed-formatted-data-instream"><i class="fa fa-check"></i><b>2.1.3</b> Reading fixed formatted data instream</a></li>
<li class="chapter" data-level="2.1.4" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#infile-reading-fixed-formatted-data-from-an-external-file"><i class="fa fa-check"></i><b>2.1.4</b> INFILE: Reading fixed formatted data from an external file</a></li>
<li class="chapter" data-level="2.1.5" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#write-the-sas-file"><i class="fa fa-check"></i><b>2.1.5</b> Write the SAS File</a></li>
<li class="chapter" data-level="2.1.6" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#import-csv-data"><i class="fa fa-check"></i><b>2.1.6</b> Import csv data</a></li>
<li class="chapter" data-level="2.1.7" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#import"><i class="fa fa-check"></i><b>2.1.7</b> %Import</a></li>
<li class="chapter" data-level="2.1.8" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#url"><i class="fa fa-check"></i><b>2.1.8</b> URL</a></li>
<li class="chapter" data-level="2.1.9" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#infile-read-multiple-raw-data-files"><i class="fa fa-check"></i><b>2.1.9</b> Infile Read multiple raw data files</a></li>
<li class="chapter" data-level="2.1.10" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#generate-automatic-file-name"><i class="fa fa-check"></i><b>2.1.10</b> Generate automatic file name</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#format-the-variables"><i class="fa fa-check"></i><b>2.2</b> Format the variables</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#proc-format"><i class="fa fa-check"></i><b>2.2.1</b> Proc format</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#copy-and-combine-sas-format-libraries"><i class="fa fa-check"></i><b>2.2.2</b> Copy and combine SAS format libraries</a></li>
<li class="chapter" data-level="2.2.3" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#build-a-format-from-a-dataset"><i class="fa fa-check"></i><b>2.2.3</b> Build a format from a dataset</a></li>
<li class="chapter" data-level="2.2.4" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#output-format-as-datasets"><i class="fa fa-check"></i><b>2.2.4</b> Output format as datasets</a></li>
<li class="chapter" data-level="2.2.5" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#delete-the-format"><i class="fa fa-check"></i><b>2.2.5</b> Delete the format</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#array"><i class="fa fa-check"></i><b>2.3</b> Array</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#defining"><i class="fa fa-check"></i><b>2.3.1</b> Defining</a></li>
<li class="chapter" data-level="2.3.2" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#format-multiple-variables"><i class="fa fa-check"></i><b>2.3.2</b> Format multiple variables</a></li>
<li class="chapter" data-level="2.3.3" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#arrays"><i class="fa fa-check"></i><b>2.3.3</b> 2*2 arrays</a></li>
<li class="chapter" data-level="2.3.4" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#dynamic-element-list-using-macro-variables"><i class="fa fa-check"></i><b>2.3.4</b> Dynamic Element List using Macro Variables</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#retain"><i class="fa fa-check"></i><b>2.4</b> Retain</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#generate-serial-number"><i class="fa fa-check"></i><b>2.4.1</b> Generate Serial Number</a></li>
<li class="chapter" data-level="2.4.2" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#change-from-basilne"><i class="fa fa-check"></i><b>2.4.2</b> Change from Basilne</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#data-utilities"><i class="fa fa-check"></i><b>2.5</b> Data utilities</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#scan"><i class="fa fa-check"></i><b>2.5.1</b> %Scan</a></li>
<li class="chapter" data-level="2.5.2" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#eval-and-syseval"><i class="fa fa-check"></i><b>2.5.2</b> %eval and %syseval</a></li>
<li class="chapter" data-level="2.5.3" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#macro-variable-status"><i class="fa fa-check"></i><b>2.5.3</b> Macro variable status</a></li>
<li class="chapter" data-level="2.5.4" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#sysfunc"><i class="fa fa-check"></i><b>2.5.4</b> %SYSFUNC</a></li>
<li class="chapter" data-level="2.5.5" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#quoting-function"><i class="fa fa-check"></i><b>2.5.5</b> Quoting Function</a></li>
<li class="chapter" data-level="2.5.6" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#call-symput"><i class="fa fa-check"></i><b>2.5.6</b> Call Symput</a></li>
<li class="chapter" data-level="2.5.7" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#call-execute"><i class="fa fa-check"></i><b>2.5.7</b> Call Execute</a></li>
<li class="chapter" data-level="2.5.8" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#sysfunc-get-the-observations"><i class="fa fa-check"></i><b>2.5.8</b> %sysfunc get the observations</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#clean-up"><i class="fa fa-check"></i><b>2.6</b> Clean Up</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#basic-setting"><i class="fa fa-check"></i><b>2.6.1</b> Basic setting</a></li>
<li class="chapter" data-level="2.6.2" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#delete-datasets"><i class="fa fa-check"></i><b>2.6.2</b> Delete datasets</a></li>
<li class="chapter" data-level="2.6.3" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#deleting-formats"><i class="fa fa-check"></i><b>2.6.3</b> Deleting Formats</a></li>
<li class="chapter" data-level="2.6.4" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#remove-assigned-formats"><i class="fa fa-check"></i><b>2.6.4</b> Remove assigned formats</a></li>
<li class="chapter" data-level="2.6.5" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#delete-macro-variables"><i class="fa fa-check"></i><b>2.6.5</b> Delete macro variables</a></li>
<li class="chapter" data-level="2.6.6" data-path="data-management-in-sas.html"><a href="data-management-in-sas.html#delete-macro"><i class="fa fa-check"></i><b>2.6.6</b> Delete Macro</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-management-in-r.html"><a href="data-management-in-r.html"><i class="fa fa-check"></i><b>3</b> Data Management in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-management-in-r.html"><a href="data-management-in-r.html#basic-data-management"><i class="fa fa-check"></i><b>3.1</b> Basic data management</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-management-in-r.html"><a href="data-management-in-r.html#apply-family"><i class="fa fa-check"></i><b>3.1.1</b> apply family</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-management-in-r.html"><a href="data-management-in-r.html#importimput"><i class="fa fa-check"></i><b>3.2</b> import/imput</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-management-in-r.html"><a href="data-management-in-r.html#package-readr"><i class="fa fa-check"></i><b>3.2.1</b> Package readr</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-management-in-r.html"><a href="data-management-in-r.html#import-csv-data-1"><i class="fa fa-check"></i><b>3.2.2</b> Import csv data</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-management-in-r.html"><a href="data-management-in-r.html#import-txt-data"><i class="fa fa-check"></i><b>3.2.3</b> Import txt data</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-management-in-r.html"><a href="data-management-in-r.html#import-excel-data"><i class="fa fa-check"></i><b>3.2.4</b> Import excel data</a></li>
<li class="chapter" data-level="3.2.5" data-path="data-management-in-r.html"><a href="data-management-in-r.html#import-stata-data"><i class="fa fa-check"></i><b>3.2.5</b> Import stata data</a></li>
<li class="chapter" data-level="3.2.6" data-path="data-management-in-r.html"><a href="data-management-in-r.html#import-sas-data"><i class="fa fa-check"></i><b>3.2.6</b> Import SAS data</a></li>
<li class="chapter" data-level="3.2.7" data-path="data-management-in-r.html"><a href="data-management-in-r.html#copy-from-clipboard"><i class="fa fa-check"></i><b>3.2.7</b> Copy from clipboard</a></li>
<li class="chapter" data-level="3.2.8" data-path="data-management-in-r.html"><a href="data-management-in-r.html#save-and-write-objective-in-r"><i class="fa fa-check"></i><b>3.2.8</b> Save and write objective in R</a></li>
<li class="chapter" data-level="3.2.9" data-path="data-management-in-r.html"><a href="data-management-in-r.html#save-the-plot"><i class="fa fa-check"></i><b>3.2.9</b> Save the plot</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-management-in-r.html"><a href="data-management-in-r.html#package-tidyr"><i class="fa fa-check"></i><b>3.3</b> Package tidyr</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-management-in-r.html"><a href="data-management-in-r.html#cheat-sheet"><i class="fa fa-check"></i><b>3.3.1</b> CHEAT SHEET</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-management-in-r.html"><a href="data-management-in-r.html#pivoting"><i class="fa fa-check"></i><b>3.3.2</b> Pivoting</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-management-in-r.html"><a href="data-management-in-r.html#gather-and-spread"><i class="fa fa-check"></i><b>3.3.3</b> gather and spread</a></li>
<li class="chapter" data-level="3.3.4" data-path="data-management-in-r.html"><a href="data-management-in-r.html#separate-and-unite"><i class="fa fa-check"></i><b>3.3.4</b> separate and unite</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-management-in-r.html"><a href="data-management-in-r.html#package-dplyr"><i class="fa fa-check"></i><b>3.4</b> Package dplyr</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-management-in-r.html"><a href="data-management-in-r.html#cheat-sheet-1"><i class="fa fa-check"></i><b>3.4.1</b> CHEAT SHEET</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-management-in-r.html"><a href="data-management-in-r.html#across"><i class="fa fa-check"></i><b>3.4.2</b> across</a></li>
<li class="chapter" data-level="3.4.3" data-path="data-management-in-r.html"><a href="data-management-in-r.html#arrange"><i class="fa fa-check"></i><b>3.4.3</b> arrange</a></li>
<li class="chapter" data-level="3.4.4" data-path="data-management-in-r.html"><a href="data-management-in-r.html#coalesce"><i class="fa fa-check"></i><b>3.4.4</b> coalesce</a></li>
<li class="chapter" data-level="3.4.5" data-path="data-management-in-r.html"><a href="data-management-in-r.html#filter"><i class="fa fa-check"></i><b>3.4.5</b> filter</a></li>
<li class="chapter" data-level="3.4.6" data-path="data-management-in-r.html"><a href="data-management-in-r.html#if_else"><i class="fa fa-check"></i><b>3.4.6</b> if_else</a></li>
<li class="chapter" data-level="3.4.7" data-path="data-management-in-r.html"><a href="data-management-in-r.html#join"><i class="fa fa-check"></i><b>3.4.7</b> join</a></li>
<li class="chapter" data-level="3.4.8" data-path="data-management-in-r.html"><a href="data-management-in-r.html#mutate"><i class="fa fa-check"></i><b>3.4.8</b> mutate</a></li>
<li class="chapter" data-level="3.4.9" data-path="data-management-in-r.html"><a href="data-management-in-r.html#select"><i class="fa fa-check"></i><b>3.4.9</b> select</a></li>
<li class="chapter" data-level="3.4.10" data-path="data-management-in-r.html"><a href="data-management-in-r.html#summarise"><i class="fa fa-check"></i><b>3.4.10</b> summarise</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="data-management-in-r.html"><a href="data-management-in-r.html#package-stringr"><i class="fa fa-check"></i><b>3.5</b> Package stringr</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="data-management-in-r.html"><a href="data-management-in-r.html#cheat-sheet-2"><i class="fa fa-check"></i><b>3.5.1</b> CHEAT SHEET</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="data-management-in-r.html"><a href="data-management-in-r.html#package-forcats"><i class="fa fa-check"></i><b>3.6</b> Package forcats</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="data-management-in-r.html"><a href="data-management-in-r.html#cheat-sheet-3"><i class="fa fa-check"></i><b>3.6.1</b> CHEAT SHEET</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="data-management-in-r.html"><a href="data-management-in-r.html#package-lubridate"><i class="fa fa-check"></i><b>3.7</b> Package lubridate</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="data-management-in-r.html"><a href="data-management-in-r.html#cheat-sheet-4"><i class="fa fa-check"></i><b>3.7.1</b> CHEAT SHEET</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>4</b> ggplot2</a>
<ul>
<li class="chapter" data-level="4.1" data-path="ggplot2.html"><a href="ggplot2.html#parametric-rendering"><i class="fa fa-check"></i><b>4.1</b> Parametric Rendering</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="ggplot2.html"><a href="ggplot2.html#grammar"><i class="fa fa-check"></i><b>4.1.1</b> Grammar</a></li>
<li class="chapter" data-level="4.1.2" data-path="ggplot2.html"><a href="ggplot2.html#coordinate-system"><i class="fa fa-check"></i><b>4.1.2</b> Coordinate system</a></li>
<li class="chapter" data-level="4.1.3" data-path="ggplot2.html"><a href="ggplot2.html#legend"><i class="fa fa-check"></i><b>4.1.3</b> Legend</a></li>
<li class="chapter" data-level="4.1.4" data-path="ggplot2.html"><a href="ggplot2.html#geom"><i class="fa fa-check"></i><b>4.1.4</b> geom</a></li>
<li class="chapter" data-level="4.1.5" data-path="ggplot2.html"><a href="ggplot2.html#position"><i class="fa fa-check"></i><b>4.1.5</b> position</a></li>
<li class="chapter" data-level="4.1.6" data-path="ggplot2.html"><a href="ggplot2.html#scale"><i class="fa fa-check"></i><b>4.1.6</b> scale</a></li>
<li class="chapter" data-level="4.1.7" data-path="ggplot2.html"><a href="ggplot2.html#stat"><i class="fa fa-check"></i><b>4.1.7</b> stat</a></li>
<li class="chapter" data-level="4.1.8" data-path="ggplot2.html"><a href="ggplot2.html#color"><i class="fa fa-check"></i><b>4.1.8</b> Color</a></li>
<li class="chapter" data-level="4.1.9" data-path="ggplot2.html"><a href="ggplot2.html#thema"><i class="fa fa-check"></i><b>4.1.9</b> Thema</a></li>
<li class="chapter" data-level="4.1.10" data-path="ggplot2.html"><a href="ggplot2.html#saving-plots"><i class="fa fa-check"></i><b>4.1.10</b> Saving plots</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="ggplot2.html"><a href="ggplot2.html#scatter-plot"><i class="fa fa-check"></i><b>4.2</b> Scatter plot</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="ggplot2.html"><a href="ggplot2.html#grouping-aesthetic"><i class="fa fa-check"></i><b>4.2.1</b> Grouping Aesthetic</a></li>
<li class="chapter" data-level="4.2.2" data-path="ggplot2.html"><a href="ggplot2.html#facet"><i class="fa fa-check"></i><b>4.2.2</b> facet</a></li>
<li class="chapter" data-level="4.2.3" data-path="ggplot2.html"><a href="ggplot2.html#geom_smooth"><i class="fa fa-check"></i><b>4.2.3</b> geom_smooth</a></li>
<li class="chapter" data-level="4.2.4" data-path="ggplot2.html"><a href="ggplot2.html#dot-plot"><i class="fa fa-check"></i><b>4.2.4</b> Dot Plot</a></li>
<li class="chapter" data-level="4.2.5" data-path="ggplot2.html"><a href="ggplot2.html#label-and-title"><i class="fa fa-check"></i><b>4.2.5</b> Label and Title</a></li>
<li class="chapter" data-level="4.2.6" data-path="ggplot2.html"><a href="ggplot2.html#residuals"><i class="fa fa-check"></i><b>4.2.6</b> Residuals</a></li>
<li class="chapter" data-level="4.2.7" data-path="ggplot2.html"><a href="ggplot2.html#encircling"><i class="fa fa-check"></i><b>4.2.7</b> Encircling</a></li>
<li class="chapter" data-level="4.2.8" data-path="ggplot2.html"><a href="ggplot2.html#dumbbell-plot"><i class="fa fa-check"></i><b>4.2.8</b> Dumbbell Plot</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="ggplot2.html"><a href="ggplot2.html#histogram"><i class="fa fa-check"></i><b>4.3</b> Histogram</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="ggplot2.html"><a href="ggplot2.html#general-appearance"><i class="fa fa-check"></i><b>4.3.1</b> General appearance</a></li>
<li class="chapter" data-level="4.3.2" data-path="ggplot2.html"><a href="ggplot2.html#themes"><i class="fa fa-check"></i><b>4.3.2</b> Themes</a></li>
<li class="chapter" data-level="4.3.3" data-path="ggplot2.html"><a href="ggplot2.html#geom_freqpoly"><i class="fa fa-check"></i><b>4.3.3</b> geom_freqpoly()</a></li>
<li class="chapter" data-level="4.3.4" data-path="ggplot2.html"><a href="ggplot2.html#marginal-histogram-boxplot"><i class="fa fa-check"></i><b>4.3.4</b> Marginal Histogram / Boxplot</a></li>
<li class="chapter" data-level="4.3.5" data-path="ggplot2.html"><a href="ggplot2.html#scales"><i class="fa fa-check"></i><b>4.3.5</b> Scales</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="ggplot2.html"><a href="ggplot2.html#bar-plot"><i class="fa fa-check"></i><b>4.4</b> Bar plot</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="ggplot2.html"><a href="ggplot2.html#aesthetic"><i class="fa fa-check"></i><b>4.4.1</b> Aesthetic</a></li>
<li class="chapter" data-level="4.4.2" data-path="ggplot2.html"><a href="ggplot2.html#proportion"><i class="fa fa-check"></i><b>4.4.2</b> Proportion</a></li>
<li class="chapter" data-level="4.4.3" data-path="ggplot2.html"><a href="ggplot2.html#coord"><i class="fa fa-check"></i><b>4.4.3</b> coord</a></li>
<li class="chapter" data-level="4.4.4" data-path="ggplot2.html"><a href="ggplot2.html#statidentity"><i class="fa fa-check"></i><b>4.4.4</b> stat=“identity”</a></li>
<li class="chapter" data-level="4.4.5" data-path="ggplot2.html"><a href="ggplot2.html#ranking"><i class="fa fa-check"></i><b>4.4.5</b> Ranking</a></li>
<li class="chapter" data-level="4.4.6" data-path="ggplot2.html"><a href="ggplot2.html#means-and-error-bars"><i class="fa fa-check"></i><b>4.4.6</b> Means and error bars</a></li>
<li class="chapter" data-level="4.4.7" data-path="ggplot2.html"><a href="ggplot2.html#waffle-chart"><i class="fa fa-check"></i><b>4.4.7</b> Waffle Chart</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="ggplot2.html"><a href="ggplot2.html#box-plot"><i class="fa fa-check"></i><b>4.5</b> Box plot</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="ggplot2.html"><a href="ggplot2.html#varwidth"><i class="fa fa-check"></i><b>4.5.1</b> varwidth</a></li>
<li class="chapter" data-level="4.5.2" data-path="ggplot2.html"><a href="ggplot2.html#reorder"><i class="fa fa-check"></i><b>4.5.2</b> Reorder</a></li>
<li class="chapter" data-level="4.5.3" data-path="ggplot2.html"><a href="ggplot2.html#fill"><i class="fa fa-check"></i><b>4.5.3</b> Fill</a></li>
<li class="chapter" data-level="4.5.4" data-path="ggplot2.html"><a href="ggplot2.html#statidentity-1"><i class="fa fa-check"></i><b>4.5.4</b> stat=“identity”</a></li>
<li class="chapter" data-level="4.5.5" data-path="ggplot2.html"><a href="ggplot2.html#dot-box-plot"><i class="fa fa-check"></i><b>4.5.5</b> Dot + Box Plot</a></li>
<li class="chapter" data-level="4.5.6" data-path="ggplot2.html"><a href="ggplot2.html#violin-plot"><i class="fa fa-check"></i><b>4.5.6</b> Violin Plot</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="ggplot2.html"><a href="ggplot2.html#other-rendering"><i class="fa fa-check"></i><b>4.6</b> Other rendering</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="ggplot2.html"><a href="ggplot2.html#annotation"><i class="fa fa-check"></i><b>4.6.1</b> Annotation</a></li>
<li class="chapter" data-level="4.6.2" data-path="ggplot2.html"><a href="ggplot2.html#text-ggtext"><i class="fa fa-check"></i><b>4.6.2</b> Text: ggtext</a></li>
<li class="chapter" data-level="4.6.3" data-path="ggplot2.html"><a href="ggplot2.html#text-ggrepel"><i class="fa fa-check"></i><b>4.6.3</b> Text: ggrepel</a></li>
<li class="chapter" data-level="4.6.4" data-path="ggplot2.html"><a href="ggplot2.html#arrage-gridextra"><i class="fa fa-check"></i><b>4.6.4</b> Arrage: gridExtra</a></li>
<li class="chapter" data-level="4.6.5" data-path="ggplot2.html"><a href="ggplot2.html#interactive-charts-plotly"><i class="fa fa-check"></i><b>4.6.5</b> Interactive charts: plotly</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="ggplot2.html"><a href="ggplot2.html#diagrammer"><i class="fa fa-check"></i><b>4.7</b> DiagrammeR</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="ggplot2.html"><a href="ggplot2.html#basic-flowchart-using-grviz"><i class="fa fa-check"></i><b>4.7.1</b> Basic flowchart using <code>grViz</code></a></li>
<li class="chapter" data-level="4.7.2" data-path="ggplot2.html"><a href="ggplot2.html#graphviz-attributes"><i class="fa fa-check"></i><b>4.7.2</b> Graphviz Attributes</a></li>
<li class="chapter" data-level="4.7.3" data-path="ggplot2.html"><a href="ggplot2.html#gantt-chart"><i class="fa fa-check"></i><b>4.7.3</b> Gantt chart</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="ggplot2.html"><a href="ggplot2.html#ggstatsplot"><i class="fa fa-check"></i><b>4.8</b> ggstatsplot</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="ggplot2.html"><a href="ggplot2.html#ggbetweenstats"><i class="fa fa-check"></i><b>4.8.1</b> ggbetweenstats</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html"><i class="fa fa-check"></i><b>5</b> Descriptive Statistics in R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#package-pape"><i class="fa fa-check"></i><b>5.1</b> Package pape</a></li>
<li class="chapter" data-level="5.2" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#package-summarytools"><i class="fa fa-check"></i><b>5.2</b> Package summarytools</a></li>
<li class="chapter" data-level="5.3" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#package-comparegroups"><i class="fa fa-check"></i><b>5.3</b> Package compareGroups</a></li>
<li class="chapter" data-level="5.4" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#package-sjplot-for-models-summary"><i class="fa fa-check"></i><b>5.4</b> Package sjPlot for Models Summary</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#tab_model-and-options"><i class="fa fa-check"></i><b>5.4.1</b> tab_model and options</a></li>
<li class="chapter" data-level="5.4.2" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#mixed-models"><i class="fa fa-check"></i><b>5.4.2</b> Mixed Models</a></li>
<li class="chapter" data-level="5.4.3" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#plot_model"><i class="fa fa-check"></i><b>5.4.3</b> plot_model</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#package-kableextra"><i class="fa fa-check"></i><b>5.5</b> Package kableExtra</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#kable_styling"><i class="fa fa-check"></i><b>5.5.1</b> kable_styling</a></li>
<li class="chapter" data-level="5.5.2" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#columnrow-specification"><i class="fa fa-check"></i><b>5.5.2</b> Column/Row Specification</a></li>
<li class="chapter" data-level="5.5.3" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#grouping-columnsrows"><i class="fa fa-check"></i><b>5.5.3</b> Grouping columns/rows</a></li>
<li class="chapter" data-level="5.5.4" data-path="descriptive-statistics-in-r.html"><a href="descriptive-statistics-in-r.html#add-footnote"><i class="fa fa-check"></i><b>5.5.4</b> Add Footnote</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="parametric-test.html"><a href="parametric-test.html"><i class="fa fa-check"></i><b>6</b> Parametric Test</a>
<ul>
<li class="chapter" data-level="6.1" data-path="parametric-test.html"><a href="parametric-test.html#binomial-test"><i class="fa fa-check"></i><b>6.1</b> Binomial test</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="parametric-test.html"><a href="parametric-test.html#mathematical-formula"><i class="fa fa-check"></i><b>6.1.1</b> Mathematical Formula</a></li>
<li class="chapter" data-level="6.1.2" data-path="parametric-test.html"><a href="parametric-test.html#r-implementation"><i class="fa fa-check"></i><b>6.1.2</b> R implementation</a></li>
<li class="chapter" data-level="6.1.3" data-path="parametric-test.html"><a href="parametric-test.html#sas-implementation"><i class="fa fa-check"></i><b>6.1.3</b> SAS Implementation</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="parametric-test.html"><a href="parametric-test.html#fishers-exact-test"><i class="fa fa-check"></i><b>6.2</b> Fisher’s Exact Test</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="parametric-test.html"><a href="parametric-test.html#introduction-1"><i class="fa fa-check"></i><b>6.2.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2.2" data-path="parametric-test.html"><a href="parametric-test.html#sas-implementation-1"><i class="fa fa-check"></i><b>6.2.2</b> SAS implementation</a></li>
<li class="chapter" data-level="6.2.3" data-path="parametric-test.html"><a href="parametric-test.html#r-implementation-1"><i class="fa fa-check"></i><b>6.2.3</b> R implementation</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="parametric-test.html"><a href="parametric-test.html#sensitivity-and-specificity"><i class="fa fa-check"></i><b>6.3</b> Sensitivity and specificity</a></li>
<li class="chapter" data-level="6.4" data-path="parametric-test.html"><a href="parametric-test.html#mcnemars-test"><i class="fa fa-check"></i><b>6.4</b> McNemar’s test</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="parametric-test.html"><a href="parametric-test.html#introduction-2"><i class="fa fa-check"></i><b>6.4.1</b> introduction</a></li>
<li class="chapter" data-level="6.4.2" data-path="parametric-test.html"><a href="parametric-test.html#sas-implementation-2"><i class="fa fa-check"></i><b>6.4.2</b> SAS Implementation</a></li>
<li class="chapter" data-level="6.4.3" data-path="parametric-test.html"><a href="parametric-test.html#r-implementation-2"><i class="fa fa-check"></i><b>6.4.3</b> R Implementation</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="parametric-test.html"><a href="parametric-test.html#cochranmantelhaenszel-test"><i class="fa fa-check"></i><b>6.5</b> Cochran–Mantel–Haenszel Test</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="parametric-test.html"><a href="parametric-test.html#r-implementation-3"><i class="fa fa-check"></i><b>6.5.1</b> R implementation</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="parametric-test.html"><a href="parametric-test.html#correlation-test"><i class="fa fa-check"></i><b>6.6</b> Correlation Test</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="parametric-test.html"><a href="parametric-test.html#pearson-correlation"><i class="fa fa-check"></i><b>6.6.1</b> Pearson correlation</a></li>
<li class="chapter" data-level="6.6.2" data-path="parametric-test.html"><a href="parametric-test.html#spearman-correlation"><i class="fa fa-check"></i><b>6.6.2</b> Spearman correlation</a></li>
<li class="chapter" data-level="6.6.3" data-path="parametric-test.html"><a href="parametric-test.html#kendall-correlation"><i class="fa fa-check"></i><b>6.6.3</b> Kendall correlation</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="parametric-test.html"><a href="parametric-test.html#two-sample-t-test"><i class="fa fa-check"></i><b>6.7</b> Two Sample T-Test</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="parametric-test.html"><a href="parametric-test.html#inreoduction"><i class="fa fa-check"></i><b>6.7.1</b> Inreoduction</a></li>
<li class="chapter" data-level="6.7.2" data-path="parametric-test.html"><a href="parametric-test.html#sas-implementation-3"><i class="fa fa-check"></i><b>6.7.2</b> SAS implementation</a></li>
<li class="chapter" data-level="6.7.3" data-path="parametric-test.html"><a href="parametric-test.html#r-implementation-4"><i class="fa fa-check"></i><b>6.7.3</b> R implementation</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="parametric-test.html"><a href="parametric-test.html#normality-test"><i class="fa fa-check"></i><b>6.8</b> Normality test</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="parametric-test.html"><a href="parametric-test.html#sas-implementation-4"><i class="fa fa-check"></i><b>6.8.1</b> SAS implementation</a></li>
<li class="chapter" data-level="6.8.2" data-path="parametric-test.html"><a href="parametric-test.html#r-implementation-5"><i class="fa fa-check"></i><b>6.8.2</b> R implementation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="non-parametric-test.html"><a href="non-parametric-test.html"><i class="fa fa-check"></i><b>7</b> Non-Parametric Test</a>
<ul>
<li class="chapter" data-level="7.1" data-path="non-parametric-test.html"><a href="non-parametric-test.html#two-samples-hypotheses-testing"><i class="fa fa-check"></i><b>7.1</b> Two Samples Hypotheses Testing</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="non-parametric-test.html"><a href="non-parametric-test.html#sign-test-for-location-parameter-for-matched-paired-samples"><i class="fa fa-check"></i><b>7.1.1</b> Sign Test for Location Parameter for Matched Paired Samples</a></li>
<li class="chapter" data-level="7.1.2" data-path="non-parametric-test.html"><a href="non-parametric-test.html#wilcoxon-signed-rank-test-for-location-parameter-for-matched"><i class="fa fa-check"></i><b>7.1.2</b> Wilcoxon Signed-Rank Test for Location Parameter for Matched</a></li>
<li class="chapter" data-level="7.1.3" data-path="non-parametric-test.html"><a href="non-parametric-test.html#wilcoxon-rank-sum-test-for-location-parameter-for-two-independent-samples"><i class="fa fa-check"></i><b>7.1.3</b> Wilcoxon Rank-Sum Test for Location Parameter for Two Independent Samples</a></li>
<li class="chapter" data-level="7.1.4" data-path="non-parametric-test.html"><a href="non-parametric-test.html#ansari-bradley-test-for-scale-parameter-for-two-independent-samples"><i class="fa fa-check"></i><b>7.1.4</b> Ansari-Bradley Test for Scale Parameter for Two Independent Samples</a></li>
<li class="chapter" data-level="7.1.5" data-path="non-parametric-test.html"><a href="non-parametric-test.html#kolmogorov-smirnov-test-for-equality-of-distributions"><i class="fa fa-check"></i><b>7.1.5</b> Kolmogorov-Smirnov Test for Equality of Distributions</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="non-parametric-test.html"><a href="non-parametric-test.html#several-samples-hypotheses-testing"><i class="fa fa-check"></i><b>7.2</b> Several Samples Hypotheses Testing</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="non-parametric-test.html"><a href="non-parametric-test.html#friedman-rank-test-for-location-parameter-for-several-dependent-samples"><i class="fa fa-check"></i><b>7.2.1</b> Friedman Rank Test for Location Parameter for Several Dependent Samples</a></li>
<li class="chapter" data-level="7.2.2" data-path="non-parametric-test.html"><a href="non-parametric-test.html#kruskal-wallis-h-test-for-location-parameter"><i class="fa fa-check"></i><b>7.2.2</b> Kruskal-Wallis H-Test for Location Parameter</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="non-parametric-test.html"><a href="non-parametric-test.html#tests-for-categorical-data"><i class="fa fa-check"></i><b>7.3</b> Tests for Categorical Data</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="non-parametric-test.html"><a href="non-parametric-test.html#spearman-rank-correlation-coefficient-test"><i class="fa fa-check"></i><b>7.3.1</b> Spearman Rank Correlation Coefficient Test</a></li>
<li class="chapter" data-level="7.3.2" data-path="non-parametric-test.html"><a href="non-parametric-test.html#fisher-exact-test"><i class="fa fa-check"></i><b>7.3.2</b> Fisher Exact Test</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="non-parametric-test.html"><a href="non-parametric-test.html#permutation-test"><i class="fa fa-check"></i><b>7.4</b> Permutation test</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="non-parametric-test.html"><a href="non-parametric-test.html#introduction-3"><i class="fa fa-check"></i><b>7.4.1</b> Introduction</a></li>
<li class="chapter" data-level="7.4.2" data-path="non-parametric-test.html"><a href="non-parametric-test.html#package-coin"><i class="fa fa-check"></i><b>7.4.2</b> Package: coin</a></li>
<li class="chapter" data-level="7.4.3" data-path="non-parametric-test.html"><a href="non-parametric-test.html#one-way-permutation-test-of-independence-for-ordinal-data"><i class="fa fa-check"></i><b>7.4.3</b> One-way Permutation Test of Independence for Ordinal Data</a></li>
<li class="chapter" data-level="7.4.4" data-path="non-parametric-test.html"><a href="non-parametric-test.html#one-way-permutation-test-of-symmetry-for-ordinal-data"><i class="fa fa-check"></i><b>7.4.4</b> One-way Permutation Test of Symmetry for Ordinal Data</a></li>
<li class="chapter" data-level="7.4.5" data-path="non-parametric-test.html"><a href="non-parametric-test.html#permutation-tests-for-medians-and-percentiles"><i class="fa fa-check"></i><b>7.4.5</b> Permutation Tests for Medians and Percentiles</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html"><i class="fa fa-check"></i><b>8</b> Sample Size Calculation</a>
<ul>
<li class="chapter" data-level="8.1" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#distribution"><i class="fa fa-check"></i><b>8.1</b> Distribution</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#quantile-function-in-sas"><i class="fa fa-check"></i><b>8.1.1</b> Quantile Function in SAS</a></li>
<li class="chapter" data-level="8.1.2" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#binomial-distribution"><i class="fa fa-check"></i><b>8.1.2</b> Binomial distribution</a></li>
<li class="chapter" data-level="8.1.3" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#negative-binomial-distribution"><i class="fa fa-check"></i><b>8.1.3</b> Negative binomial distribution</a></li>
<li class="chapter" data-level="8.1.4" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#multinomial-distribution"><i class="fa fa-check"></i><b>8.1.4</b> Multinomial distribution</a></li>
<li class="chapter" data-level="8.1.5" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#normal-distribution"><i class="fa fa-check"></i><b>8.1.5</b> Normal Distribution</a></li>
<li class="chapter" data-level="8.1.6" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#multivariate-normal-distribution"><i class="fa fa-check"></i><b>8.1.6</b> Multivariate normal distribution</a></li>
<li class="chapter" data-level="8.1.7" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#poisson-distribution"><i class="fa fa-check"></i><b>8.1.7</b> Poisson distribution</a></li>
<li class="chapter" data-level="8.1.8" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#exponential-distribution"><i class="fa fa-check"></i><b>8.1.8</b> Exponential distribution</a></li>
<li class="chapter" data-level="8.1.9" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#gamma-distribution"><i class="fa fa-check"></i><b>8.1.9</b> Gamma distribution</a></li>
<li class="chapter" data-level="8.1.10" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#weibull-distribution"><i class="fa fa-check"></i><b>8.1.10</b> Weibull Distribution</a></li>
<li class="chapter" data-level="8.1.11" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#chi-squared-distribution"><i class="fa fa-check"></i><b>8.1.11</b> Chi-Squared Distribution</a></li>
<li class="chapter" data-level="8.1.12" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#beta-distribution"><i class="fa fa-check"></i><b>8.1.12</b> Beta Distribution</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#binomial-ci"><i class="fa fa-check"></i><b>8.2</b> Binomial CI</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#point-estimates"><i class="fa fa-check"></i><b>8.2.1</b> Point Estimates</a></li>
<li class="chapter" data-level="8.2.2" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#binomial-ci-for-small-samples"><i class="fa fa-check"></i><b>8.2.2</b> Binomial CI for Small Samples</a></li>
<li class="chapter" data-level="8.2.3" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#r-packages"><i class="fa fa-check"></i><b>8.2.3</b> R Packages</a></li>
<li class="chapter" data-level="8.2.4" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#incidence-rate-ci"><i class="fa fa-check"></i><b>8.2.4</b> Incidence rate CI</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#test-1-sample-proportion"><i class="fa fa-check"></i><b>8.3</b> Test 1-Sample Proportion</a></li>
<li class="chapter" data-level="8.4" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#test-2-sample-proportions"><i class="fa fa-check"></i><b>8.4</b> Test 2-Sample Proportions</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#technical-details"><i class="fa fa-check"></i><b>8.4.1</b> Technical details</a></li>
<li class="chapter" data-level="8.4.2" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#fishers-exact-test-1"><i class="fa fa-check"></i><b>8.4.2</b> Fisher’s Exact Test</a></li>
<li class="chapter" data-level="8.4.3" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#z-test-or-chi-square-test-pooled-and-unpooled"><i class="fa fa-check"></i><b>8.4.3</b> Z Test (or Chi-Square Test) (Pooled and Unpooled)</a></li>
<li class="chapter" data-level="8.4.4" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#conditional-mantel-haenszel-test"><i class="fa fa-check"></i><b>8.4.4</b> Conditional Mantel-Haenszel Test</a></li>
<li class="chapter" data-level="8.4.5" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#paired-proportions-mcnemars-z-test"><i class="fa fa-check"></i><b>8.4.5</b> Paired Proportions: McNemar’s Z-test</a></li>
<li class="chapter" data-level="8.4.6" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#chi-square-test"><i class="fa fa-check"></i><b>8.4.6</b> Chi-square test</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#test-means"><i class="fa fa-check"></i><b>8.5</b> Test Mean(s)</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#one-sample-mean-2-sided-equality"><i class="fa fa-check"></i><b>8.5.1</b> One Sample Mean 2-Sided Equality</a></li>
<li class="chapter" data-level="8.5.2" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#sample-mean-non-inferiority-or-superiority"><i class="fa fa-check"></i><b>8.5.2</b> 1-Sample Mean Non-Inferiority or Superiority</a></li>
<li class="chapter" data-level="8.5.3" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#sample-mean-equivalence"><i class="fa fa-check"></i><b>8.5.3</b> 1-Sample Mean Equivalence</a></li>
<li class="chapter" data-level="8.5.4" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#sample-means-2-sided-equality"><i class="fa fa-check"></i><b>8.5.4</b> 2-Sample Means, 2-Sided Equality</a></li>
<li class="chapter" data-level="8.5.5" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#sample-means-1-sided"><i class="fa fa-check"></i><b>8.5.5</b> 2-Sample Means, 1-Sided</a></li>
<li class="chapter" data-level="8.5.6" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#sample-means-non-inferiority-or-superiority"><i class="fa fa-check"></i><b>8.5.6</b> 2-Sample Means Non-Inferiority or Superiority</a></li>
<li class="chapter" data-level="8.5.7" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#sample-means-equivalence"><i class="fa fa-check"></i><b>8.5.7</b> 2-Sample Means Equivalence</a></li>
<li class="chapter" data-level="8.5.8" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#t-test-using-pwr.t.test-or-pwr.t2n.test"><i class="fa fa-check"></i><b>8.5.8</b> T-Test using <code>pwr.t.test</code> or <code>pwr.t2n.test</code></a></li>
<li class="chapter" data-level="8.5.9" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#test-k-means"><i class="fa fa-check"></i><b>8.5.9</b> Test k Means</a></li>
<li class="chapter" data-level="8.5.10" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#anova-using-pwr.anova.test"><i class="fa fa-check"></i><b>8.5.10</b> Anova using <code>pwr.anova.test</code></a></li>
<li class="chapter" data-level="8.5.11" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#average-bioequivalence"><i class="fa fa-check"></i><b>8.5.11</b> Average Bioequivalence</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#other-methods"><i class="fa fa-check"></i><b>8.6</b> Other Methods</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#odds-ratio"><i class="fa fa-check"></i><b>8.6.1</b> Odds Ratio</a></li>
<li class="chapter" data-level="8.6.2" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#correlation"><i class="fa fa-check"></i><b>8.6.2</b> Correlation</a></li>
<li class="chapter" data-level="8.6.3" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#correlated-binary-data-ophthalmologic-studies"><i class="fa fa-check"></i><b>8.6.3</b> Correlated Binary Data: Ophthalmologic Studies</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#multiple-test"><i class="fa fa-check"></i><b>8.7</b> Multiple test</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#definitions-of-power"><i class="fa fa-check"></i><b>8.7.1</b> Definitions of Power</a></li>
<li class="chapter" data-level="8.7.2" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#bonferroni-tests-individual-power"><i class="fa fa-check"></i><b>8.7.2</b> Bonferroni Tests (Individual Power)</a></li>
<li class="chapter" data-level="8.7.3" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#tukeys-method-individual-power"><i class="fa fa-check"></i><b>8.7.3</b> Tukey’s method (Individual Power)</a></li>
<li class="chapter" data-level="8.7.4" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#dunnetts-two-sided-tests-individual-power"><i class="fa fa-check"></i><b>8.7.4</b> Dunnett’s Two-Sided Tests (Individual Power)</a></li>
<li class="chapter" data-level="8.7.5" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#combined-power-simpower-and-plotsimpower"><i class="fa fa-check"></i><b>8.7.5</b> Combined Power %SimPower and %PlotSimPower</a></li>
<li class="chapter" data-level="8.7.6" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#dunnett-set-up-close-tests-in-r"><i class="fa fa-check"></i><b>8.7.6</b> Dunnett Set up Close Tests in R</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#time-to-event-data"><i class="fa fa-check"></i><b>8.8</b> Time-To-Event Data</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#cox-ph-2-sided-equality"><i class="fa fa-check"></i><b>8.8.1</b> Cox PH, 2-Sided Equality</a></li>
<li class="chapter" data-level="8.8.2" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#log-rank-tests-for-competing-risks"><i class="fa fa-check"></i><b>8.8.2</b> Log-Rank Tests for Competing Risks</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#estimation-in-diagnostic-test"><i class="fa fa-check"></i><b>8.9</b> Estimation in diagnostic test</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#adequate-sensitivityspecificity"><i class="fa fa-check"></i><b>8.9.1</b> Adequate sensitivity/specificity</a></li>
<li class="chapter" data-level="8.9.2" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#testing-sensitivity-or-specificity"><i class="fa fa-check"></i><b>8.9.2</b> Testing sensitivity (or specificity)</a></li>
<li class="chapter" data-level="8.9.3" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#likelihood-ratio-estimation"><i class="fa fa-check"></i><b>8.9.3</b> Likelihood ratio estimation</a></li>
<li class="chapter" data-level="8.9.4" data-path="sample-size-calculation.html"><a href="sample-size-calculation.html#roc-index-of-accuracy"><i class="fa fa-check"></i><b>8.9.4</b> ROC index of accuracy</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="anova.html"><a href="anova.html"><i class="fa fa-check"></i><b>9</b> ANOVA</a>
<ul>
<li class="chapter" data-level="9.1" data-path="anova.html"><a href="anova.html#unstructured-models"><i class="fa fa-check"></i><b>9.1</b> Unstructured Models</a></li>
<li class="chapter" data-level="9.2" data-path="anova.html"><a href="anova.html#balanced-one-way-analysis-of-variance-anova"><i class="fa fa-check"></i><b>9.2</b> Balanced One-Way Analysis-of-Variance (ANOVA)</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="anova.html"><a href="anova.html#modeling-assumptions-and-basic-analysis"><i class="fa fa-check"></i><b>9.2.1</b> Modeling Assumptions and Basic Analysis</a></li>
<li class="chapter" data-level="9.2.2" data-path="anova.html"><a href="anova.html#parameter-estimates"><i class="fa fa-check"></i><b>9.2.2</b> Parameter Estimates</a></li>
<li class="chapter" data-level="9.2.3" data-path="anova.html"><a href="anova.html#r-implementation-6"><i class="fa fa-check"></i><b>9.2.3</b> R Implementation</a></li>
<li class="chapter" data-level="9.2.4" data-path="anova.html"><a href="anova.html#sas-implementation-5"><i class="fa fa-check"></i><b>9.2.4</b> SAS Implementation</a></li>
<li class="chapter" data-level="9.2.5" data-path="anova.html"><a href="anova.html#model-diagnosis"><i class="fa fa-check"></i><b>9.2.5</b> Model Diagnosis</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="anova.html"><a href="anova.html#unbalanced-one-way-anova-and-analysis-of-covariance-ancova"><i class="fa fa-check"></i><b>9.3</b> Unbalanced One-Way ANOVA and Analysis-of-Covariance (ANCOVA)</a></li>
<li class="chapter" data-level="9.4" data-path="anova.html"><a href="anova.html#two-ways-anova-test"><i class="fa fa-check"></i><b>9.4</b> Two-Ways ANOVA Test</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="anova.html"><a href="anova.html#introduction-4"><i class="fa fa-check"></i><b>9.4.1</b> Introduction</a></li>
<li class="chapter" data-level="9.4.2" data-path="anova.html"><a href="anova.html#r-implementation-7"><i class="fa fa-check"></i><b>9.4.2</b> R implementation</a></li>
<li class="chapter" data-level="9.4.3" data-path="anova.html"><a href="anova.html#sas-implementation-6"><i class="fa fa-check"></i><b>9.4.3</b> SAS Implementation</a></li>
<li class="chapter" data-level="9.4.4" data-path="anova.html"><a href="anova.html#unbalanced-design"><i class="fa fa-check"></i><b>9.4.4</b> Unbalanced design</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="anova.html"><a href="anova.html#heteroscedastic-responses"><i class="fa fa-check"></i><b>9.5</b> Heteroscedastic Responses</a></li>
<li class="chapter" data-level="9.6" data-path="anova.html"><a href="anova.html#repeated-measures-anova-data"><i class="fa fa-check"></i><b>9.6</b> Repeated Measures ANOVA Data</a></li>
<li class="chapter" data-level="9.7" data-path="anova.html"><a href="anova.html#multivariate-responses-with-normally-distributed-data"><i class="fa fa-check"></i><b>9.7</b> Multivariate Responses with Normally Distributed Data</a></li>
<li class="chapter" data-level="9.8" data-path="anova.html"><a href="anova.html#independent-observations-from-parametric-nonnormal-distributions"><i class="fa fa-check"></i><b>9.8</b> Independent Observations from Parametric Nonnormal Distributions</a></li>
<li class="chapter" data-level="9.9" data-path="anova.html"><a href="anova.html#dependent-observations-from-parametric-nonnormal-distributions"><i class="fa fa-check"></i><b>9.9</b> Dependent Observations from Parametric Nonnormal Distributions</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="multiple-comparison.html"><a href="multiple-comparison.html"><i class="fa fa-check"></i><b>10</b> Multiple-Comparison</a>
<ul>
<li class="chapter" data-level="10.1" data-path="multiple-comparison.html"><a href="multiple-comparison.html#introduction-5"><i class="fa fa-check"></i><b>10.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="multiple-comparison.html"><a href="multiple-comparison.html#multiplicity-problem"><i class="fa fa-check"></i><b>10.1.1</b> Multiplicity Problem</a></li>
<li class="chapter" data-level="10.1.2" data-path="multiple-comparison.html"><a href="multiple-comparison.html#error-rates"><i class="fa fa-check"></i><b>10.1.2</b> Error Rates</a></li>
<li class="chapter" data-level="10.1.3" data-path="multiple-comparison.html"><a href="multiple-comparison.html#the-adjusted-p"><i class="fa fa-check"></i><b>10.1.3</b> The adjusted P</a></li>
<li class="chapter" data-level="10.1.4" data-path="multiple-comparison.html"><a href="multiple-comparison.html#basic-statistical-concepts"><i class="fa fa-check"></i><b>10.1.4</b> Basic Statistical Concepts</a></li>
<li class="chapter" data-level="10.1.5" data-path="multiple-comparison.html"><a href="multiple-comparison.html#functions-in-glht-package-in-r"><i class="fa fa-check"></i><b>10.1.5</b> Functions in glht package in R</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="multiple-comparison.html"><a href="multiple-comparison.html#bonferroni-and-šidák-methods"><i class="fa fa-check"></i><b>10.2</b> Bonferroni and Šidák Methods</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="multiple-comparison.html"><a href="multiple-comparison.html#lsd-least-significance-difference"><i class="fa fa-check"></i><b>10.2.1</b> LSD (least significance difference)</a></li>
<li class="chapter" data-level="10.2.2" data-path="multiple-comparison.html"><a href="multiple-comparison.html#šidák"><i class="fa fa-check"></i><b>10.2.2</b> Šidák</a></li>
<li class="chapter" data-level="10.2.3" data-path="multiple-comparison.html"><a href="multiple-comparison.html#bonferroni"><i class="fa fa-check"></i><b>10.2.3</b> Bonferroni</a></li>
<li class="chapter" data-level="10.2.4" data-path="multiple-comparison.html"><a href="multiple-comparison.html#schweder-spjøtvoll-p-value-plot"><i class="fa fa-check"></i><b>10.2.4</b> Schweder-Spjøtvoll p-Value Plot</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="multiple-comparison.html"><a href="multiple-comparison.html#mcp-among-treatment-means-in-the-one-way-balanced-anova"><i class="fa fa-check"></i><b>10.3</b> MCP among Treatment Means in the One-Way Balanced ANOVA</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="multiple-comparison.html"><a href="multiple-comparison.html#ls-means"><i class="fa fa-check"></i><b>10.3.1</b> LS-Means</a></li>
<li class="chapter" data-level="10.3.2" data-path="multiple-comparison.html"><a href="multiple-comparison.html#the-multivariate-t-distribution"><i class="fa fa-check"></i><b>10.3.2</b> The Multivariate t Distribution</a></li>
<li class="chapter" data-level="10.3.3" data-path="multiple-comparison.html"><a href="multiple-comparison.html#calculating-the-critical-value-c_alpha"><i class="fa fa-check"></i><b>10.3.3</b> Calculating the Critical Value <span class="math inline">\(c_{\alpha}\)</span></a></li>
<li class="chapter" data-level="10.3.4" data-path="multiple-comparison.html"><a href="multiple-comparison.html#all-pairwise-comparisons-and-studentized-range-distribution"><i class="fa fa-check"></i><b>10.3.4</b> All Pairwise Comparisons and Studentized Range Distribution</a></li>
<li class="chapter" data-level="10.3.5" data-path="multiple-comparison.html"><a href="multiple-comparison.html#tukeys-method-for-all-pairwise-comparisons"><i class="fa fa-check"></i><b>10.3.5</b> Tukey’s Method for All Pairwise Comparisons</a></li>
<li class="chapter" data-level="10.3.6" data-path="multiple-comparison.html"><a href="multiple-comparison.html#displaying-pairwise-comparisons-graphically"><i class="fa fa-check"></i><b>10.3.6</b> Displaying Pairwise Comparisons Graphically</a></li>
<li class="chapter" data-level="10.3.7" data-path="multiple-comparison.html"><a href="multiple-comparison.html#dunnetts-two-sided-comparisons-with-a-control-and-dunnetts-two-sided-range-distribution"><i class="fa fa-check"></i><b>10.3.7</b> Dunnett’s Two-Sided Comparisons with a Control and Dunnett’s Two-Sided Range Distribution</a></li>
<li class="chapter" data-level="10.3.8" data-path="multiple-comparison.html"><a href="multiple-comparison.html#dunnetts-one-sided-comparisons-with-a-control"><i class="fa fa-check"></i><b>10.3.8</b> Dunnett’s One-Sided Comparisons with a Control</a></li>
<li class="chapter" data-level="10.3.9" data-path="multiple-comparison.html"><a href="multiple-comparison.html#maximum-modulus-distribution-multiple-inferences-for-independent-estimates"><i class="fa fa-check"></i><b>10.3.9</b> Maximum Modulus Distribution, Multiple Inferences for Independent Estimates</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="multiple-comparison.html"><a href="multiple-comparison.html#multiple-comparisons-among-treatment-means-in-the-one-way-unbalanced-anova"><i class="fa fa-check"></i><b>10.4</b> Multiple Comparisons among Treatment Means in the One-Way Unbalanced ANOVA</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="multiple-comparison.html"><a href="multiple-comparison.html#the-model-and-estimates"><i class="fa fa-check"></i><b>10.4.1</b> The Model and Estimates</a></li>
<li class="chapter" data-level="10.4.2" data-path="multiple-comparison.html"><a href="multiple-comparison.html#tukey-kramer-method"><i class="fa fa-check"></i><b>10.4.2</b> Tukey-Kramer Method</a></li>
<li class="chapter" data-level="10.4.3" data-path="multiple-comparison.html"><a href="multiple-comparison.html#alternative-simulation-based-method"><i class="fa fa-check"></i><b>10.4.3</b> Alternative Simulation-Based Method</a></li>
<li class="chapter" data-level="10.4.4" data-path="multiple-comparison.html"><a href="multiple-comparison.html#pairwise-comparisons-with-control"><i class="fa fa-check"></i><b>10.4.4</b> Pairwise Comparisons with Control</a></li>
<li class="chapter" data-level="10.4.5" data-path="multiple-comparison.html"><a href="multiple-comparison.html#comparisons-with-the-average-meananalysis-of-means-anom"><i class="fa fa-check"></i><b>10.4.5</b> Comparisons with the Average Mean–Analysis of Means (ANOM)</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="multiple-comparison.html"><a href="multiple-comparison.html#generalizations-for-the-analysis-of-covariance-ancova-model"><i class="fa fa-check"></i><b>10.5</b> Generalizations for the Analysis of Covariance (ANCOVA) model</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="multiple-comparison.html"><a href="multiple-comparison.html#dunnett-hsu-factor-analytic-approximation"><i class="fa fa-check"></i><b>10.5.1</b> Dunnett-Hsu Factor Analytic Approximation</a></li>
<li class="chapter" data-level="10.5.2" data-path="multiple-comparison.html"><a href="multiple-comparison.html#hsu-nelson-simulation-based-approximation-cvadjust-method"><i class="fa fa-check"></i><b>10.5.2</b> Hsu-Nelson Simulation-Based Approximation: CVADJUST Method</a></li>
<li class="chapter" data-level="10.5.3" data-path="multiple-comparison.html"><a href="multiple-comparison.html#comparisons-in-ancova-models-with-interaction"><i class="fa fa-check"></i><b>10.5.3</b> Comparisons in ANCOVA Models with Interaction</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="multiple-comparison.html"><a href="multiple-comparison.html#multiple-inferences-for-infinite-sets-of-parameters"><i class="fa fa-check"></i><b>10.6</b> Multiple Inferences for Infinite Sets of Parameters</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="multiple-comparison.html"><a href="multiple-comparison.html#scheffés-method"><i class="fa fa-check"></i><b>10.6.1</b> Scheffés Method</a></li>
<li class="chapter" data-level="10.6.2" data-path="multiple-comparison.html"><a href="multiple-comparison.html#finding-the-maximal-contrast"><i class="fa fa-check"></i><b>10.6.2</b> Finding the Maximal Contrast</a></li>
<li class="chapter" data-level="10.6.3" data-path="multiple-comparison.html"><a href="multiple-comparison.html#working-hotelling-method"><i class="fa fa-check"></i><b>10.6.3</b> Working-Hotelling method</a></li>
<li class="chapter" data-level="10.6.4" data-path="multiple-comparison.html"><a href="multiple-comparison.html#discrete-approximation-method"><i class="fa fa-check"></i><b>10.6.4</b> Discrete approximation method</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="multiple-comparison.html"><a href="multiple-comparison.html#multiple-comparisons-under-heteroscedasticity"><i class="fa fa-check"></i><b>10.7</b> Multiple Comparisons under Heteroscedasticity</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="multiple-comparison.html"><a href="multiple-comparison.html#introduction-of-heteroscedasticity"><i class="fa fa-check"></i><b>10.7.1</b> Introduction of heteroscedasticity</a></li>
<li class="chapter" data-level="10.7.2" data-path="multiple-comparison.html"><a href="multiple-comparison.html#satterthwaite-approximation"><i class="fa fa-check"></i><b>10.7.2</b> Satterthwaite Approximation</a></li>
<li class="chapter" data-level="10.7.3" data-path="multiple-comparison.html"><a href="multiple-comparison.html#maxt-method-under-heteroscedasticity"><i class="fa fa-check"></i><b>10.7.3</b> MaxT Method under Heteroscedasticity</a></li>
<li class="chapter" data-level="10.7.4" data-path="multiple-comparison.html"><a href="multiple-comparison.html#minp-method-under-heteroscedasticity"><i class="fa fa-check"></i><b>10.7.4</b> MinP Method under Heteroscedasticity</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="multiple-comparison.html"><a href="multiple-comparison.html#closed-and-stepwise-testing-methods"><i class="fa fa-check"></i><b>10.8</b> Closed and Stepwise Testing Methods</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="multiple-comparison.html"><a href="multiple-comparison.html#closed-family-of-hypotheses"><i class="fa fa-check"></i><b>10.8.1</b> Closed Family of Hypotheses</a></li>
<li class="chapter" data-level="10.8.2" data-path="multiple-comparison.html"><a href="multiple-comparison.html#bonferroni-holm-method"><i class="fa fa-check"></i><b>10.8.2</b> Bonferroni-Holm Method</a></li>
<li class="chapter" data-level="10.8.3" data-path="multiple-comparison.html"><a href="multiple-comparison.html#šidák-holm-method"><i class="fa fa-check"></i><b>10.8.3</b> Šidák-Holm Method</a></li>
<li class="chapter" data-level="10.8.4" data-path="multiple-comparison.html"><a href="multiple-comparison.html#closed-fisher-combination-method"><i class="fa fa-check"></i><b>10.8.4</b> Closed Fisher Combination Method</a></li>
<li class="chapter" data-level="10.8.5" data-path="multiple-comparison.html"><a href="multiple-comparison.html#simes-hommel-method"><i class="fa fa-check"></i><b>10.8.5</b> Simes-Hommel Method</a></li>
<li class="chapter" data-level="10.8.6" data-path="multiple-comparison.html"><a href="multiple-comparison.html#hochbergs-ok-step-up"><i class="fa fa-check"></i><b>10.8.6</b> Hochberg’s O(k) Step-Up</a></li>
<li class="chapter" data-level="10.8.7" data-path="multiple-comparison.html"><a href="multiple-comparison.html#sequential-testing-with-fixed-sequences"><i class="fa fa-check"></i><b>10.8.7</b> Sequential Testing with Fixed Sequences</a></li>
<li class="chapter" data-level="10.8.8" data-path="multiple-comparison.html"><a href="multiple-comparison.html#sequential-testing-using-gatekeeping-methods"><i class="fa fa-check"></i><b>10.8.8</b> Sequential Testing Using Gatekeeping Methods</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="multiple-comparison.html"><a href="multiple-comparison.html#closed-testing-of-pairwise-comparisons-and-general-contrasts"><i class="fa fa-check"></i><b>10.9</b> Closed Testing of Pairwise Comparisons and General Contrasts</a>
<ul>
<li class="chapter" data-level="10.9.1" data-path="multiple-comparison.html"><a href="multiple-comparison.html#incorporating-logical-constraints"><i class="fa fa-check"></i><b>10.9.1</b> Incorporating Logical Constraints</a></li>
<li class="chapter" data-level="10.9.2" data-path="multiple-comparison.html"><a href="multiple-comparison.html#shaffers-method"><i class="fa fa-check"></i><b>10.9.2</b> Shaffer’s Method</a></li>
<li class="chapter" data-level="10.9.3" data-path="multiple-comparison.html"><a href="multiple-comparison.html#extended-shaffer-royen-method"><i class="fa fa-check"></i><b>10.9.3</b> Extended Shaffer-Royen Method</a></li>
<li class="chapter" data-level="10.9.4" data-path="multiple-comparison.html"><a href="multiple-comparison.html#step-down-dunnett-test"><i class="fa fa-check"></i><b>10.9.4</b> Step-down Dunnett test</a></li>
</ul></li>
<li class="chapter" data-level="10.10" data-path="multiple-comparison.html"><a href="multiple-comparison.html#multiple-comparisons-with-binary-data"><i class="fa fa-check"></i><b>10.10</b> Multiple Comparisons with Binary Data</a>
<ul>
<li class="chapter" data-level="10.10.1" data-path="multiple-comparison.html"><a href="multiple-comparison.html#introduction-6"><i class="fa fa-check"></i><b>10.10.1</b> Introduction</a></li>
<li class="chapter" data-level="10.10.2" data-path="multiple-comparison.html"><a href="multiple-comparison.html#multivariate-two-sample-binary-outcomes"><i class="fa fa-check"></i><b>10.10.2</b> Multivariate Two-Sample Binary Outcomes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html"><i class="fa fa-check"></i><b>11</b> Correlation and Regression</a>
<ul>
<li class="chapter" data-level="11.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#correlation-1"><i class="fa fa-check"></i><b>11.1</b> Correlation</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#pearson-correlation-coefficient"><i class="fa fa-check"></i><b>11.1.1</b> Pearson correlation coefficient</a></li>
<li class="chapter" data-level="11.1.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#spearmans-rank-correlation-coefficient"><i class="fa fa-check"></i><b>11.1.2</b> Spearman’s rank correlation coefficient</a></li>
<li class="chapter" data-level="11.1.3" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#kendall-rank-correlation-coefficient"><i class="fa fa-check"></i><b>11.1.3</b> Kendall rank correlation coefficient</a></li>
<li class="chapter" data-level="11.1.4" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#intraclass-correlation"><i class="fa fa-check"></i><b>11.1.4</b> Intraclass correlation</a></li>
<li class="chapter" data-level="11.1.5" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#visualize-the-correlation-in-r"><i class="fa fa-check"></i><b>11.1.5</b> Visualize the correlation in R</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#ordinary-least-squares-ols"><i class="fa fa-check"></i><b>11.2</b> Ordinary least squares (OLS)</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#assumpions"><i class="fa fa-check"></i><b>11.2.1</b> Assumpions</a></li>
<li class="chapter" data-level="11.2.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#interpretation"><i class="fa fa-check"></i><b>11.2.2</b> Interpretation</a></li>
<li class="chapter" data-level="11.2.3" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#matrix-solution"><i class="fa fa-check"></i><b>11.2.3</b> Matrix Solution</a></li>
<li class="chapter" data-level="11.2.4" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#gauss-markov-theorem"><i class="fa fa-check"></i><b>11.2.4</b> Gauss-Markov Theorem</a></li>
<li class="chapter" data-level="11.2.5" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#limitation"><i class="fa fa-check"></i><b>11.2.5</b> limitation</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#model-statistics"><i class="fa fa-check"></i><b>11.3</b> Model Statistics</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#residuals-standard-error"><i class="fa fa-check"></i><b>11.3.1</b> Residuals Standard Error</a></li>
<li class="chapter" data-level="11.3.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#r-squared-and-adjusted-r-squared"><i class="fa fa-check"></i><b>11.3.2</b> R-Squared and Adjusted R-Squared</a></li>
<li class="chapter" data-level="11.3.3" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#t-statistic"><i class="fa fa-check"></i><b>11.3.3</b> T Statistic</a></li>
<li class="chapter" data-level="11.3.4" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#f-statistic"><i class="fa fa-check"></i><b>11.3.4</b> F Statistic</a></li>
<li class="chapter" data-level="11.3.5" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#confidence-intervals"><i class="fa fa-check"></i><b>11.3.5</b> Confidence Intervals</a></li>
<li class="chapter" data-level="11.3.6" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#likelihood-ratio-test"><i class="fa fa-check"></i><b>11.3.6</b> Likelihood-ratio test</a></li>
<li class="chapter" data-level="11.3.7" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#accuracy"><i class="fa fa-check"></i><b>11.3.7</b> Accuracy</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#model-diagnostics"><i class="fa fa-check"></i><b>11.4</b> Model Diagnostics</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#checking-error-assumptions"><i class="fa fa-check"></i><b>11.4.1</b> Checking Error Assumptions</a></li>
<li class="chapter" data-level="11.4.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#finding-unusual-observations"><i class="fa fa-check"></i><b>11.4.2</b> Finding Unusual Observations</a></li>
<li class="chapter" data-level="11.4.3" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#checking-the-structure-of-the-model"><i class="fa fa-check"></i><b>11.4.3</b> Checking the Structure of the Model</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#sas-implementation-proc-reg"><i class="fa fa-check"></i><b>11.5</b> SAS implementation Proc Reg</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#options"><i class="fa fa-check"></i><b>11.5.1</b> Options</a></li>
<li class="chapter" data-level="11.5.2" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#diagnose"><i class="fa fa-check"></i><b>11.5.2</b> Diagnose</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="correlation-and-regression.html"><a href="correlation-and-regression.html#r-implementation-8"><i class="fa fa-check"></i><b>11.6</b> R implementation</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html"><i class="fa fa-check"></i><b>12</b> Advanced Linear Regression</a>
<ul>
<li class="chapter" data-level="12.1" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#model-selection"><i class="fa fa-check"></i><b>12.1</b> Model Selection</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#selection-methods"><i class="fa fa-check"></i><b>12.1.1</b> Selection Methods</a></li>
<li class="chapter" data-level="12.1.2" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#selection-criteria"><i class="fa fa-check"></i><b>12.1.2</b> Selection Criteria</a></li>
<li class="chapter" data-level="12.1.3" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#k--fold-cross-validation"><i class="fa fa-check"></i><b>12.1.3</b> k- Fold Cross validation</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#practical-difficulties-using-ols"><i class="fa fa-check"></i><b>12.2</b> Practical Difficulties using OLS</a></li>
<li class="chapter" data-level="12.3" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#skewness"><i class="fa fa-check"></i><b>12.3</b> Skewness</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#introduction-7"><i class="fa fa-check"></i><b>12.3.1</b> Introduction</a></li>
<li class="chapter" data-level="12.3.2" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#baisc-transformation"><i class="fa fa-check"></i><b>12.3.2</b> Baisc Transformation</a></li>
<li class="chapter" data-level="12.3.3" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#box-cox-power-transformation"><i class="fa fa-check"></i><b>12.3.3</b> Box-Cox Power Transformation</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#scale-1"><i class="fa fa-check"></i><b>12.4</b> Scale</a></li>
<li class="chapter" data-level="12.5" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#interaction"><i class="fa fa-check"></i><b>12.5</b> Interaction</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#simple-slopes-analysis"><i class="fa fa-check"></i><b>12.5.1</b> Simple slopes analysis</a></li>
<li class="chapter" data-level="12.5.2" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#plotting-interactions"><i class="fa fa-check"></i><b>12.5.2</b> Plotting Interactions</a></li>
<li class="chapter" data-level="12.5.3" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#check-linearity-assumption"><i class="fa fa-check"></i><b>12.5.3</b> Check linearity assumption</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#collinearity"><i class="fa fa-check"></i><b>12.6</b> Collinearity</a></li>
<li class="chapter" data-level="12.7" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#problems-with-the-error"><i class="fa fa-check"></i><b>12.7</b> Problems with the Error</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#generalized-least-squares"><i class="fa fa-check"></i><b>12.7.1</b> Generalized Least Squares</a></li>
<li class="chapter" data-level="12.7.2" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#weighted-least-squares"><i class="fa fa-check"></i><b>12.7.2</b> Weighted Least Squares</a></li>
<li class="chapter" data-level="12.7.3" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#robust-regression"><i class="fa fa-check"></i><b>12.7.3</b> Robust Regression</a></li>
</ul></li>
<li class="chapter" data-level="12.8" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#shrinkage-methods"><i class="fa fa-check"></i><b>12.8</b> Shrinkage Methods</a>
<ul>
<li class="chapter" data-level="12.8.1" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#principal-components-analzsis"><i class="fa fa-check"></i><b>12.8.1</b> Principal Components Analzsis</a></li>
<li class="chapter" data-level="12.8.2" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#partial-least-squares"><i class="fa fa-check"></i><b>12.8.2</b> Partial Least Squares</a></li>
<li class="chapter" data-level="12.8.3" data-path="advanced-linear-regression.html"><a href="advanced-linear-regression.html#ridge-regression"><i class="fa fa-check"></i><b>12.8.3</b> Ridge Regression</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="logistic-regression.html"><a href="logistic-regression.html"><i class="fa fa-check"></i><b>13</b> Logistic Regression</a>
<ul>
<li class="chapter" data-level="13.1" data-path="logistic-regression.html"><a href="logistic-regression.html#introduction-8"><i class="fa fa-check"></i><b>13.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="logistic-regression.html"><a href="logistic-regression.html#violation-of-assumptions-of-ordinary-least-squares-ols"><i class="fa fa-check"></i><b>13.1.1</b> Violation of assumptions of Ordinary least squares (OLS)</a></li>
<li class="chapter" data-level="13.1.2" data-path="logistic-regression.html"><a href="logistic-regression.html#more-fundamental-problem-outside-01"><i class="fa fa-check"></i><b>13.1.2</b> More fundamental problem outside [0,1]</a></li>
<li class="chapter" data-level="13.1.3" data-path="logistic-regression.html"><a href="logistic-regression.html#logistic-regression-model"><i class="fa fa-check"></i><b>13.1.3</b> Logistic Regression Model</a></li>
<li class="chapter" data-level="13.1.4" data-path="logistic-regression.html"><a href="logistic-regression.html#estimation-of-the-logistic-model"><i class="fa fa-check"></i><b>13.1.4</b> Estimation of the Logistic Model</a></li>
<li class="chapter" data-level="13.1.5" data-path="logistic-regression.html"><a href="logistic-regression.html#convergence-problems"><i class="fa fa-check"></i><b>13.1.5</b> Convergence Problems</a></li>
<li class="chapter" data-level="13.1.6" data-path="logistic-regression.html"><a href="logistic-regression.html#use-exact-methods."><i class="fa fa-check"></i><b>13.1.6</b> Use exact methods.</a></li>
<li class="chapter" data-level="13.1.7" data-path="logistic-regression.html"><a href="logistic-regression.html#use-penalized-likelihood"><i class="fa fa-check"></i><b>13.1.7</b> Use penalized likelihood</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="logistic-regression.html"><a href="logistic-regression.html#logit-modell"><i class="fa fa-check"></i><b>13.2</b> Logit Modell</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="logistic-regression.html"><a href="logistic-regression.html#introduction-9"><i class="fa fa-check"></i><b>13.2.1</b> Introduction</a></li>
<li class="chapter" data-level="13.2.2" data-path="logistic-regression.html"><a href="logistic-regression.html#r-implementation-9"><i class="fa fa-check"></i><b>13.2.2</b> R Implementation</a></li>
<li class="chapter" data-level="13.2.3" data-path="logistic-regression.html"><a href="logistic-regression.html#sas-implementation-7"><i class="fa fa-check"></i><b>13.2.3</b> SAS Implementation</a></li>
<li class="chapter" data-level="13.2.4" data-path="logistic-regression.html"><a href="logistic-regression.html#multicollinearity"><i class="fa fa-check"></i><b>13.2.4</b> Multicollinearity</a></li>
<li class="chapter" data-level="13.2.5" data-path="logistic-regression.html"><a href="logistic-regression.html#goodness-of-fit-statistics-pearson-deviance"><i class="fa fa-check"></i><b>13.2.5</b> Goodness-of-Fit Statistics Pearson deviance</a></li>
<li class="chapter" data-level="13.2.6" data-path="logistic-regression.html"><a href="logistic-regression.html#hosmer-and-lemeshow-goodness-of-fit-test"><i class="fa fa-check"></i><b>13.2.6</b> Hosmer and Lemeshow Goodness-of-Fit Test</a></li>
<li class="chapter" data-level="13.2.7" data-path="logistic-regression.html"><a href="logistic-regression.html#statistics-measuring-predictive-power-r2"><i class="fa fa-check"></i><b>13.2.7</b> Statistics Measuring Predictive Power <span class="math inline">\(R^2\)</span></a></li>
<li class="chapter" data-level="13.2.8" data-path="logistic-regression.html"><a href="logistic-regression.html#roc-curves"><i class="fa fa-check"></i><b>13.2.8</b> ROC Curves</a></li>
<li class="chapter" data-level="13.2.9" data-path="logistic-regression.html"><a href="logistic-regression.html#predicted-values-residuals-and-influence-statistics"><i class="fa fa-check"></i><b>13.2.9</b> Predicted Values, Residuals, and Influence Statistics</a></li>
<li class="chapter" data-level="13.2.10" data-path="logistic-regression.html"><a href="logistic-regression.html#unobserved-heterogeneity"><i class="fa fa-check"></i><b>13.2.10</b> Unobserved Heterogeneity</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="logistic-regression.html"><a href="logistic-regression.html#illustration-in-sas"><i class="fa fa-check"></i><b>13.3</b> Illustration in SAS</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="logistic-regression.html"><a href="logistic-regression.html#effects-of-predictor-variables"><i class="fa fa-check"></i><b>13.3.1</b> Effects of Predictor Variables</a></li>
<li class="chapter" data-level="13.3.2" data-path="logistic-regression.html"><a href="logistic-regression.html#odds-ratio-plot"><i class="fa fa-check"></i><b>13.3.2</b> Odds ratio plot</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="logistic-regression.html"><a href="logistic-regression.html#probit-modell"><i class="fa fa-check"></i><b>13.4</b> Probit Modell</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="logistic-regression.html"><a href="logistic-regression.html#introduction-10"><i class="fa fa-check"></i><b>13.4.1</b> Introduction</a></li>
<li class="chapter" data-level="13.4.2" data-path="logistic-regression.html"><a href="logistic-regression.html#r-implemetation"><i class="fa fa-check"></i><b>13.4.2</b> R Implemetation</a></li>
<li class="chapter" data-level="13.4.3" data-path="logistic-regression.html"><a href="logistic-regression.html#sas-implementation-8"><i class="fa fa-check"></i><b>13.4.3</b> SAS Implementation</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="logistic-regression.html"><a href="logistic-regression.html#complementary-log-log-modell"><i class="fa fa-check"></i><b>13.5</b> Complementary log-log-Modell</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="logistic-regression.html"><a href="logistic-regression.html#r-implemetation-1"><i class="fa fa-check"></i><b>13.5.1</b> R Implemetation</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="logistic-regression.html"><a href="logistic-regression.html#multicategory-logit-models"><i class="fa fa-check"></i><b>13.6</b> Multicategory Logit Models</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="logistic-regression.html"><a href="logistic-regression.html#multinomialverteilung"><i class="fa fa-check"></i><b>13.6.1</b> Multinomialverteilung</a></li>
<li class="chapter" data-level="13.6.2" data-path="logistic-regression.html"><a href="logistic-regression.html#nominal-response"><i class="fa fa-check"></i><b>13.6.2</b> Nominal Response</a></li>
<li class="chapter" data-level="13.6.3" data-path="logistic-regression.html"><a href="logistic-regression.html#ordinal-response-cumulative-logit-model"><i class="fa fa-check"></i><b>13.6.3</b> Ordinal Response: Cumulative Logit Model</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="logistic-regression.html"><a href="logistic-regression.html#adjacent-categories-model"><i class="fa fa-check"></i><b>13.7</b> Adjacent Categories Model</a></li>
<li class="chapter" data-level="13.8" data-path="logistic-regression.html"><a href="logistic-regression.html#continuation-ratio-model"><i class="fa fa-check"></i><b>13.8</b> Continuation Ratio Model</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html"><i class="fa fa-check"></i><b>14</b> Advanced Logistic Regression</a>
<ul>
<li class="chapter" data-level="14.1" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#logit-analysis-of-contingency-tables"><i class="fa fa-check"></i><b>14.1</b> Logit Analysis of Contingency Tables</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#two-way-table"><i class="fa fa-check"></i><b>14.1.1</b> Two-Way Table</a></li>
<li class="chapter" data-level="14.1.2" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#three-way-table"><i class="fa fa-check"></i><b>14.1.2</b> Three-Way Table</a></li>
<li class="chapter" data-level="14.1.3" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#four-way-table"><i class="fa fa-check"></i><b>14.1.3</b> Four-Way Table</a></li>
<li class="chapter" data-level="14.1.4" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#overdispersion"><i class="fa fa-check"></i><b>14.1.4</b> Overdispersion</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#loglinear-analysis-of-contingency-tables"><i class="fa fa-check"></i><b>14.2</b> Loglinear Analysis of Contingency Tables</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#two-way-table-1"><i class="fa fa-check"></i><b>14.2.1</b> Two-way Table</a></li>
<li class="chapter" data-level="14.2.2" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#problem-of-zeros"><i class="fa fa-check"></i><b>14.2.2</b> Problem of Zeros</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#discrete-choice-analysis"><i class="fa fa-check"></i><b>14.3</b> Discrete Choice Analysis</a>
<ul>
<li class="chapter" data-level="14.3.1" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#logistic-strata"><i class="fa fa-check"></i><b>14.3.1</b> Logistic Strata</a></li>
<li class="chapter" data-level="14.3.2" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#conditional-logit-model"><i class="fa fa-check"></i><b>14.3.2</b> Conditional logit model</a></li>
<li class="chapter" data-level="14.3.3" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#ranked-data"><i class="fa fa-check"></i><b>14.3.3</b> Ranked Data</a></li>
<li class="chapter" data-level="14.3.4" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#heteroscedastic-extreme-value-hev-model"><i class="fa fa-check"></i><b>14.3.4</b> Heteroscedastic extreme value (HEV) Model</a></li>
<li class="chapter" data-level="14.3.5" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#nested-logit-model"><i class="fa fa-check"></i><b>14.3.5</b> Nested logit model</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#longitudinal-and-other-clustered-data"><i class="fa fa-check"></i><b>14.4</b> Longitudinal and Other Clustered Data</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#introduction-11"><i class="fa fa-check"></i><b>14.4.1</b> Introduction</a></li>
<li class="chapter" data-level="14.4.2" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#robust-standard-errors"><i class="fa fa-check"></i><b>14.4.2</b> Robust Standard Errors</a></li>
<li class="chapter" data-level="14.4.3" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#gee-estimation-with-proc-genmod"><i class="fa fa-check"></i><b>14.4.3</b> GEE Estimation with PROC GENMOD</a></li>
<li class="chapter" data-level="14.4.4" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#mixed-models-with-proc-glimmix"><i class="fa fa-check"></i><b>14.4.4</b> Mixed Models with PROC GLIMMIX</a></li>
<li class="chapter" data-level="14.4.5" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#fixed-effects-with-conditional-logistic-regression"><i class="fa fa-check"></i><b>14.4.5</b> Fixed-Effects with Conditional Logistic Regression</a></li>
<li class="chapter" data-level="14.4.6" data-path="advanced-logistic-regression.html"><a href="advanced-logistic-regression.html#hybrid-method"><i class="fa fa-check"></i><b>14.4.6</b> Hybrid Method</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="count-data-regression.html"><a href="count-data-regression.html"><i class="fa fa-check"></i><b>15</b> Count Data Regression</a>
<ul>
<li class="chapter" data-level="15.1" data-path="count-data-regression.html"><a href="count-data-regression.html#introduction-of-count-data-regression"><i class="fa fa-check"></i><b>15.1</b> Introduction of Count Data Regression</a></li>
<li class="chapter" data-level="15.2" data-path="count-data-regression.html"><a href="count-data-regression.html#poisson-regression"><i class="fa fa-check"></i><b>15.2</b> Poisson regression</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="count-data-regression.html"><a href="count-data-regression.html#model"><i class="fa fa-check"></i><b>15.2.1</b> Model</a></li>
<li class="chapter" data-level="15.2.2" data-path="count-data-regression.html"><a href="count-data-regression.html#interpretation-of-estimated-coefficients"><i class="fa fa-check"></i><b>15.2.2</b> Interpretation of Estimated Coefficients</a></li>
<li class="chapter" data-level="15.2.3" data-path="count-data-regression.html"><a href="count-data-regression.html#overdispersion-1"><i class="fa fa-check"></i><b>15.2.3</b> Overdispersion</a></li>
<li class="chapter" data-level="15.2.4" data-path="count-data-regression.html"><a href="count-data-regression.html#adjustment-for-varying-time-spans"><i class="fa fa-check"></i><b>15.2.4</b> Adjustment for Varying Time Spans</a></li>
<li class="chapter" data-level="15.2.5" data-path="count-data-regression.html"><a href="count-data-regression.html#sas-implementation-using-proc-genmod"><i class="fa fa-check"></i><b>15.2.5</b> SAS implementation using PROC GENMOD</a></li>
<li class="chapter" data-level="15.2.6" data-path="count-data-regression.html"><a href="count-data-regression.html#r-implementation-12"><i class="fa fa-check"></i><b>15.2.6</b> R implementation</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="count-data-regression.html"><a href="count-data-regression.html#negative-binomial-regression"><i class="fa fa-check"></i><b>15.3</b> Negative Binomial Regression</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="count-data-regression.html"><a href="count-data-regression.html#model-1"><i class="fa fa-check"></i><b>15.3.1</b> Model</a></li>
<li class="chapter" data-level="15.3.2" data-path="count-data-regression.html"><a href="count-data-regression.html#sas-implementation-11"><i class="fa fa-check"></i><b>15.3.2</b> SAS implementation</a></li>
<li class="chapter" data-level="15.3.3" data-path="count-data-regression.html"><a href="count-data-regression.html#r-implementation-13"><i class="fa fa-check"></i><b>15.3.3</b> R implementation</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="count-data-regression.html"><a href="count-data-regression.html#zero-truncated-poisson-regression-model"><i class="fa fa-check"></i><b>15.4</b> Zero-truncated Poisson Regression Model</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="count-data-regression.html"><a href="count-data-regression.html#model-2"><i class="fa fa-check"></i><b>15.4.1</b> Model</a></li>
<li class="chapter" data-level="15.4.2" data-path="count-data-regression.html"><a href="count-data-regression.html#sas-implementation-12"><i class="fa fa-check"></i><b>15.4.2</b> SAS Implementation</a></li>
<li class="chapter" data-level="15.4.3" data-path="count-data-regression.html"><a href="count-data-regression.html#r-implementation-14"><i class="fa fa-check"></i><b>15.4.3</b> R implementation</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="count-data-regression.html"><a href="count-data-regression.html#zero-insflated-model"><i class="fa fa-check"></i><b>15.5</b> Zero-Insflated Model</a>
<ul>
<li class="chapter" data-level="15.5.1" data-path="count-data-regression.html"><a href="count-data-regression.html#model-3"><i class="fa fa-check"></i><b>15.5.1</b> Model</a></li>
<li class="chapter" data-level="15.5.2" data-path="count-data-regression.html"><a href="count-data-regression.html#interpretation-of-estimated-coefficients-1"><i class="fa fa-check"></i><b>15.5.2</b> Interpretation of Estimated Coefficients</a></li>
<li class="chapter" data-level="15.5.3" data-path="count-data-regression.html"><a href="count-data-regression.html#sas-implementation-13"><i class="fa fa-check"></i><b>15.5.3</b> SAS Implementation</a></li>
<li class="chapter" data-level="15.5.4" data-path="count-data-regression.html"><a href="count-data-regression.html#r-implementation-15"><i class="fa fa-check"></i><b>15.5.4</b> R Implementation</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="count-data-regression.html"><a href="count-data-regression.html#hurdle-models"><i class="fa fa-check"></i><b>15.6</b> Hurdle models</a>
<ul>
<li class="chapter" data-level="15.6.1" data-path="count-data-regression.html"><a href="count-data-regression.html#model-4"><i class="fa fa-check"></i><b>15.6.1</b> Model</a></li>
<li class="chapter" data-level="15.6.2" data-path="count-data-regression.html"><a href="count-data-regression.html#sas-implementation-14"><i class="fa fa-check"></i><b>15.6.2</b> SAS Implementation</a></li>
<li class="chapter" data-level="15.6.3" data-path="count-data-regression.html"><a href="count-data-regression.html#r-implementation-16"><i class="fa fa-check"></i><b>15.6.3</b> R Implementation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="proportion-response-regression.html"><a href="proportion-response-regression.html"><i class="fa fa-check"></i><b>16</b> Proportion Response Regression</a>
<ul>
<li class="chapter" data-level="16.1" data-path="proportion-response-regression.html"><a href="proportion-response-regression.html#beta-regression"><i class="fa fa-check"></i><b>16.1</b> Beta Regression</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="proportion-response-regression.html"><a href="proportion-response-regression.html#model-5"><i class="fa fa-check"></i><b>16.1.1</b> Model</a></li>
<li class="chapter" data-level="16.1.2" data-path="proportion-response-regression.html"><a href="proportion-response-regression.html#sas-implementation-15"><i class="fa fa-check"></i><b>16.1.2</b> SAS Implementation</a></li>
<li class="chapter" data-level="16.1.3" data-path="proportion-response-regression.html"><a href="proportion-response-regression.html#r-implementation-betareg"><i class="fa fa-check"></i><b>16.1.3</b> R Implementation “betareg”</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="proportion-response-regression.html"><a href="proportion-response-regression.html#zero-inflated-beta-regression"><i class="fa fa-check"></i><b>16.2</b> Zero-inflated Beta Regression</a></li>
<li class="chapter" data-level="16.3" data-path="proportion-response-regression.html"><a href="proportion-response-regression.html#one-inflated-beta-regression"><i class="fa fa-check"></i><b>16.3</b> One-inflated Beta Regression</a></li>
<li class="chapter" data-level="16.4" data-path="proportion-response-regression.html"><a href="proportion-response-regression.html#zero-one-inflated-beta-regression"><i class="fa fa-check"></i><b>16.4</b> Zero-one-inflated Beta Regression</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="survival-analysis.html"><a href="survival-analysis.html"><i class="fa fa-check"></i><b>17</b> Survival Analysis</a>
<ul>
<li class="chapter" data-level="17.1" data-path="survival-analysis.html"><a href="survival-analysis.html#preliminary"><i class="fa fa-check"></i><b>17.1</b> Preliminary</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="survival-analysis.html"><a href="survival-analysis.html#probability-density-function"><i class="fa fa-check"></i><b>17.1.1</b> Probability density function</a></li>
<li class="chapter" data-level="17.1.2" data-path="survival-analysis.html"><a href="survival-analysis.html#cumulative-distribution-function"><i class="fa fa-check"></i><b>17.1.2</b> Cumulative distribution function</a></li>
<li class="chapter" data-level="17.1.3" data-path="survival-analysis.html"><a href="survival-analysis.html#survival-function"><i class="fa fa-check"></i><b>17.1.3</b> Survival function</a></li>
<li class="chapter" data-level="17.1.4" data-path="survival-analysis.html"><a href="survival-analysis.html#hazard-function"><i class="fa fa-check"></i><b>17.1.4</b> Hazard function</a></li>
<li class="chapter" data-level="17.1.5" data-path="survival-analysis.html"><a href="survival-analysis.html#cumulative-hazard-function"><i class="fa fa-check"></i><b>17.1.5</b> Cumulative hazard function</a></li>
<li class="chapter" data-level="17.1.6" data-path="survival-analysis.html"><a href="survival-analysis.html#mean-residual-life"><i class="fa fa-check"></i><b>17.1.6</b> Mean Residual Life</a></li>
<li class="chapter" data-level="17.1.7" data-path="survival-analysis.html"><a href="survival-analysis.html#relation-between-functions"><i class="fa fa-check"></i><b>17.1.7</b> Relation between functions</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="survival-analysis.html"><a href="survival-analysis.html#kaplan-meier-estimator"><i class="fa fa-check"></i><b>17.2</b> Kaplan-Meier estimator</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="survival-analysis.html"><a href="survival-analysis.html#km-introduction"><i class="fa fa-check"></i><b>17.2.1</b> KM Introduction</a></li>
<li class="chapter" data-level="17.2.2" data-path="survival-analysis.html"><a href="survival-analysis.html#nelson-aalen-estimator-of-the-cumulative-hazard-function"><i class="fa fa-check"></i><b>17.2.2</b> Nelson-Aalen estimator of the cumulative hazard function</a></li>
<li class="chapter" data-level="17.2.3" data-path="survival-analysis.html"><a href="survival-analysis.html#survival-curve-in-sas"><i class="fa fa-check"></i><b>17.2.3</b> Survival curve in SAS</a></li>
<li class="chapter" data-level="17.2.4" data-path="survival-analysis.html"><a href="survival-analysis.html#km-survival-plots-in-sas"><i class="fa fa-check"></i><b>17.2.4</b> KM Survival Plots in SAS</a></li>
<li class="chapter" data-level="17.2.5" data-path="survival-analysis.html"><a href="survival-analysis.html#convert-personal-level-to-personal-period-in-r"><i class="fa fa-check"></i><b>17.2.5</b> Convert Personal-level to Personal-period in R</a></li>
<li class="chapter" data-level="17.2.6" data-path="survival-analysis.html"><a href="survival-analysis.html#package-survfit-in-r"><i class="fa fa-check"></i><b>17.2.6</b> Package survfit in R</a></li>
<li class="chapter" data-level="17.2.7" data-path="survival-analysis.html"><a href="survival-analysis.html#km-survival-plots-in-r"><i class="fa fa-check"></i><b>17.2.7</b> KM Survival Plots in R</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="survival-analysis.html"><a href="survival-analysis.html#compare-the-survival-function"><i class="fa fa-check"></i><b>17.3</b> Compare the survival function</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="survival-analysis.html"><a href="survival-analysis.html#tests-of-equality-of-the-survival-function"><i class="fa fa-check"></i><b>17.3.1</b> Tests of equality of the survival function</a></li>
<li class="chapter" data-level="17.3.2" data-path="survival-analysis.html"><a href="survival-analysis.html#other-nonparametric-tests-for-strata-statement"><i class="fa fa-check"></i><b>17.3.2</b> Other nonparametric tests for STRATA statement</a></li>
<li class="chapter" data-level="17.3.3" data-path="survival-analysis.html"><a href="survival-analysis.html#multiple-comparisons"><i class="fa fa-check"></i><b>17.3.3</b> Multiple comparisons</a></li>
<li class="chapter" data-level="17.3.4" data-path="survival-analysis.html"><a href="survival-analysis.html#comparing-survival-functions-using-log-rank-hr"><i class="fa fa-check"></i><b>17.3.4</b> Comparing survival functions using Log-Rank HR</a></li>
<li class="chapter" data-level="17.3.5" data-path="survival-analysis.html"><a href="survival-analysis.html#mantel-haenszel-hr"><i class="fa fa-check"></i><b>17.3.5</b> Mantel-Haenszel HR</a></li>
<li class="chapter" data-level="17.3.6" data-path="survival-analysis.html"><a href="survival-analysis.html#analysis-of-covariance-adjustment"><i class="fa fa-check"></i><b>17.3.6</b> Analysis-of-covariance (Adjustment)</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="survival-analysis.html"><a href="survival-analysis.html#accelerated-failure-time-aft-model"><i class="fa fa-check"></i><b>17.4</b> Accelerated failure time (AFT) model</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="survival-analysis.html"><a href="survival-analysis.html#introduction-12"><i class="fa fa-check"></i><b>17.4.1</b> Introduction</a></li>
<li class="chapter" data-level="17.4.2" data-path="survival-analysis.html"><a href="survival-analysis.html#proc-lifereg"><i class="fa fa-check"></i><b>17.4.2</b> PROC LIFEREG</a></li>
<li class="chapter" data-level="17.4.3" data-path="survival-analysis.html"><a href="survival-analysis.html#residuum-distribution"><i class="fa fa-check"></i><b>17.4.3</b> Residuum distribution</a></li>
<li class="chapter" data-level="17.4.4" data-path="survival-analysis.html"><a href="survival-analysis.html#exponential-model"><i class="fa fa-check"></i><b>17.4.4</b> Exponential Model</a></li>
<li class="chapter" data-level="17.4.5" data-path="survival-analysis.html"><a href="survival-analysis.html#weibull-model"><i class="fa fa-check"></i><b>17.4.5</b> Weibull Model</a></li>
<li class="chapter" data-level="17.4.6" data-path="survival-analysis.html"><a href="survival-analysis.html#log-normal-model"><i class="fa fa-check"></i><b>17.4.6</b> Log-Normal Model</a></li>
<li class="chapter" data-level="17.4.7" data-path="survival-analysis.html"><a href="survival-analysis.html#log-logistic-model"><i class="fa fa-check"></i><b>17.4.7</b> Log-Logistic Model</a></li>
<li class="chapter" data-level="17.4.8" data-path="survival-analysis.html"><a href="survival-analysis.html#fit-statistics-for-model-comparsion"><i class="fa fa-check"></i><b>17.4.8</b> Fit statistics for model comparsion</a></li>
<li class="chapter" data-level="17.4.9" data-path="survival-analysis.html"><a href="survival-analysis.html#graphical-method-for-distinguishing-different-distributions-in-sas"><i class="fa fa-check"></i><b>17.4.9</b> Graphical method for distinguishing different distributions in SAS</a></li>
<li class="chapter" data-level="17.4.10" data-path="survival-analysis.html"><a href="survival-analysis.html#prediction-and-hazard-function"><i class="fa fa-check"></i><b>17.4.10</b> Prediction and hazard function</a></li>
<li class="chapter" data-level="17.4.11" data-path="survival-analysis.html"><a href="survival-analysis.html#left-censoring-and-interval-censoring"><i class="fa fa-check"></i><b>17.4.11</b> Left Censoring and Interval Censoring</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="survival-analysis.html"><a href="survival-analysis.html#cox-proportional-hazards-model"><i class="fa fa-check"></i><b>17.5</b> Cox Proportional Hazards Model</a>
<ul>
<li class="chapter" data-level="17.5.1" data-path="survival-analysis.html"><a href="survival-analysis.html#introduction-13"><i class="fa fa-check"></i><b>17.5.1</b> Introduction</a></li>
<li class="chapter" data-level="17.5.2" data-path="survival-analysis.html"><a href="survival-analysis.html#parameter-estimate"><i class="fa fa-check"></i><b>17.5.2</b> Parameter estimate</a></li>
<li class="chapter" data-level="17.5.3" data-path="survival-analysis.html"><a href="survival-analysis.html#parameter-test"><i class="fa fa-check"></i><b>17.5.3</b> Parameter test</a></li>
<li class="chapter" data-level="17.5.4" data-path="survival-analysis.html"><a href="survival-analysis.html#graphs-of-the-survival-and-baseline-hazard-function-in-sas"><i class="fa fa-check"></i><b>17.5.4</b> Graphs of the survival and baseline hazard function in SAS</a></li>
<li class="chapter" data-level="17.5.5" data-path="survival-analysis.html"><a href="survival-analysis.html#check-proportional-hazards"><i class="fa fa-check"></i><b>17.5.5</b> Check proportional hazards</a></li>
<li class="chapter" data-level="17.5.6" data-path="survival-analysis.html"><a href="survival-analysis.html#dealing-with-nonproportionality"><i class="fa fa-check"></i><b>17.5.6</b> Dealing with nonproportionality</a></li>
<li class="chapter" data-level="17.5.7" data-path="survival-analysis.html"><a href="survival-analysis.html#model-diagnostics-1"><i class="fa fa-check"></i><b>17.5.7</b> Model Diagnostics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html"><i class="fa fa-check"></i><b>18</b> Advanced Survival Analysis</a>
<ul>
<li class="chapter" data-level="18.1" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#tied-or-discrete-data"><i class="fa fa-check"></i><b>18.1</b> Tied or Discrete Data</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#introduction-of-tie"><i class="fa fa-check"></i><b>18.1.1</b> Introduction of Tie</a></li>
<li class="chapter" data-level="18.1.2" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#discrete-time"><i class="fa fa-check"></i><b>18.1.2</b> Discrete time</a></li>
<li class="chapter" data-level="18.1.3" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#notation-and-definitions"><i class="fa fa-check"></i><b>18.1.3</b> Notation and Definitions</a></li>
<li class="chapter" data-level="18.1.4" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#discrete-cox-regression"><i class="fa fa-check"></i><b>18.1.4</b> Discrete Cox Regression</a></li>
<li class="chapter" data-level="18.1.5" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#discrete-time-regression-models"><i class="fa fa-check"></i><b>18.1.5</b> Discrete-Time Regression Models</a></li>
<li class="chapter" data-level="18.1.6" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#the-glm-framework-and-person-period-data"><i class="fa fa-check"></i><b>18.1.6</b> The GLM Framework and Person-Period Data</a></li>
<li class="chapter" data-level="18.1.7" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#discrete-time-survival-analysis-in-r"><i class="fa fa-check"></i><b>18.1.7</b> Discrete-Time Survival Analysis in R</a></li>
<li class="chapter" data-level="18.1.8" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#discrete-cause-specific-hazards-model"><i class="fa fa-check"></i><b>18.1.8</b> Discrete Cause-Specific Hazards Model</a></li>
<li class="chapter" data-level="18.1.9" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#discrete-subdistribution-hazard-model"><i class="fa fa-check"></i><b>18.1.9</b> Discrete Subdistribution Hazard Model</a></li>
</ul></li>
<li class="chapter" data-level="18.2" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#time-dependent-covariates"><i class="fa fa-check"></i><b>18.2</b> Time-dependent covariates</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#introduction-14"><i class="fa fa-check"></i><b>18.2.1</b> Introduction</a></li>
<li class="chapter" data-level="18.2.2" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#programming-method"><i class="fa fa-check"></i><b>18.2.2</b> Programming method</a></li>
<li class="chapter" data-level="18.2.3" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#counting-method"><i class="fa fa-check"></i><b>18.2.3</b> Counting method</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#additive-hazards-regression-model"><i class="fa fa-check"></i><b>18.3</b> Additive Hazards Regression Model</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#preview"><i class="fa fa-check"></i><b>18.3.1</b> Preview</a></li>
<li class="chapter" data-level="18.3.2" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#lin-and-yings-additive-hazards-model"><i class="fa fa-check"></i><b>18.3.2</b> Lin and Ying’s additive hazards model</a></li>
<li class="chapter" data-level="18.3.3" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#aalens-additive-hazards-model"><i class="fa fa-check"></i><b>18.3.3</b> Aalen’s Additive Hazards Model</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#competing-risk"><i class="fa fa-check"></i><b>18.4</b> Competing Risk</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#introduction-15"><i class="fa fa-check"></i><b>18.4.1</b> Introduction</a></li>
<li class="chapter" data-level="18.4.2" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#type-specific-hazards"><i class="fa fa-check"></i><b>18.4.2</b> Type-specific hazards</a></li>
<li class="chapter" data-level="18.4.3" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#covariate-effects-via-cox-model"><i class="fa fa-check"></i><b>18.4.3</b> Covariate effects via COX model</a></li>
<li class="chapter" data-level="18.4.4" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#cumulative-incidence-function-cif"><i class="fa fa-check"></i><b>18.4.4</b> Cumulative incidence function (CIF)</a></li>
<li class="chapter" data-level="18.4.5" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#subdistribution-hazard-function"><i class="fa fa-check"></i><b>18.4.5</b> Subdistribution hazard function</a></li>
<li class="chapter" data-level="18.4.6" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#cause-specific-hazard-function"><i class="fa fa-check"></i><b>18.4.6</b> Cause-specific hazard function</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#clustered-events"><i class="fa fa-check"></i><b>18.5</b> Clustered Events</a>
<ul>
<li class="chapter" data-level="18.5.1" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#introduction-18"><i class="fa fa-check"></i><b>18.5.1</b> Introduction</a></li>
<li class="chapter" data-level="18.5.2" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#proportional-hazards-model-which-adopts-a-marginal"><i class="fa fa-check"></i><b>18.5.2</b> Proportional hazards model which adopts a marginal</a></li>
<li class="chapter" data-level="18.5.3" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#frailty-model"><i class="fa fa-check"></i><b>18.5.3</b> Frailty model</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#non-proportional-hazards-in-survival-analysis"><i class="fa fa-check"></i><b>18.6</b> Non-proportional hazards in Survival Analysis</a>
<ul>
<li class="chapter" data-level="18.6.1" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#weighted-piecewise-log-rank-test"><i class="fa fa-check"></i><b>18.6.1</b> Weighted Piecewise Log-Rank Test</a></li>
<li class="chapter" data-level="18.6.2" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#restricted-mean-survival-time-difference"><i class="fa fa-check"></i><b>18.6.2</b> Restricted Mean Survival Time Difference</a></li>
<li class="chapter" data-level="18.6.3" data-path="advanced-survival-analysis.html"><a href="advanced-survival-analysis.html#maximum-combination-test"><i class="fa fa-check"></i><b>18.6.3</b> Maximum Combination Test</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="mixed-model.html"><a href="mixed-model.html"><i class="fa fa-check"></i><b>19</b> Mixed Model</a>
<ul>
<li class="chapter" data-level="19.1" data-path="mixed-model.html"><a href="mixed-model.html#introduction-19"><i class="fa fa-check"></i><b>19.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="mixed-model.html"><a href="mixed-model.html#correlated-response-data"><i class="fa fa-check"></i><b>19.1.1</b> Correlated response data</a></li>
<li class="chapter" data-level="19.1.2" data-path="mixed-model.html"><a href="mixed-model.html#hierarchical-and-marginal-model"><i class="fa fa-check"></i><b>19.1.2</b> Hierarchical and Marginal model</a></li>
<li class="chapter" data-level="19.1.3" data-path="mixed-model.html"><a href="mixed-model.html#mle-in-marginal-model"><i class="fa fa-check"></i><b>19.1.3</b> MLE in Marginal model</a></li>
<li class="chapter" data-level="19.1.4" data-path="mixed-model.html"><a href="mixed-model.html#reml-in-marginal-model"><i class="fa fa-check"></i><b>19.1.4</b> REML in Marginal model</a></li>
<li class="chapter" data-level="19.1.5" data-path="mixed-model.html"><a href="mixed-model.html#variance-correction"><i class="fa fa-check"></i><b>19.1.5</b> Variance correction</a></li>
<li class="chapter" data-level="19.1.6" data-path="mixed-model.html"><a href="mixed-model.html#hypothesis-tests"><i class="fa fa-check"></i><b>19.1.6</b> Hypothesis tests</a></li>
<li class="chapter" data-level="19.1.7" data-path="mixed-model.html"><a href="mixed-model.html#residual-structure"><i class="fa fa-check"></i><b>19.1.7</b> Residual Structure</a></li>
<li class="chapter" data-level="19.1.8" data-path="mixed-model.html"><a href="mixed-model.html#converge-problems"><i class="fa fa-check"></i><b>19.1.8</b> Converge problems</a></li>
<li class="chapter" data-level="19.1.9" data-path="mixed-model.html"><a href="mixed-model.html#preface-of-linear-mixed-model"><i class="fa fa-check"></i><b>19.1.9</b> Preface of linear mixed model</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="mixed-model.html"><a href="mixed-model.html#random-slope-and-intercept-model"><i class="fa fa-check"></i><b>19.2</b> Random Slope and Intercept Model</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="mixed-model.html"><a href="mixed-model.html#model-introduction"><i class="fa fa-check"></i><b>19.2.1</b> Model Introduction</a></li>
<li class="chapter" data-level="19.2.2" data-path="mixed-model.html"><a href="mixed-model.html#sas-implementation-16"><i class="fa fa-check"></i><b>19.2.2</b> SAS Implementation</a></li>
<li class="chapter" data-level="19.2.3" data-path="mixed-model.html"><a href="mixed-model.html#r-implementation-17"><i class="fa fa-check"></i><b>19.2.3</b> R Implementation</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="mixed-model.html"><a href="mixed-model.html#covariance-structure"><i class="fa fa-check"></i><b>19.3</b> Covariance Structure</a>
<ul>
<li class="chapter" data-level="19.3.1" data-path="mixed-model.html"><a href="mixed-model.html#model-introduction-1"><i class="fa fa-check"></i><b>19.3.1</b> Model Introduction</a></li>
<li class="chapter" data-level="19.3.2" data-path="mixed-model.html"><a href="mixed-model.html#sas-implementation-17"><i class="fa fa-check"></i><b>19.3.2</b> SAS Implementation</a></li>
<li class="chapter" data-level="19.3.3" data-path="mixed-model.html"><a href="mixed-model.html#r-implementation-18"><i class="fa fa-check"></i><b>19.3.3</b> R Implementation</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="mixed-model.html"><a href="mixed-model.html#hierarchical-regression-model-for-normal-response"><i class="fa fa-check"></i><b>19.4</b> Hierarchical Regression Model for Normal Response</a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="mixed-model.html"><a href="mixed-model.html#introduction-20"><i class="fa fa-check"></i><b>19.4.1</b> Introduction</a></li>
<li class="chapter" data-level="19.4.2" data-path="mixed-model.html"><a href="mixed-model.html#sas-implementation-18"><i class="fa fa-check"></i><b>19.4.2</b> SAS Implementation</a></li>
<li class="chapter" data-level="19.4.3" data-path="mixed-model.html"><a href="mixed-model.html#r-implementation-19"><i class="fa fa-check"></i><b>19.4.3</b> R Implementation</a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="mixed-model.html"><a href="mixed-model.html#generalized-estimating-equation"><i class="fa fa-check"></i><b>19.5</b> Generalized Estimating Equation</a>
<ul>
<li class="chapter" data-level="19.5.1" data-path="mixed-model.html"><a href="mixed-model.html#introduction-of-gee"><i class="fa fa-check"></i><b>19.5.1</b> Introduction of GEE</a></li>
<li class="chapter" data-level="19.5.2" data-path="mixed-model.html"><a href="mixed-model.html#sas-implementation-19"><i class="fa fa-check"></i><b>19.5.2</b> SAS Implementation</a></li>
<li class="chapter" data-level="19.5.3" data-path="mixed-model.html"><a href="mixed-model.html#r-implementation-20"><i class="fa fa-check"></i><b>19.5.3</b> R Implementation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="glmm-and-gam.html"><a href="glmm-and-gam.html"><i class="fa fa-check"></i><b>20</b> GLMM and GAM</a>
<ul>
<li class="chapter" data-level="20.1" data-path="glmm-and-gam.html"><a href="glmm-and-gam.html#generalized-linear-mixed-model"><i class="fa fa-check"></i><b>20.1</b> Generalized Linear (Mixed) Model</a></li>
<li class="chapter" data-level="20.2" data-path="glmm-and-gam.html"><a href="glmm-and-gam.html#generalized-linear-model"><i class="fa fa-check"></i><b>20.2</b> Generalized Linear Model</a></li>
<li class="chapter" data-level="20.3" data-path="glmm-and-gam.html"><a href="glmm-and-gam.html#generalized-additive-models"><i class="fa fa-check"></i><b>20.3</b> Generalized Additive Models</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="glmm-and-gam.html"><a href="glmm-and-gam.html#concept"><i class="fa fa-check"></i><b>20.3.1</b> Concept</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="missing-data.html"><a href="missing-data.html"><i class="fa fa-check"></i><b>21</b> Missing Data</a>
<ul>
<li class="chapter" data-level="21.1" data-path="missing-data.html"><a href="missing-data.html#missing-mechanisms"><i class="fa fa-check"></i><b>21.1</b> Missing mechanisms</a></li>
<li class="chapter" data-level="21.2" data-path="missing-data.html"><a href="missing-data.html#compatibility-and-congeniality"><i class="fa fa-check"></i><b>21.2</b> Compatibility and Congeniality</a></li>
<li class="chapter" data-level="21.3" data-path="missing-data.html"><a href="missing-data.html#single-imputation"><i class="fa fa-check"></i><b>21.3</b> Single imputation</a></li>
<li class="chapter" data-level="21.4" data-path="missing-data.html"><a href="missing-data.html#multiple-imputation"><i class="fa fa-check"></i><b>21.4</b> Multiple imputation</a>
<ul>
<li class="chapter" data-level="21.4.1" data-path="missing-data.html"><a href="missing-data.html#joint-modeling-jm"><i class="fa fa-check"></i><b>21.4.1</b> Joint Modeling (JM)</a></li>
<li class="chapter" data-level="21.4.2" data-path="missing-data.html"><a href="missing-data.html#multiple-imputation-by-fully-conditional-specification-mice"><i class="fa fa-check"></i><b>21.4.2</b> Multiple Imputation by Fully Conditional Specification (MICE)</a></li>
</ul></li>
<li class="chapter" data-level="21.5" data-path="missing-data.html"><a href="missing-data.html#bayesian-linear-regression"><i class="fa fa-check"></i><b>21.5</b> Bayesian linear regression</a></li>
<li class="chapter" data-level="21.6" data-path="missing-data.html"><a href="missing-data.html#predictive-mean-matching"><i class="fa fa-check"></i><b>21.6</b> Predictive Mean Matching</a></li>
<li class="chapter" data-level="21.7" data-path="missing-data.html"><a href="missing-data.html#mice-using-random-forest"><i class="fa fa-check"></i><b>21.7</b> MICE using random forest</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="meta-analysis.html"><a href="meta-analysis.html"><i class="fa fa-check"></i><b>22</b> Meta Analysis</a>
<ul>
<li class="chapter" data-level="22.1" data-path="meta-analysis.html"><a href="meta-analysis.html#introduction-21"><i class="fa fa-check"></i><b>22.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="meta-analysis.html"><a href="meta-analysis.html#meta-analysis-for-different-data"><i class="fa fa-check"></i><b>22.1.1</b> meta-analysis for different data</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="meta-analysis.html"><a href="meta-analysis.html#fixed-effect-model-for-continuous-outcomes"><i class="fa fa-check"></i><b>22.2</b> Fixed Effect Model for Continuous Outcomes</a>
<ul>
<li class="chapter" data-level="22.2.1" data-path="meta-analysis.html"><a href="meta-analysis.html#effect-measures"><i class="fa fa-check"></i><b>22.2.1</b> Effect Measures</a></li>
<li class="chapter" data-level="22.2.2" data-path="meta-analysis.html"><a href="meta-analysis.html#standardized-mean-difference"><i class="fa fa-check"></i><b>22.2.2</b> Standardized Mean Difference</a></li>
<li class="chapter" data-level="22.2.3" data-path="meta-analysis.html"><a href="meta-analysis.html#inverse-variance-weighted-average-method"><i class="fa fa-check"></i><b>22.2.3</b> Inverse variance-weighted average method</a></li>
<li class="chapter" data-level="22.2.4" data-path="meta-analysis.html"><a href="meta-analysis.html#generic-inverse-variance-meta-analysis-metagen"><i class="fa fa-check"></i><b>22.2.4</b> Generic inverse variance meta-analysis <code>metagen</code></a></li>
<li class="chapter" data-level="22.2.5" data-path="meta-analysis.html"><a href="meta-analysis.html#weighted-sum-of-z-scores"><i class="fa fa-check"></i><b>22.2.5</b> Weighted Sum of Z-Scores</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="meta-analysis.html"><a href="meta-analysis.html#random-effects-model-for-continuous-outcomes"><i class="fa fa-check"></i><b>22.3</b> Random Effects Model for Continuous Outcomes</a>
<ul>
<li class="chapter" data-level="22.3.1" data-path="meta-analysis.html"><a href="meta-analysis.html#introduction-22"><i class="fa fa-check"></i><b>22.3.1</b> Introduction</a></li>
<li class="chapter" data-level="22.3.2" data-path="meta-analysis.html"><a href="meta-analysis.html#implementation"><i class="fa fa-check"></i><b>22.3.2</b> Implementation</a></li>
<li class="chapter" data-level="22.3.3" data-path="meta-analysis.html"><a href="meta-analysis.html#hartung-knapp-adjustment"><i class="fa fa-check"></i><b>22.3.3</b> Hartung-Knapp Adjustment</a></li>
</ul></li>
<li class="chapter" data-level="22.4" data-path="meta-analysis.html"><a href="meta-analysis.html#meta-regression"><i class="fa fa-check"></i><b>22.4</b> Meta-Regression</a></li>
<li class="chapter" data-level="22.5" data-path="meta-analysis.html"><a href="meta-analysis.html#meta-analysis-with-binary-outcomes"><i class="fa fa-check"></i><b>22.5</b> Meta-Analysis with Binary Outcomes</a>
<ul>
<li class="chapter" data-level="22.5.1" data-path="meta-analysis.html"><a href="meta-analysis.html#effect-measures-1"><i class="fa fa-check"></i><b>22.5.1</b> Effect Measures</a></li>
<li class="chapter" data-level="22.5.2" data-path="meta-analysis.html"><a href="meta-analysis.html#implementation-1"><i class="fa fa-check"></i><b>22.5.2</b> Implementation</a></li>
<li class="chapter" data-level="22.5.3" data-path="meta-analysis.html"><a href="meta-analysis.html#estimation-in-sparse-data---continuity-correction"><i class="fa fa-check"></i><b>22.5.3</b> Estimation in Sparse Data - Continuity correction</a></li>
<li class="chapter" data-level="22.5.4" data-path="meta-analysis.html"><a href="meta-analysis.html#peto-odds-ratio"><i class="fa fa-check"></i><b>22.5.4</b> Peto Odds Ratio</a></li>
<li class="chapter" data-level="22.5.5" data-path="meta-analysis.html"><a href="meta-analysis.html#fixed-effect-model-inverse-variance-method"><i class="fa fa-check"></i><b>22.5.5</b> Fixed Effect Model: Inverse Variance Method</a></li>
<li class="chapter" data-level="22.5.6" data-path="meta-analysis.html"><a href="meta-analysis.html#fixed-effect-model-mantelhaenszel-method"><i class="fa fa-check"></i><b>22.5.6</b> Fixed Effect Model: Mantel–Haenszel Method</a></li>
<li class="chapter" data-level="22.5.7" data-path="meta-analysis.html"><a href="meta-analysis.html#random-effects-model"><i class="fa fa-check"></i><b>22.5.7</b> Random Effects Model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="time-series-analysis.html"><a href="time-series-analysis.html"><i class="fa fa-check"></i><b>23</b> Time Series Analysis</a>
<ul>
<li class="chapter" data-level="23.1" data-path="time-series-analysis.html"><a href="time-series-analysis.html#fundational-concepts"><i class="fa fa-check"></i><b>23.1</b> Fundational Concepts</a>
<ul>
<li class="chapter" data-level="23.1.1" data-path="time-series-analysis.html"><a href="time-series-analysis.html#means-variances-and-covariances"><i class="fa fa-check"></i><b>23.1.1</b> Means, Variances, and Covariances</a></li>
<li class="chapter" data-level="23.1.2" data-path="time-series-analysis.html"><a href="time-series-analysis.html#properties-of-covariance"><i class="fa fa-check"></i><b>23.1.2</b> Properties of covariance</a></li>
<li class="chapter" data-level="23.1.3" data-path="time-series-analysis.html"><a href="time-series-analysis.html#properties-of-expectation"><i class="fa fa-check"></i><b>23.1.3</b> Properties of Expectation</a></li>
<li class="chapter" data-level="23.1.4" data-path="time-series-analysis.html"><a href="time-series-analysis.html#properties-of-variance"><i class="fa fa-check"></i><b>23.1.4</b> Properties of Variance</a></li>
<li class="chapter" data-level="23.1.5" data-path="time-series-analysis.html"><a href="time-series-analysis.html#the-random-walk"><i class="fa fa-check"></i><b>23.1.5</b> The Random Walk</a></li>
<li class="chapter" data-level="23.1.6" data-path="time-series-analysis.html"><a href="time-series-analysis.html#a-moving-average"><i class="fa fa-check"></i><b>23.1.6</b> A Moving Average</a></li>
<li class="chapter" data-level="23.1.7" data-path="time-series-analysis.html"><a href="time-series-analysis.html#strictly-stationarity"><i class="fa fa-check"></i><b>23.1.7</b> Strictly Stationarity</a></li>
<li class="chapter" data-level="23.1.8" data-path="time-series-analysis.html"><a href="time-series-analysis.html#weakly-or-second-order-stationary"><i class="fa fa-check"></i><b>23.1.8</b> Weakly (or second-order) stationary</a></li>
<li class="chapter" data-level="23.1.9" data-path="time-series-analysis.html"><a href="time-series-analysis.html#white-noise"><i class="fa fa-check"></i><b>23.1.9</b> White Noise</a></li>
<li class="chapter" data-level="23.1.10" data-path="time-series-analysis.html"><a href="time-series-analysis.html#deterministic-versus-stochastic-trends"><i class="fa fa-check"></i><b>23.1.10</b> Deterministic Versus Stochastic Trends</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="time-series-analysis.html"><a href="time-series-analysis.html#arma-models"><i class="fa fa-check"></i><b>23.2</b> ARMA models</a>
<ul>
<li class="chapter" data-level="23.2.1" data-path="time-series-analysis.html"><a href="time-series-analysis.html#general-linear-processes"><i class="fa fa-check"></i><b>23.2.1</b> General Linear Processes</a></li>
<li class="chapter" data-level="23.2.2" data-path="time-series-analysis.html"><a href="time-series-analysis.html#moving-average-processes"><i class="fa fa-check"></i><b>23.2.2</b> Moving Average Processes</a></li>
<li class="chapter" data-level="23.2.3" data-path="time-series-analysis.html"><a href="time-series-analysis.html#autoregressive-processes"><i class="fa fa-check"></i><b>23.2.3</b> Autoregressive Processes</a></li>
<li class="chapter" data-level="23.2.4" data-path="time-series-analysis.html"><a href="time-series-analysis.html#the-mixed-autoregressive-moving-average-model"><i class="fa fa-check"></i><b>23.2.4</b> The Mixed Autoregressive Moving Average Model</a></li>
<li class="chapter" data-level="23.2.5" data-path="time-series-analysis.html"><a href="time-series-analysis.html#invertibility"><i class="fa fa-check"></i><b>23.2.5</b> Invertibility</a></li>
<li class="chapter" data-level="23.2.6" data-path="time-series-analysis.html"><a href="time-series-analysis.html#fit-the-ar-model-in-r"><i class="fa fa-check"></i><b>23.2.6</b> Fit the AR model in R</a></li>
<li class="chapter" data-level="23.2.7" data-path="time-series-analysis.html"><a href="time-series-analysis.html#fit-the-ma-model-in-r"><i class="fa fa-check"></i><b>23.2.7</b> Fit the MA model in R</a></li>
</ul></li>
<li class="chapter" data-level="23.3" data-path="time-series-analysis.html"><a href="time-series-analysis.html#arima-models"><i class="fa fa-check"></i><b>23.3</b> ARIMA Models</a>
<ul>
<li class="chapter" data-level="23.3.1" data-path="time-series-analysis.html"><a href="time-series-analysis.html#stationarity-through-differencing"><i class="fa fa-check"></i><b>23.3.1</b> Stationarity Through Differencing</a></li>
<li class="chapter" data-level="23.3.2" data-path="time-series-analysis.html"><a href="time-series-analysis.html#arima-integrated-autoregressive-moving-average-model"><i class="fa fa-check"></i><b>23.3.2</b> ARIMA: Integrated autoregressive moving average model</a></li>
<li class="chapter" data-level="23.3.3" data-path="time-series-analysis.html"><a href="time-series-analysis.html#ima11-model"><i class="fa fa-check"></i><b>23.3.3</b> IMA(1,1) Model</a></li>
<li class="chapter" data-level="23.3.4" data-path="time-series-analysis.html"><a href="time-series-analysis.html#ari11-model"><i class="fa fa-check"></i><b>23.3.4</b> ARI(1,1) Model</a></li>
</ul></li>
<li class="chapter" data-level="23.4" data-path="time-series-analysis.html"><a href="time-series-analysis.html#time-series-graphics"><i class="fa fa-check"></i><b>23.4</b> Time series graphics</a>
<ul>
<li class="chapter" data-level="23.4.1" data-path="time-series-analysis.html"><a href="time-series-analysis.html#time-plots"><i class="fa fa-check"></i><b>23.4.1</b> Time plots</a></li>
<li class="chapter" data-level="23.4.2" data-path="time-series-analysis.html"><a href="time-series-analysis.html#seasonal-plots"><i class="fa fa-check"></i><b>23.4.2</b> Seasonal plots</a></li>
<li class="chapter" data-level="23.4.3" data-path="time-series-analysis.html"><a href="time-series-analysis.html#scatterplots-matrices"><i class="fa fa-check"></i><b>23.4.3</b> Scatterplots matrices</a></li>
<li class="chapter" data-level="23.4.4" data-path="time-series-analysis.html"><a href="time-series-analysis.html#lag-plots"><i class="fa fa-check"></i><b>23.4.4</b> Lag plots</a></li>
<li class="chapter" data-level="23.4.5" data-path="time-series-analysis.html"><a href="time-series-analysis.html#autocorrelation"><i class="fa fa-check"></i><b>23.4.5</b> Autocorrelation</a></li>
<li class="chapter" data-level="23.4.6" data-path="time-series-analysis.html"><a href="time-series-analysis.html#white-noise-1"><i class="fa fa-check"></i><b>23.4.6</b> White noise</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="propensity-score.html"><a href="propensity-score.html"><i class="fa fa-check"></i><b>24</b> Propensity Score</a>
<ul>
<li class="chapter" data-level="24.1" data-path="propensity-score.html"><a href="propensity-score.html#ate-att"><i class="fa fa-check"></i><b>24.1</b> ATE &amp; ATT</a></li>
<li class="chapter" data-level="24.2" data-path="propensity-score.html"><a href="propensity-score.html#propensity-score-matching"><i class="fa fa-check"></i><b>24.2</b> Propensity Score Matching</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="clinic-trail.html"><a href="clinic-trail.html"><i class="fa fa-check"></i><b>25</b> Clinic Trail</a>
<ul>
<li class="chapter" data-level="25.1" data-path="clinic-trail.html"><a href="clinic-trail.html#regulation"><i class="fa fa-check"></i><b>25.1</b> Regulation</a></li>
<li class="chapter" data-level="25.2" data-path="clinic-trail.html"><a href="clinic-trail.html#randomization"><i class="fa fa-check"></i><b>25.2</b> Randomization</a>
<ul>
<li class="chapter" data-level="25.2.1" data-path="clinic-trail.html"><a href="clinic-trail.html#simple-randomization"><i class="fa fa-check"></i><b>25.2.1</b> Simple randomization</a></li>
<li class="chapter" data-level="25.2.2" data-path="clinic-trail.html"><a href="clinic-trail.html#block-randomization"><i class="fa fa-check"></i><b>25.2.2</b> Block randomization</a></li>
<li class="chapter" data-level="25.2.3" data-path="clinic-trail.html"><a href="clinic-trail.html#stratified-randomization"><i class="fa fa-check"></i><b>25.2.3</b> Stratified randomization</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="clinic-trail.html"><a href="clinic-trail.html#phase-i-trials-design"><i class="fa fa-check"></i><b>25.3</b> Phase I Trials Design</a>
<ul>
<li class="chapter" data-level="25.3.1" data-path="clinic-trail.html"><a href="clinic-trail.html#introduction-23"><i class="fa fa-check"></i><b>25.3.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="25.4" data-path="clinic-trail.html"><a href="clinic-trail.html#pharmacokinetic-analysis-pk-package"><i class="fa fa-check"></i><b>25.4</b> Pharmacokinetic Analysis (PK package）</a>
<ul>
<li class="chapter" data-level="25.4.1" data-path="clinic-trail.html"><a href="clinic-trail.html#auc"><i class="fa fa-check"></i><b>25.4.1</b> AUC</a></li>
<li class="chapter" data-level="25.4.2" data-path="clinic-trail.html"><a href="clinic-trail.html#auc-in-complete-data-design"><i class="fa fa-check"></i><b>25.4.2</b> AUC in complete data design</a></li>
<li class="chapter" data-level="25.4.3" data-path="clinic-trail.html"><a href="clinic-trail.html#auc-in-repeated-complete-data-design"><i class="fa fa-check"></i><b>25.4.3</b> AUC in repeated complete data design</a></li>
<li class="chapter" data-level="25.4.4" data-path="clinic-trail.html"><a href="clinic-trail.html#bioequivalence-between-aucs"><i class="fa fa-check"></i><b>25.4.4</b> Bioequivalence between AUCs</a></li>
<li class="chapter" data-level="25.4.5" data-path="clinic-trail.html"><a href="clinic-trail.html#two-phase-half-life-estimation-by-biexponential-model"><i class="fa fa-check"></i><b>25.4.5</b> Two-phase half-life estimation by biexponential model</a></li>
<li class="chapter" data-level="25.4.6" data-path="clinic-trail.html"><a href="clinic-trail.html#two-phase-half-life-estimation-by-linear-fitting"><i class="fa fa-check"></i><b>25.4.6</b> Two-phase half-life estimation by linear fitting</a></li>
<li class="chapter" data-level="25.4.7" data-path="clinic-trail.html"><a href="clinic-trail.html#estimation-of-various-pk-parameters"><i class="fa fa-check"></i><b>25.4.7</b> Estimation of various PK parameters</a></li>
</ul></li>
<li class="chapter" data-level="25.5" data-path="clinic-trail.html"><a href="clinic-trail.html#phase-ii-trials-design"><i class="fa fa-check"></i><b>25.5</b> Phase II Trials Design</a>
<ul>
<li class="chapter" data-level="25.5.1" data-path="clinic-trail.html"><a href="clinic-trail.html#introduction-24"><i class="fa fa-check"></i><b>25.5.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="25.6" data-path="clinic-trail.html"><a href="clinic-trail.html#phase-iii-trials-design"><i class="fa fa-check"></i><b>25.6</b> Phase III Trials Design</a>
<ul>
<li class="chapter" data-level="25.6.1" data-path="clinic-trail.html"><a href="clinic-trail.html#introduction-25"><i class="fa fa-check"></i><b>25.6.1</b> Introduction</a></li>
<li class="chapter" data-level="25.6.2" data-path="clinic-trail.html"><a href="clinic-trail.html#mediwound1"><i class="fa fa-check"></i><b>25.6.2</b> MEDIWOUND1</a></li>
</ul></li>
<li class="chapter" data-level="25.7" data-path="clinic-trail.html"><a href="clinic-trail.html#postmarketing-surveillance-pms"><i class="fa fa-check"></i><b>25.7</b> Postmarketing Surveillance (PMS)</a>
<ul>
<li class="chapter" data-level="25.7.1" data-path="clinic-trail.html"><a href="clinic-trail.html#phase-iv-and-pms"><i class="fa fa-check"></i><b>25.7.1</b> Phase IV and PMS</a></li>
</ul></li>
<li class="chapter" data-level="25.8" data-path="clinic-trail.html"><a href="clinic-trail.html#trials-design-phase-ii"><i class="fa fa-check"></i><b>25.8</b> Trials Design (Phase II)</a>
<ul>
<li class="chapter" data-level="25.8.1" data-path="clinic-trail.html"><a href="clinic-trail.html#flemings-two-stage-design"><i class="fa fa-check"></i><b>25.8.1</b> Fleming’s Two-Stage design</a></li>
<li class="chapter" data-level="25.8.2" data-path="clinic-trail.html"><a href="clinic-trail.html#simons-2-stage-design"><i class="fa fa-check"></i><b>25.8.2</b> Simon’s 2-Stage Design</a></li>
<li class="chapter" data-level="25.8.3" data-path="clinic-trail.html"><a href="clinic-trail.html#jonckheere-terptsra-jt-trend-test"><i class="fa fa-check"></i><b>25.8.3</b> Jonckheere-Terptsra (JT) trend test</a></li>
<li class="chapter" data-level="25.8.4" data-path="clinic-trail.html"><a href="clinic-trail.html#cochran-armitage-ca-trend-test"><i class="fa fa-check"></i><b>25.8.4</b> Cochran-Armitage (CA) trend test</a></li>
<li class="chapter" data-level="25.8.5" data-path="clinic-trail.html"><a href="clinic-trail.html#mcp-mod"><i class="fa fa-check"></i><b>25.8.5</b> MCP-Mod</a></li>
<li class="chapter" data-level="25.8.6" data-path="clinic-trail.html"><a href="clinic-trail.html#two-stage-phase-ii-design-for-response-and-toxicity"><i class="fa fa-check"></i><b>25.8.6</b> Two Stage Phase II Design for Response and Toxicity</a></li>
</ul></li>
<li class="chapter" data-level="25.9" data-path="clinic-trail.html"><a href="clinic-trail.html#trials-design-phase-iii"><i class="fa fa-check"></i><b>25.9</b> Trials Design (Phase III)</a>
<ul>
<li class="chapter" data-level="25.9.1" data-path="clinic-trail.html"><a href="clinic-trail.html#non-inferiority-and-equivalence-three-armed-trial"><i class="fa fa-check"></i><b>25.9.1</b> Non-inferiority and Equivalence Three-armed trial</a></li>
<li class="chapter" data-level="25.9.2" data-path="clinic-trail.html"><a href="clinic-trail.html#pigeot-method"><i class="fa fa-check"></i><b>25.9.2</b> Pigeot Method</a></li>
</ul></li>
<li class="chapter" data-level="25.10" data-path="clinic-trail.html"><a href="clinic-trail.html#sample-size-calculation-1"><i class="fa fa-check"></i><b>25.10</b> Sample Size Calculation</a>
<ul>
<li class="chapter" data-level="25.10.1" data-path="clinic-trail.html"><a href="clinic-trail.html#chi-square-test-1"><i class="fa fa-check"></i><b>25.10.1</b> <strong>Chi-Square Test</strong></a></li>
<li class="chapter" data-level="25.10.2" data-path="clinic-trail.html"><a href="clinic-trail.html#fishers-exact-test-2"><i class="fa fa-check"></i><b>25.10.2</b> Fisher’s Exact Test</a></li>
<li class="chapter" data-level="25.10.3" data-path="clinic-trail.html"><a href="clinic-trail.html#t-test"><i class="fa fa-check"></i><b>25.10.3</b> T-Test</a></li>
</ul></li>
<li class="chapter" data-level="25.11" data-path="clinic-trail.html"><a href="clinic-trail.html#data-analysis-methods-in-cip"><i class="fa fa-check"></i><b>25.11</b> Data Analysis Methods in CIP</a>
<ul>
<li class="chapter" data-level="25.11.1" data-path="clinic-trail.html"><a href="clinic-trail.html#statistical-analysis-plan"><i class="fa fa-check"></i><b>25.11.1</b> Statistical Analysis Plan</a></li>
<li class="chapter" data-level="25.11.2" data-path="clinic-trail.html"><a href="clinic-trail.html#general-considerations"><i class="fa fa-check"></i><b>25.11.2</b> General Considerations</a></li>
<li class="chapter" data-level="25.11.3" data-path="clinic-trail.html"><a href="clinic-trail.html#analysis-sets"><i class="fa fa-check"></i><b>25.11.3</b> Analysis Sets</a></li>
<li class="chapter" data-level="25.11.4" data-path="clinic-trail.html"><a href="clinic-trail.html#patient-disposition"><i class="fa fa-check"></i><b>25.11.4</b> Patient Disposition</a></li>
<li class="chapter" data-level="25.11.5" data-path="clinic-trail.html"><a href="clinic-trail.html#patient-characteristics"><i class="fa fa-check"></i><b>25.11.5</b> Patient Characteristics</a></li>
<li class="chapter" data-level="25.11.6" data-path="clinic-trail.html"><a href="clinic-trail.html#treatment-compliance"><i class="fa fa-check"></i><b>25.11.6</b> Treatment Compliance</a></li>
<li class="chapter" data-level="25.11.7" data-path="clinic-trail.html"><a href="clinic-trail.html#descriptiveexplorative-analysis"><i class="fa fa-check"></i><b>25.11.7</b> Descriptive/Explorative Analysis</a></li>
<li class="chapter" data-level="25.11.8" data-path="clinic-trail.html"><a href="clinic-trail.html#efficacy-survival-analyses"><i class="fa fa-check"></i><b>25.11.8</b> Efficacy Survival Analyses</a></li>
<li class="chapter" data-level="25.11.9" data-path="clinic-trail.html"><a href="clinic-trail.html#efficacy-anova-analyses"><i class="fa fa-check"></i><b>25.11.9</b> Efficacy ANOVA Analyses</a></li>
<li class="chapter" data-level="25.11.10" data-path="clinic-trail.html"><a href="clinic-trail.html#efficacy-glm-dose-finding-study"><i class="fa fa-check"></i><b>25.11.10</b> Efficacy GLM Dose-Finding Study</a></li>
<li class="chapter" data-level="25.11.11" data-path="clinic-trail.html"><a href="clinic-trail.html#safety-analyses"><i class="fa fa-check"></i><b>25.11.11</b> Safety Analyses</a></li>
<li class="chapter" data-level="25.11.12" data-path="clinic-trail.html"><a href="clinic-trail.html#pharmacokinetic-and-pharmacodynamic-analyses"><i class="fa fa-check"></i><b>25.11.12</b> Pharmacokinetic and Pharmacodynamic Analyses</a></li>
<li class="chapter" data-level="25.11.13" data-path="clinic-trail.html"><a href="clinic-trail.html#immunogenicity-data-analyses"><i class="fa fa-check"></i><b>25.11.13</b> Immunogenicity Data Analyses</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="26" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html"><i class="fa fa-check"></i><b>26</b> Group (Adaptive) Sequential Design</a>
<ul>
<li class="chapter" data-level="26.1" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#classical-designs-without-futility-stopping"><i class="fa fa-check"></i><b>26.1</b> Classical Designs without futility stopping</a>
<ul>
<li class="chapter" data-level="26.1.1" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#pocock-method"><i class="fa fa-check"></i><b>26.1.1</b> Pocock Method</a></li>
<li class="chapter" data-level="26.1.2" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#obrien-fleming-method"><i class="fa fa-check"></i><b>26.1.2</b> O’Brien &amp; Fleming Method</a></li>
<li class="chapter" data-level="26.1.3" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#wang-tsiatis-method"><i class="fa fa-check"></i><b>26.1.3</b> Wang &amp; Tsiatis Method</a></li>
<li class="chapter" data-level="26.1.4" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#rejection-bounds-and-local-p-values"><i class="fa fa-check"></i><b>26.1.4</b> Rejection bounds and Local p-values</a></li>
<li class="chapter" data-level="26.1.5" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#power-and-sample-size"><i class="fa fa-check"></i><b>26.1.5</b> Power and Sample size</a></li>
</ul></li>
<li class="chapter" data-level="26.2" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#classical-designs-with-binding-futility-stopping"><i class="fa fa-check"></i><b>26.2</b> Classical Designs with binding futility stopping</a>
<ul>
<li class="chapter" data-level="26.2.1" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#symmetric-designs"><i class="fa fa-check"></i><b>26.2.1</b> Symmetric designs</a></li>
<li class="chapter" data-level="26.2.2" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#one-sided-designs"><i class="fa fa-check"></i><b>26.2.2</b> One-Sided Designs</a></li>
</ul></li>
<li class="chapter" data-level="26.3" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#alpha-spending-function-approach"><i class="fa fa-check"></i><b>26.3</b> Alpha Spending Function Approach</a></li>
<li class="chapter" data-level="26.4" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#r-implementation-using-rpact"><i class="fa fa-check"></i><b>26.4</b> R Implementation using rpact</a>
<ul>
<li class="chapter" data-level="26.4.1" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#basic-functions"><i class="fa fa-check"></i><b>26.4.1</b> Basic Functions</a></li>
<li class="chapter" data-level="26.4.2" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#getdesigngroupsequential-defining-efficacy-boundaries"><i class="fa fa-check"></i><b>26.4.2</b> <code>getDesignGroupSequential</code> defining efficacy boundaries</a></li>
</ul></li>
<li class="chapter" data-level="26.5" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#sample-size"><i class="fa fa-check"></i><b>26.5</b> Sample Size</a>
<ul>
<li class="chapter" data-level="26.5.1" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#sample-sizes-for-different-types-of-endpoints-without-ia"><i class="fa fa-check"></i><b>26.5.1</b> Sample Sizes for Different Types of Endpoints without IA</a></li>
<li class="chapter" data-level="26.5.2" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#two-groups-continuous-endpoint-without-ia"><i class="fa fa-check"></i><b>26.5.2</b> Two groups continuous endpoint (without IA)</a></li>
<li class="chapter" data-level="26.5.3" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#two-groups-binary-endpoint-without-ia"><i class="fa fa-check"></i><b>26.5.3</b> Two groups binary endpoint (without IA)</a></li>
<li class="chapter" data-level="26.5.4" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#group-sequential-designs-for-conti-and-binary"><i class="fa fa-check"></i><b>26.5.4</b> Group-sequential designs for conti and binary</a></li>
<li class="chapter" data-level="26.5.5" data-path="group-adaptive-sequential-design.html"><a href="group-adaptive-sequential-design.html#survival-endpoint"><i class="fa fa-check"></i><b>26.5.5</b> Survival endpoint</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="27" data-path="adaptive-designs.html"><a href="adaptive-designs.html"><i class="fa fa-check"></i><b>27</b> Adaptive designs</a>
<ul>
<li class="chapter" data-level="27.1" data-path="adaptive-designs.html"><a href="adaptive-designs.html#introduction-26"><i class="fa fa-check"></i><b>27.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="27.1.1" data-path="adaptive-designs.html"><a href="adaptive-designs.html#early-termination-due-to-futility"><i class="fa fa-check"></i><b>27.1.1</b> Early termination due to futility</a></li>
<li class="chapter" data-level="27.1.2" data-path="adaptive-designs.html"><a href="adaptive-designs.html#early-termination-due-to-efficacy"><i class="fa fa-check"></i><b>27.1.2</b> Early termination due to efficacy</a></li>
<li class="chapter" data-level="27.1.3" data-path="adaptive-designs.html"><a href="adaptive-designs.html#sample-size-reassessment"><i class="fa fa-check"></i><b>27.1.3</b> Sample size reassessment</a></li>
<li class="chapter" data-level="27.1.4" data-path="adaptive-designs.html"><a href="adaptive-designs.html#change-or-modification-of-the-primary-endpoint"><i class="fa fa-check"></i><b>27.1.4</b> Change or modification of the primary endpoint</a></li>
<li class="chapter" data-level="27.1.5" data-path="adaptive-designs.html"><a href="adaptive-designs.html#discontinuing-treatment-arms"><i class="fa fa-check"></i><b>27.1.5</b> Discontinuing treatment arms</a></li>
<li class="chapter" data-level="27.1.6" data-path="adaptive-designs.html"><a href="adaptive-designs.html#switching-between-superiority-and-non-inferiority"><i class="fa fa-check"></i><b>27.1.6</b> Switching between superiority and non-inferiority</a></li>
<li class="chapter" data-level="27.1.7" data-path="adaptive-designs.html"><a href="adaptive-designs.html#selection-of-the-patient-population"><i class="fa fa-check"></i><b>27.1.7</b> Selection of the patient population</a></li>
<li class="chapter" data-level="27.1.8" data-path="adaptive-designs.html"><a href="adaptive-designs.html#methods"><i class="fa fa-check"></i><b>27.1.8</b> Methods</a></li>
</ul></li>
<li class="chapter" data-level="27.2" data-path="adaptive-designs.html"><a href="adaptive-designs.html#general-theory"><i class="fa fa-check"></i><b>27.2</b> General Theory</a>
<ul>
<li class="chapter" data-level="27.2.1" data-path="adaptive-designs.html"><a href="adaptive-designs.html#stopping-boundary"><i class="fa fa-check"></i><b>27.2.1</b> Stopping Boundary</a></li>
<li class="chapter" data-level="27.2.2" data-path="adaptive-designs.html"><a href="adaptive-designs.html#power-and-adjusted-p-value"><i class="fa fa-check"></i><b>27.2.2</b> Power and Adjusted p-value</a></li>
<li class="chapter" data-level="27.2.3" data-path="adaptive-designs.html"><a href="adaptive-designs.html#stopping-probabilities-design-evaluation"><i class="fa fa-check"></i><b>27.2.3</b> Stopping Probabilities (Design Evaluation)</a></li>
<li class="chapter" data-level="27.2.4" data-path="adaptive-designs.html"><a href="adaptive-designs.html#expected-duration-of-an-adaptive-trial-design-evaluation"><i class="fa fa-check"></i><b>27.2.4</b> Expected Duration of an Adaptive Trial (Design Evaluation)</a></li>
<li class="chapter" data-level="27.2.5" data-path="adaptive-designs.html"><a href="adaptive-designs.html#expected-sample-sizes-design-evaluation"><i class="fa fa-check"></i><b>27.2.5</b> Expected Sample Sizes (Design Evaluation)</a></li>
<li class="chapter" data-level="27.2.6" data-path="adaptive-designs.html"><a href="adaptive-designs.html#conditional-power-and-futility-index"><i class="fa fa-check"></i><b>27.2.6</b> Conditional Power and futility index</a></li>
</ul></li>
<li class="chapter" data-level="27.3" data-path="adaptive-designs.html"><a href="adaptive-designs.html#method-with-direct-combination-of-p-values"><i class="fa fa-check"></i><b>27.3</b> Method with Direct Combination of p-values</a>
<ul>
<li class="chapter" data-level="27.3.1" data-path="adaptive-designs.html"><a href="adaptive-designs.html#method-based-on-individual-p-values"><i class="fa fa-check"></i><b>27.3.1</b> Method Based on Individual p-values</a></li>
<li class="chapter" data-level="27.3.2" data-path="adaptive-designs.html"><a href="adaptive-designs.html#method-based-on-the-sum-of-p-values"><i class="fa fa-check"></i><b>27.3.2</b> Method Based on the Sum of p-values</a></li>
<li class="chapter" data-level="27.3.3" data-path="adaptive-designs.html"><a href="adaptive-designs.html#method-with-product-of-p-values"><i class="fa fa-check"></i><b>27.3.3</b> Method with Product of p-values</a></li>
<li class="chapter" data-level="27.3.4" data-path="adaptive-designs.html"><a href="adaptive-designs.html#fishers-product-test-combination-tests"><i class="fa fa-check"></i><b>27.3.4</b> Fisher’s product test (Combination Tests)</a></li>
<li class="chapter" data-level="27.3.5" data-path="adaptive-designs.html"><a href="adaptive-designs.html#fishers-product-test-with-early-rej.-and-acceptance"><i class="fa fa-check"></i><b>27.3.5</b> Fisher’s product test with early rej. and acceptance</a></li>
</ul></li>
<li class="chapter" data-level="27.4" data-path="adaptive-designs.html"><a href="adaptive-designs.html#inverse-normal-combination-function"><i class="fa fa-check"></i><b>27.4</b> Inverse normal combination function</a></li>
</ul></li>
<li class="chapter" data-level="28" data-path="cdisc-1.html"><a href="cdisc-1.html"><i class="fa fa-check"></i><b>28</b> CDISC</a>
<ul>
<li class="chapter" data-level="28.1" data-path="cdisc-1.html"><a href="cdisc-1.html#study-data-tabulation-model-sdtm"><i class="fa fa-check"></i><b>28.1</b> Study Data Tabulation Model (SDTM)</a>
<ul>
<li class="chapter" data-level="28.1.1" data-path="cdisc-1.html"><a href="cdisc-1.html#introduction-27"><i class="fa fa-check"></i><b>28.1.1</b> Introduction</a></li>
<li class="chapter" data-level="28.1.2" data-path="cdisc-1.html"><a href="cdisc-1.html#model-concepts-and-terms"><i class="fa fa-check"></i><b>28.1.2</b> Model Concepts and Terms</a></li>
<li class="chapter" data-level="28.1.3" data-path="cdisc-1.html"><a href="cdisc-1.html#sdtm-domains"><i class="fa fa-check"></i><b>28.1.3</b> SDTM Domains</a></li>
<li class="chapter" data-level="28.1.4" data-path="cdisc-1.html"><a href="cdisc-1.html#sdtm-define.xml"><i class="fa fa-check"></i><b>28.1.4</b> SDTM Define.xml</a></li>
<li class="chapter" data-level="28.1.5" data-path="cdisc-1.html"><a href="cdisc-1.html#extract-transform-load-etl"><i class="fa fa-check"></i><b>28.1.5</b> Extract-Transform-Load (ETL)</a></li>
<li class="chapter" data-level="28.1.6" data-path="cdisc-1.html"><a href="cdisc-1.html#example-building-dm-sdtm-datasets"><i class="fa fa-check"></i><b>28.1.6</b> Example Building DM SDTM Datasets</a></li>
</ul></li>
<li class="chapter" data-level="28.2" data-path="cdisc-1.html"><a href="cdisc-1.html#sdtm-sas-macro"><i class="fa fa-check"></i><b>28.2</b> SDTM SAS Macro</a>
<ul>
<li class="chapter" data-level="28.2.1" data-path="cdisc-1.html"><a href="cdisc-1.html#make_define"><i class="fa fa-check"></i><b>28.2.1</b> ％make_define</a></li>
<li class="chapter" data-level="28.2.2" data-path="cdisc-1.html"><a href="cdisc-1.html#make_codelist_formats"><i class="fa fa-check"></i><b>28.2.2</b> %make_codelist_formats</a></li>
<li class="chapter" data-level="28.2.3" data-path="cdisc-1.html"><a href="cdisc-1.html#make_empty_dataset"><i class="fa fa-check"></i><b>28.2.3</b> %make_empty_dataset</a></li>
<li class="chapter" data-level="28.2.4" data-path="cdisc-1.html"><a href="cdisc-1.html#make_dtc_date"><i class="fa fa-check"></i><b>28.2.4</b> %make_dtc_date</a></li>
<li class="chapter" data-level="28.2.5" data-path="cdisc-1.html"><a href="cdisc-1.html#make_sdtm_dy"><i class="fa fa-check"></i><b>28.2.5</b> %make_sdtm_dy</a></li>
<li class="chapter" data-level="28.2.6" data-path="cdisc-1.html"><a href="cdisc-1.html#make_sort_order"><i class="fa fa-check"></i><b>28.2.6</b> %make_sort_order</a></li>
<li class="chapter" data-level="28.2.7" data-path="cdisc-1.html"><a href="cdisc-1.html#create_stdm_domains"><i class="fa fa-check"></i><b>28.2.7</b> %Create_STDM_Domains</a></li>
<li class="chapter" data-level="28.2.8" data-path="cdisc-1.html"><a href="cdisc-1.html#detectduplicates"><i class="fa fa-check"></i><b>28.2.8</b> %DetectDuplicates</a></li>
<li class="chapter" data-level="28.2.9" data-path="cdisc-1.html"><a href="cdisc-1.html#changedvarnum"><i class="fa fa-check"></i><b>28.2.9</b> %ChangedVarNum</a></li>
<li class="chapter" data-level="28.2.10" data-path="cdisc-1.html"><a href="cdisc-1.html#changedlabels"><i class="fa fa-check"></i><b>28.2.10</b> %ChangedLabels</a></li>
</ul></li>
<li class="chapter" data-level="28.3" data-path="cdisc-1.html"><a href="cdisc-1.html#analysis-data-model-adam"><i class="fa fa-check"></i><b>28.3</b> Analysis Data Model (ADaM)</a>
<ul>
<li class="chapter" data-level="28.3.1" data-path="cdisc-1.html"><a href="cdisc-1.html#compare-with-sdtm"><i class="fa fa-check"></i><b>28.3.1</b> Compare with SDTM</a></li>
<li class="chapter" data-level="28.3.2" data-path="cdisc-1.html"><a href="cdisc-1.html#types-of-adam-metadata"><i class="fa fa-check"></i><b>28.3.2</b> 4 types of ADaM metadata</a></li>
<li class="chapter" data-level="28.3.3" data-path="cdisc-1.html"><a href="cdisc-1.html#subject-level-analysis-dataset-adsl"><i class="fa fa-check"></i><b>28.3.3</b> Subject-Level Analysis Dataset (ADSL)</a></li>
<li class="chapter" data-level="28.3.4" data-path="cdisc-1.html"><a href="cdisc-1.html#the-basic-data-structure-bds"><i class="fa fa-check"></i><b>28.3.4</b> The Basic Data Structure (BDS)</a></li>
<li class="chapter" data-level="28.3.5" data-path="cdisc-1.html"><a href="cdisc-1.html#example-building-adsl-datasets"><i class="fa fa-check"></i><b>28.3.5</b> Example Building ADSL Datasets</a></li>
<li class="chapter" data-level="28.3.6" data-path="cdisc-1.html"><a href="cdisc-1.html#example-building-adam-basic-data-structure-bds-datasets"><i class="fa fa-check"></i><b>28.3.6</b> Example Building ADaM Basic Data Structure (BDS) Datasets</a></li>
<li class="chapter" data-level="28.3.7" data-path="cdisc-1.html"><a href="cdisc-1.html#example-building-adae-adverse-event-analysis-datasets-datasets"><i class="fa fa-check"></i><b>28.3.7</b> Example Building ADAE – Adverse Event Analysis Datasets Datasets</a></li>
</ul></li>
<li class="chapter" data-level="28.4" data-path="cdisc-1.html"><a href="cdisc-1.html#adam-sas-macro"><i class="fa fa-check"></i><b>28.4</b> ADaM SAS Macro</a>
<ul>
<li class="chapter" data-level="28.4.1" data-path="cdisc-1.html"><a href="cdisc-1.html#make_define-1"><i class="fa fa-check"></i><b>28.4.1</b> %make_define</a></li>
<li class="chapter" data-level="28.4.2" data-path="cdisc-1.html"><a href="cdisc-1.html#create_adam_dataset"><i class="fa fa-check"></i><b>28.4.2</b> %create_adam_dataset</a></li>
<li class="chapter" data-level="28.4.3" data-path="cdisc-1.html"><a href="cdisc-1.html#make_empty_dataset-1"><i class="fa fa-check"></i><b>28.4.3</b> %make_empty_dataset</a></li>
<li class="chapter" data-level="28.4.4" data-path="cdisc-1.html"><a href="cdisc-1.html#dtc2dt"><i class="fa fa-check"></i><b>28.4.4</b> %DTC2DT</a></li>
<li class="chapter" data-level="28.4.5" data-path="cdisc-1.html"><a href="cdisc-1.html#imputed_date"><i class="fa fa-check"></i><b>28.4.5</b> %imputed_date</a></li>
<li class="chapter" data-level="28.4.6" data-path="cdisc-1.html"><a href="cdisc-1.html#mergsupp"><i class="fa fa-check"></i><b>28.4.6</b> %mergsupp</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="29" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html"><i class="fa fa-check"></i><b>29</b> Regularization Penalized Regression</a>
<ul>
<li class="chapter" data-level="29.1" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#introduction-28"><i class="fa fa-check"></i><b>29.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="29.1.1" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#motivation"><i class="fa fa-check"></i><b>29.1.1</b> Motivation</a></li>
<li class="chapter" data-level="29.1.2" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#data-preparation"><i class="fa fa-check"></i><b>29.1.2</b> Data preparation</a></li>
<li class="chapter" data-level="29.1.3" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#best-subset-regression"><i class="fa fa-check"></i><b>29.1.3</b> Best subset regression</a></li>
</ul></li>
<li class="chapter" data-level="29.2" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#ridge-regression-1"><i class="fa fa-check"></i><b>29.2</b> Ridge Regression</a>
<ul>
<li class="chapter" data-level="29.2.1" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#modeling"><i class="fa fa-check"></i><b>29.2.1</b> Modeling</a></li>
</ul></li>
<li class="chapter" data-level="29.3" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#lasso-regression"><i class="fa fa-check"></i><b>29.3</b> Lasso Regression</a>
<ul>
<li class="chapter" data-level="29.3.1" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#modelling"><i class="fa fa-check"></i><b>29.3.1</b> Modelling</a></li>
<li class="chapter" data-level="29.3.2" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#glmnet-cross-validation"><i class="fa fa-check"></i><b>29.3.2</b> glmnet cross validation</a></li>
</ul></li>
<li class="chapter" data-level="29.4" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#elasticnet"><i class="fa fa-check"></i><b>29.4</b> ElasticNet</a>
<ul>
<li class="chapter" data-level="29.4.1" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#modelling-1"><i class="fa fa-check"></i><b>29.4.1</b> Modelling</a></li>
<li class="chapter" data-level="29.4.2" data-path="regularization-penalized-regression.html"><a href="regularization-penalized-regression.html#classification"><i class="fa fa-check"></i><b>29.4.2</b> Classification</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="30" data-path="bayesian-theory.html"><a href="bayesian-theory.html"><i class="fa fa-check"></i><b>30</b> Bayesian Theory</a>
<ul>
<li class="chapter" data-level="30.1" data-path="bayesian-theory.html"><a href="bayesian-theory.html#introduction-of-bayesian"><i class="fa fa-check"></i><b>30.1</b> Introduction of Bayesian</a>
<ul>
<li class="chapter" data-level="30.1.1" data-path="bayesian-theory.html"><a href="bayesian-theory.html#frequency-and-bayesian"><i class="fa fa-check"></i><b>30.1.1</b> Frequency and Bayesian</a></li>
<li class="chapter" data-level="30.1.2" data-path="bayesian-theory.html"><a href="bayesian-theory.html#bayes-rule"><i class="fa fa-check"></i><b>30.1.2</b> Bayes’ Rule</a></li>
<li class="chapter" data-level="30.1.3" data-path="bayesian-theory.html"><a href="bayesian-theory.html#bootstrap"><i class="fa fa-check"></i><b>30.1.3</b> Bootstrap</a></li>
<li class="chapter" data-level="30.1.4" data-path="bayesian-theory.html"><a href="bayesian-theory.html#posterior-distribution"><i class="fa fa-check"></i><b>30.1.4</b> Posterior Distribution</a></li>
<li class="chapter" data-level="30.1.5" data-path="bayesian-theory.html"><a href="bayesian-theory.html#bayesian-credible-intervals"><i class="fa fa-check"></i><b>30.1.5</b> Bayesian Credible Intervals</a></li>
</ul></li>
<li class="chapter" data-level="30.2" data-path="bayesian-theory.html"><a href="bayesian-theory.html#parameter-estimates-1"><i class="fa fa-check"></i><b>30.2</b> Parameter estimates</a>
<ul>
<li class="chapter" data-level="30.2.1" data-path="bayesian-theory.html"><a href="bayesian-theory.html#maximum-likelihood-estimation"><i class="fa fa-check"></i><b>30.2.1</b> Maximum likelihood estimation</a></li>
<li class="chapter" data-level="30.2.2" data-path="bayesian-theory.html"><a href="bayesian-theory.html#maximum-a-posteriori-estimation"><i class="fa fa-check"></i><b>30.2.2</b> Maximum a posteriori estimation</a></li>
<li class="chapter" data-level="30.2.3" data-path="bayesian-theory.html"><a href="bayesian-theory.html#bayesian-model"><i class="fa fa-check"></i><b>30.2.3</b> Bayesian Model</a></li>
</ul></li>
<li class="chapter" data-level="30.3" data-path="bayesian-theory.html"><a href="bayesian-theory.html#prior-distributions"><i class="fa fa-check"></i><b>30.3</b> Prior Distributions</a>
<ul>
<li class="chapter" data-level="30.3.1" data-path="bayesian-theory.html"><a href="bayesian-theory.html#conjugate-prior-distributions"><i class="fa fa-check"></i><b>30.3.1</b> Conjugate Prior Distributions</a></li>
<li class="chapter" data-level="30.3.2" data-path="bayesian-theory.html"><a href="bayesian-theory.html#non-informativ-priors"><i class="fa fa-check"></i><b>30.3.2</b> Non-informativ Priors</a></li>
</ul></li>
<li class="chapter" data-level="30.4" data-path="bayesian-theory.html"><a href="bayesian-theory.html#mcmc"><i class="fa fa-check"></i><b>30.4</b> MCMC</a>
<ul>
<li class="chapter" data-level="30.4.1" data-path="bayesian-theory.html"><a href="bayesian-theory.html#monte-carlo-simulation"><i class="fa fa-check"></i><b>30.4.1</b> Monte Carlo Simulation</a></li>
<li class="chapter" data-level="30.4.2" data-path="bayesian-theory.html"><a href="bayesian-theory.html#概率分布采样"><i class="fa fa-check"></i><b>30.4.2</b> 概率分布采样</a></li>
<li class="chapter" data-level="30.4.3" data-path="bayesian-theory.html"><a href="bayesian-theory.html#接受-拒绝采样"><i class="fa fa-check"></i><b>30.4.3</b> 接受-拒绝采样</a></li>
<li class="chapter" data-level="30.4.4" data-path="bayesian-theory.html"><a href="bayesian-theory.html#markov-chain"><i class="fa fa-check"></i><b>30.4.4</b> Markov Chain</a></li>
<li class="chapter" data-level="30.4.5" data-path="bayesian-theory.html"><a href="bayesian-theory.html#马尔科夫链的收敛性质"><i class="fa fa-check"></i><b>30.4.5</b> 马尔科夫链的收敛性质</a></li>
<li class="chapter" data-level="30.4.6" data-path="bayesian-theory.html"><a href="bayesian-theory.html#基于马尔科夫链采样"><i class="fa fa-check"></i><b>30.4.6</b> 基于马尔科夫链采样</a></li>
<li class="chapter" data-level="30.4.7" data-path="bayesian-theory.html"><a href="bayesian-theory.html#mcmc采样"><i class="fa fa-check"></i><b>30.4.7</b> MCMC采样</a></li>
<li class="chapter" data-level="30.4.8" data-path="bayesian-theory.html"><a href="bayesian-theory.html#m-h采样"><i class="fa fa-check"></i><b>30.4.8</b> M-H采样</a></li>
<li class="chapter" data-level="30.4.9" data-path="bayesian-theory.html"><a href="bayesian-theory.html#gibbs采样"><i class="fa fa-check"></i><b>30.4.9</b> Gibbs采样</a></li>
</ul></li>
<li class="chapter" data-level="30.5" data-path="bayesian-theory.html"><a href="bayesian-theory.html#regression-and-variable-selection"><i class="fa fa-check"></i><b>30.5</b> Regression and Variable Selection</a>
<ul>
<li class="chapter" data-level="30.5.1" data-path="bayesian-theory.html"><a href="bayesian-theory.html#classical-least-squares-estimator"><i class="fa fa-check"></i><b>30.5.1</b> Classical Least Squares Estimator</a></li>
<li class="chapter" data-level="30.5.2" data-path="bayesian-theory.html"><a href="bayesian-theory.html#the-jeffreys-prior-analysis"><i class="fa fa-check"></i><b>30.5.2</b> The Jeffreys Prior Analysis</a></li>
<li class="chapter" data-level="30.5.3" data-path="bayesian-theory.html"><a href="bayesian-theory.html#zellners-g-prior-analysis"><i class="fa fa-check"></i><b>30.5.3</b> Zellner’s G-prior analysis</a></li>
</ul></li>
<li class="chapter" data-level="30.6" data-path="bayesian-theory.html"><a href="bayesian-theory.html#bayesian-linear-regression-1"><i class="fa fa-check"></i><b>30.6</b> Bayesian linear regression</a></li>
<li class="chapter" data-level="30.7" data-path="bayesian-theory.html"><a href="bayesian-theory.html#introduction-29"><i class="fa fa-check"></i><b>30.7</b> Introduction</a>
<ul>
<li class="chapter" data-level="30.7.1" data-path="bayesian-theory.html"><a href="bayesian-theory.html#item-response-theory"><i class="fa fa-check"></i><b>30.7.1</b> Item response theory</a></li>
<li class="chapter" data-level="30.7.2" data-path="bayesian-theory.html"><a href="bayesian-theory.html#em-algorithm"><i class="fa fa-check"></i><b>30.7.2</b> EM algorithm</a></li>
<li class="chapter" data-level="30.7.3" data-path="bayesian-theory.html"><a href="bayesian-theory.html#mcmc-algorithm"><i class="fa fa-check"></i><b>30.7.3</b> MCMC algorithm</a></li>
<li class="chapter" data-level="30.7.4" data-path="bayesian-theory.html"><a href="bayesian-theory.html#unidimensional-irt-models"><i class="fa fa-check"></i><b>30.7.4</b> Unidimensional IRT Models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="31" data-path="smoothing.html"><a href="smoothing.html"><i class="fa fa-check"></i><b>31</b> Smoothing</a>
<ul>
<li class="chapter" data-level="31.1" data-path="smoothing.html"><a href="smoothing.html#smoothing-1"><i class="fa fa-check"></i><b>31.1</b> Smoothing</a>
<ul>
<li class="chapter" data-level="31.1.1" data-path="smoothing.html"><a href="smoothing.html#bin-smoothing"><i class="fa fa-check"></i><b>31.1.1</b> Bin smoothing</a></li>
<li class="chapter" data-level="31.1.2" data-path="smoothing.html"><a href="smoothing.html#kernels"><i class="fa fa-check"></i><b>31.1.2</b> Kernels</a></li>
<li class="chapter" data-level="31.1.3" data-path="smoothing.html"><a href="smoothing.html#local-weighted-regression-loess"><i class="fa fa-check"></i><b>31.1.3</b> Local weighted regression (loess)</a></li>
</ul></li>
<li class="chapter" data-level="31.2" data-path="smoothing.html"><a href="smoothing.html#loess-regression"><i class="fa fa-check"></i><b>31.2</b> Loess Regression</a></li>
</ul></li>
<li class="chapter" data-level="32" data-path="knn.html"><a href="knn.html"><i class="fa fa-check"></i><b>32</b> KNN</a>
<ul>
<li class="chapter" data-level="32.1" data-path="knn.html"><a href="knn.html#introduction-30"><i class="fa fa-check"></i><b>32.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="32.1.1" data-path="knn.html"><a href="knn.html#idee"><i class="fa fa-check"></i><b>32.1.1</b> Idee</a></li>
<li class="chapter" data-level="32.1.2" data-path="knn.html"><a href="knn.html#加权最近邻法"><i class="fa fa-check"></i><b>32.1.2</b> 加权最近邻法</a></li>
<li class="chapter" data-level="32.1.3" data-path="knn.html"><a href="knn.html#knn算法三要素"><i class="fa fa-check"></i><b>32.1.3</b> KNN算法三要素</a></li>
<li class="chapter" data-level="32.1.4" data-path="knn.html"><a href="knn.html#优缺点"><i class="fa fa-check"></i><b>32.1.4</b> 优缺点</a></li>
</ul></li>
<li class="chapter" data-level="32.2" data-path="knn.html"><a href="knn.html#knn算法的实现方式"><i class="fa fa-check"></i><b>32.2</b> KNN算法的实现方式</a>
<ul>
<li class="chapter" data-level="32.2.1" data-path="knn.html"><a href="knn.html#brute-force"><i class="fa fa-check"></i><b>32.2.1</b> Brute-force</a></li>
<li class="chapter" data-level="32.2.2" data-path="knn.html"><a href="knn.html#kd树实现"><i class="fa fa-check"></i><b>32.2.2</b> KD树实现</a></li>
<li class="chapter" data-level="32.2.3" data-path="knn.html"><a href="knn.html#球树实现"><i class="fa fa-check"></i><b>32.2.3</b> 球树实现</a></li>
</ul></li>
<li class="chapter" data-level="32.3" data-path="knn.html"><a href="knn.html#application"><i class="fa fa-check"></i><b>32.3</b> Application</a>
<ul>
<li class="chapter" data-level="32.3.1" data-path="knn.html"><a href="knn.html#data-preparation-1"><i class="fa fa-check"></i><b>32.3.1</b> Data Preparation</a></li>
<li class="chapter" data-level="32.3.2" data-path="knn.html"><a href="knn.html#knn-modelling"><i class="fa fa-check"></i><b>32.3.2</b> KNN Modelling</a></li>
<li class="chapter" data-level="32.3.3" data-path="knn.html"><a href="knn.html#加权最近邻法-1"><i class="fa fa-check"></i><b>32.3.3</b> 加权最近邻法</a></li>
<li class="chapter" data-level="32.3.4" data-path="knn.html"><a href="knn.html#over-training"><i class="fa fa-check"></i><b>32.3.4</b> Over-training</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="33" data-path="svm.html"><a href="svm.html"><i class="fa fa-check"></i><b>33</b> SVM</a>
<ul>
<li class="chapter" data-level="33.1" data-path="svm.html"><a href="svm.html#introduction-31"><i class="fa fa-check"></i><b>33.1</b> Introduction</a></li>
<li class="chapter" data-level="33.2" data-path="svm.html"><a href="svm.html#introduction-32"><i class="fa fa-check"></i><b>33.2</b> Introduction</a>
<ul>
<li class="chapter" data-level="33.2.1" data-path="svm.html"><a href="svm.html#perceptron"><i class="fa fa-check"></i><b>33.2.1</b> Perceptron</a></li>
<li class="chapter" data-level="33.2.2" data-path="svm.html"><a href="svm.html#函数间隔与几何间隔"><i class="fa fa-check"></i><b>33.2.2</b> 函数间隔与几何间隔</a></li>
<li class="chapter" data-level="33.2.3" data-path="svm.html"><a href="svm.html#svm支持向量"><i class="fa fa-check"></i><b>33.2.3</b> SVM支持向量</a></li>
<li class="chapter" data-level="33.2.4" data-path="svm.html"><a href="svm.html#svm模型目标函数与优化"><i class="fa fa-check"></i><b>33.2.4</b> SVM模型目标函数与优化</a></li>
<li class="chapter" data-level="33.2.5" data-path="svm.html"><a href="svm.html#线性可分svm的算法过程"><i class="fa fa-check"></i><b>33.2.5</b> 线性可分SVM的算法过程</a></li>
<li class="chapter" data-level="33.2.6" data-path="svm.html"><a href="svm.html#线性svm的软间隔最大化"><i class="fa fa-check"></i><b>33.2.6</b> 线性SVM的软间隔最大化</a></li>
<li class="chapter" data-level="33.2.7" data-path="svm.html"><a href="svm.html#线性不可分支持向量机与核函数"><i class="fa fa-check"></i><b>33.2.7</b> 线性不可分支持向量机与核函数</a></li>
</ul></li>
<li class="chapter" data-level="33.3" data-path="svm.html"><a href="svm.html#application-1"><i class="fa fa-check"></i><b>33.3</b> Application</a>
<ul>
<li class="chapter" data-level="33.3.1" data-path="svm.html"><a href="svm.html#data-preparation-2"><i class="fa fa-check"></i><b>33.3.1</b> Data Preparation</a></li>
<li class="chapter" data-level="33.3.2" data-path="svm.html"><a href="svm.html#svm-modelling"><i class="fa fa-check"></i><b>33.3.2</b> SVM Modelling</a></li>
<li class="chapter" data-level="33.3.3" data-path="svm.html"><a href="svm.html#model-selection-1"><i class="fa fa-check"></i><b>33.3.3</b> Model Selection</a></li>
<li class="chapter" data-level="33.3.4" data-path="svm.html"><a href="svm.html#character-selection"><i class="fa fa-check"></i><b>33.3.4</b> Character selection</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="34" data-path="tree-models.html"><a href="tree-models.html"><i class="fa fa-check"></i><b>34</b> Tree models</a>
<ul>
<li class="chapter" data-level="34.1" data-path="tree-models.html"><a href="tree-models.html#decision-tree-model"><i class="fa fa-check"></i><b>34.1</b> Decision Tree Model</a>
<ul>
<li class="chapter" data-level="34.1.1" data-path="tree-models.html"><a href="tree-models.html#decision-tree-algorithm"><i class="fa fa-check"></i><b>34.1.1</b> Decision tree algorithm</a></li>
<li class="chapter" data-level="34.1.2" data-path="tree-models.html"><a href="tree-models.html#id3-algorithm"><i class="fa fa-check"></i><b>34.1.2</b> ID3 Algorithm</a></li>
<li class="chapter" data-level="34.1.3" data-path="tree-models.html"><a href="tree-models.html#c4.5-algorithm"><i class="fa fa-check"></i><b>34.1.3</b> C4.5 Algorithm</a></li>
<li class="chapter" data-level="34.1.4" data-path="tree-models.html"><a href="tree-models.html#cart-algorithm"><i class="fa fa-check"></i><b>34.1.4</b> CART Algorithm</a></li>
<li class="chapter" data-level="34.1.5" data-path="tree-models.html"><a href="tree-models.html#pruning"><i class="fa fa-check"></i><b>34.1.5</b> Pruning</a></li>
<li class="chapter" data-level="34.1.6" data-path="tree-models.html"><a href="tree-models.html#package-rpart"><i class="fa fa-check"></i><b>34.1.6</b> Package ‘rpart’</a></li>
</ul></li>
<li class="chapter" data-level="34.2" data-path="tree-models.html"><a href="tree-models.html#random-forest"><i class="fa fa-check"></i><b>34.2</b> Random Forest</a>
<ul>
<li class="chapter" data-level="34.2.1" data-path="tree-models.html"><a href="tree-models.html#bootstrap-bagging"><i class="fa fa-check"></i><b>34.2.1</b> Bootstrap (Bagging)</a></li>
<li class="chapter" data-level="34.2.2" data-path="tree-models.html"><a href="tree-models.html#bagging算法流程"><i class="fa fa-check"></i><b>34.2.2</b> bagging算法流程</a></li>
<li class="chapter" data-level="34.2.3" data-path="tree-models.html"><a href="tree-models.html#random-forest-algorithm"><i class="fa fa-check"></i><b>34.2.3</b> Random Forest Algorithm</a></li>
<li class="chapter" data-level="34.2.4" data-path="tree-models.html"><a href="tree-models.html#random-forest-promotion"><i class="fa fa-check"></i><b>34.2.4</b> Random forest promotion</a></li>
<li class="chapter" data-level="34.2.5" data-path="tree-models.html"><a href="tree-models.html#package-randomforest"><i class="fa fa-check"></i><b>34.2.5</b> Package ‘randomForest’</a></li>
</ul></li>
<li class="chapter" data-level="34.3" data-path="tree-models.html"><a href="tree-models.html#modelling-2"><i class="fa fa-check"></i><b>34.3</b> Modelling</a>
<ul>
<li class="chapter" data-level="34.3.1" data-path="tree-models.html"><a href="tree-models.html#data-preparation-3"><i class="fa fa-check"></i><b>34.3.1</b> Data preparation</a></li>
<li class="chapter" data-level="34.3.2" data-path="tree-models.html"><a href="tree-models.html#regression-tree-1"><i class="fa fa-check"></i><b>34.3.2</b> Regression tree</a></li>
<li class="chapter" data-level="34.3.3" data-path="tree-models.html"><a href="tree-models.html#classification-tree-1"><i class="fa fa-check"></i><b>34.3.3</b> Classification tree</a></li>
<li class="chapter" data-level="34.3.4" data-path="tree-models.html"><a href="tree-models.html#random-forest-for-regression"><i class="fa fa-check"></i><b>34.3.4</b> Random forest for regression</a></li>
<li class="chapter" data-level="34.3.5" data-path="tree-models.html"><a href="tree-models.html#random-forest-for-classification"><i class="fa fa-check"></i><b>34.3.5</b> Random forest for classification</a></li>
<li class="chapter" data-level="34.3.6" data-path="tree-models.html"><a href="tree-models.html#皮玛印第安人糖尿病数据集"><i class="fa fa-check"></i><b>34.3.6</b> 皮玛印第安人糖尿病数据集</a></li>
<li class="chapter" data-level="34.3.7" data-path="tree-models.html"><a href="tree-models.html#使用随机森林进行特征选择"><i class="fa fa-check"></i><b>34.3.7</b> 使用随机森林进行特征选择</a></li>
</ul></li>
<li class="chapter" data-level="34.4" data-path="tree-models.html"><a href="tree-models.html#gradient-boosting"><i class="fa fa-check"></i><b>34.4</b> Gradient Boosting</a>
<ul>
<li class="chapter" data-level="34.4.1" data-path="tree-models.html"><a href="tree-models.html#gbdt概述"><i class="fa fa-check"></i><b>34.4.1</b> GBDT概述</a></li>
<li class="chapter" data-level="34.4.2" data-path="tree-models.html"><a href="tree-models.html#gbdt的负梯度拟合"><i class="fa fa-check"></i><b>34.4.2</b> GBDT的负梯度拟合</a></li>
<li class="chapter" data-level="34.4.3" data-path="tree-models.html"><a href="tree-models.html#gbdt回归算法"><i class="fa fa-check"></i><b>34.4.3</b> GBDT回归算法</a></li>
<li class="chapter" data-level="34.4.4" data-path="tree-models.html"><a href="tree-models.html#gbdt分类算法"><i class="fa fa-check"></i><b>34.4.4</b> GBDT分类算法</a></li>
<li class="chapter" data-level="34.4.5" data-path="tree-models.html"><a href="tree-models.html#package-gbm"><i class="fa fa-check"></i><b>34.4.5</b> Package ‘gbm’</a></li>
<li class="chapter" data-level="34.4.6" data-path="tree-models.html"><a href="tree-models.html#极限梯度提升分类"><i class="fa fa-check"></i><b>34.4.6</b> 极限梯度提升——分类</a></li>
</ul></li>
<li class="chapter" data-level="34.5" data-path="tree-models.html"><a href="tree-models.html#cubist-model"><i class="fa fa-check"></i><b>34.5</b> Cubist Model</a>
<ul>
<li class="chapter" data-level="34.5.1" data-path="tree-models.html"><a href="tree-models.html#introduction-33"><i class="fa fa-check"></i><b>34.5.1</b> Introduction</a></li>
<li class="chapter" data-level="34.5.2" data-path="tree-models.html"><a href="tree-models.html#application-data-preparation"><i class="fa fa-check"></i><b>34.5.2</b> Application Data Preparation</a></li>
<li class="chapter" data-level="34.5.3" data-path="tree-models.html"><a href="tree-models.html#fit-continious-outcome"><i class="fa fa-check"></i><b>34.5.3</b> Fit Continious Outcome</a></li>
<li class="chapter" data-level="34.5.4" data-path="tree-models.html"><a href="tree-models.html#variable-importance"><i class="fa fa-check"></i><b>34.5.4</b> Variable Importance</a></li>
<li class="chapter" data-level="34.5.5" data-path="tree-models.html"><a href="tree-models.html#summary-display"><i class="fa fa-check"></i><b>34.5.5</b> Summary display</a></li>
<li class="chapter" data-level="34.5.6" data-path="tree-models.html"><a href="tree-models.html#specific-parts"><i class="fa fa-check"></i><b>34.5.6</b> specific parts</a></li>
<li class="chapter" data-level="34.5.7" data-path="tree-models.html"><a href="tree-models.html#ensembles-by-committees"><i class="fa fa-check"></i><b>34.5.7</b> Ensembles By Committees</a></li>
<li class="chapter" data-level="34.5.8" data-path="tree-models.html"><a href="tree-models.html#nearestneighbors-adjustmemt"><i class="fa fa-check"></i><b>34.5.8</b> Nearest–neighbors Adjustmemt</a></li>
<li class="chapter" data-level="34.5.9" data-path="tree-models.html"><a href="tree-models.html#optimize-parameters"><i class="fa fa-check"></i><b>34.5.9</b> Optimize parameters</a></li>
<li class="chapter" data-level="34.5.10" data-path="tree-models.html"><a href="tree-models.html#logistic-cv"><i class="fa fa-check"></i><b>34.5.10</b> Logistic CV</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="35" data-path="pca.html"><a href="pca.html"><i class="fa fa-check"></i><b>35</b> PCA</a>
<ul>
<li class="chapter" data-level="35.1" data-path="pca.html"><a href="pca.html#introduction-34"><i class="fa fa-check"></i><b>35.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="35.1.1" data-path="pca.html"><a href="pca.html#component"><i class="fa fa-check"></i><b>35.1.1</b> Component</a></li>
<li class="chapter" data-level="35.1.2" data-path="pca.html"><a href="pca.html#pca算法"><i class="fa fa-check"></i><b>35.1.2</b> PCA算法</a></li>
<li class="chapter" data-level="35.1.3" data-path="pca.html"><a href="pca.html#主成分旋转"><i class="fa fa-check"></i><b>35.1.3</b> 主成分旋转</a></li>
<li class="chapter" data-level="35.1.4" data-path="pca.html"><a href="pca.html#kernelized-pca"><i class="fa fa-check"></i><b>35.1.4</b> Kernelized PCA</a></li>
</ul></li>
<li class="chapter" data-level="35.2" data-path="pca.html"><a href="pca.html#application-2"><i class="fa fa-check"></i><b>35.2</b> Application</a>
<ul>
<li class="chapter" data-level="35.2.1" data-path="pca.html"><a href="pca.html#data-preparation-4"><i class="fa fa-check"></i><b>35.2.1</b> Data preparation</a></li>
<li class="chapter" data-level="35.2.2" data-path="pca.html"><a href="pca.html#modeling-1"><i class="fa fa-check"></i><b>35.2.2</b> Modeling</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="36" data-path="cluster-analysis.html"><a href="cluster-analysis.html"><i class="fa fa-check"></i><b>36</b> Cluster Analysis</a>
<ul>
<li class="chapter" data-level="36.1" data-path="cluster-analysis.html"><a href="cluster-analysis.html#hierarchical-clustering"><i class="fa fa-check"></i><b>36.1</b> Hierarchical Clustering</a>
<ul>
<li class="chapter" data-level="36.1.1" data-path="cluster-analysis.html"><a href="cluster-analysis.html#introduction-35"><i class="fa fa-check"></i><b>36.1.1</b> Introduction</a></li>
<li class="chapter" data-level="36.1.2" data-path="cluster-analysis.html"><a href="cluster-analysis.html#hierarchical-clustering-algorithms"><i class="fa fa-check"></i><b>36.1.2</b> Hierarchical clustering algorithms</a></li>
<li class="chapter" data-level="36.1.3" data-path="cluster-analysis.html"><a href="cluster-analysis.html#measure-the-dissimilarity-between-two-clusters-of-observations"><i class="fa fa-check"></i><b>36.1.3</b> Measure the dissimilarity between two clusters of observations</a></li>
</ul></li>
<li class="chapter" data-level="36.2" data-path="cluster-analysis.html"><a href="cluster-analysis.html#k-means-clustering"><i class="fa fa-check"></i><b>36.2</b> K-means Clustering</a>
<ul>
<li class="chapter" data-level="36.2.1" data-path="cluster-analysis.html"><a href="cluster-analysis.html#algorithm"><i class="fa fa-check"></i><b>36.2.1</b> Algorithm</a></li>
<li class="chapter" data-level="36.2.2" data-path="cluster-analysis.html"><a href="cluster-analysis.html#k-means"><i class="fa fa-check"></i><b>36.2.2</b> K-Means++</a></li>
<li class="chapter" data-level="36.2.3" data-path="cluster-analysis.html"><a href="cluster-analysis.html#elkan-k-means"><i class="fa fa-check"></i><b>36.2.3</b> elkan K-Means</a></li>
<li class="chapter" data-level="36.2.4" data-path="cluster-analysis.html"><a href="cluster-analysis.html#mini-batch-k-means"><i class="fa fa-check"></i><b>36.2.4</b> Mini Batch K-Means</a></li>
</ul></li>
<li class="chapter" data-level="36.3" data-path="cluster-analysis.html"><a href="cluster-analysis.html#gowers-coefficient-and-pam"><i class="fa fa-check"></i><b>36.3</b> Gower’s coefficient and PAM</a>
<ul>
<li class="chapter" data-level="36.3.1" data-path="cluster-analysis.html"><a href="cluster-analysis.html#gowers-coefficient"><i class="fa fa-check"></i><b>36.3.1</b> Gower’s coefficient</a></li>
<li class="chapter" data-level="36.3.2" data-path="cluster-analysis.html"><a href="cluster-analysis.html#不同数据类型的相异度计算-距离法"><i class="fa fa-check"></i><b>36.3.2</b> 不同数据类型的相异度计算 (距离法)</a></li>
<li class="chapter" data-level="36.3.3" data-path="cluster-analysis.html"><a href="cluster-analysis.html#pam"><i class="fa fa-check"></i><b>36.3.3</b> PAM</a></li>
</ul></li>
<li class="chapter" data-level="36.4" data-path="cluster-analysis.html"><a href="cluster-analysis.html#birch-clustering"><i class="fa fa-check"></i><b>36.4</b> BIRCH Clustering</a>
<ul>
<li class="chapter" data-level="36.4.1" data-path="cluster-analysis.html"><a href="cluster-analysis.html#birch-introduction"><i class="fa fa-check"></i><b>36.4.1</b> BIRCH Introduction</a></li>
<li class="chapter" data-level="36.4.2" data-path="cluster-analysis.html"><a href="cluster-analysis.html#聚类特征cf与聚类特征树cf-tree"><i class="fa fa-check"></i><b>36.4.2</b> 聚类特征CF与聚类特征树CF Tree</a></li>
<li class="chapter" data-level="36.4.3" data-path="cluster-analysis.html"><a href="cluster-analysis.html#cf-tree的生成"><i class="fa fa-check"></i><b>36.4.3</b> CF Tree的生成</a></li>
<li class="chapter" data-level="36.4.4" data-path="cluster-analysis.html"><a href="cluster-analysis.html#birch算法"><i class="fa fa-check"></i><b>36.4.4</b> BIRCH算法</a></li>
</ul></li>
<li class="chapter" data-level="36.5" data-path="cluster-analysis.html"><a href="cluster-analysis.html#application-3"><i class="fa fa-check"></i><b>36.5</b> Application</a>
<ul>
<li class="chapter" data-level="36.5.1" data-path="cluster-analysis.html"><a href="cluster-analysis.html#data-preparation-5"><i class="fa fa-check"></i><b>36.5.1</b> Data preparation</a></li>
<li class="chapter" data-level="36.5.2" data-path="cluster-analysis.html"><a href="cluster-analysis.html#hierarchical-clustering-1"><i class="fa fa-check"></i><b>36.5.2</b> Hierarchical Clustering</a></li>
<li class="chapter" data-level="36.5.3" data-path="cluster-analysis.html"><a href="cluster-analysis.html#k-means-clustering-1"><i class="fa fa-check"></i><b>36.5.3</b> K-means Clustering</a></li>
<li class="chapter" data-level="36.5.4" data-path="cluster-analysis.html"><a href="cluster-analysis.html#gowers-coefficient-and-pam-1"><i class="fa fa-check"></i><b>36.5.4</b> Gower’s coefficient and PAM</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="37" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html"><i class="fa fa-check"></i><b>37</b> linear discriminant analysis (LDA)</a>
<ul>
<li class="chapter" data-level="37.1" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#introduction-36"><i class="fa fa-check"></i><b>37.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="37.1.1" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#naive-bayes"><i class="fa fa-check"></i><b>37.1.1</b> Naive Bayes</a></li>
<li class="chapter" data-level="37.1.2" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#controlling-prevalence"><i class="fa fa-check"></i><b>37.1.2</b> Controlling prevalence</a></li>
<li class="chapter" data-level="37.1.3" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#qda"><i class="fa fa-check"></i><b>37.1.3</b> QDA</a></li>
<li class="chapter" data-level="37.1.4" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#lda"><i class="fa fa-check"></i><b>37.1.4</b> LDA</a></li>
</ul></li>
<li class="chapter" data-level="37.2" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#discriminant-analysis-algorithm"><i class="fa fa-check"></i><b>37.2</b> Discriminant analysis algorithm</a>
<ul>
<li class="chapter" data-level="37.2.1" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#idee-1"><i class="fa fa-check"></i><b>37.2.1</b> Idee</a></li>
<li class="chapter" data-level="37.2.2" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#瑞利商rayleigh-quotient"><i class="fa fa-check"></i><b>37.2.2</b> 瑞利商（Rayleigh quotient）</a></li>
<li class="chapter" data-level="37.2.3" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#广义瑞利商-genralized-rayleigh-quotient"><i class="fa fa-check"></i><b>37.2.3</b> 广义瑞利商 genralized Rayleigh quotient</a></li>
<li class="chapter" data-level="37.2.4" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#lda算法流程"><i class="fa fa-check"></i><b>37.2.4</b> LDA算法流程</a></li>
<li class="chapter" data-level="37.2.5" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#lda-application"><i class="fa fa-check"></i><b>37.2.5</b> LDA Application</a></li>
<li class="chapter" data-level="37.2.6" data-path="linear-discriminant-analysis-lda.html"><a href="linear-discriminant-analysis-lda.html#qda-1"><i class="fa fa-check"></i><b>37.2.6</b> QDA</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="38" data-path="neural-network.html"><a href="neural-network.html"><i class="fa fa-check"></i><b>38</b> Neural Network</a>
<ul>
<li class="chapter" data-level="38.1" data-path="neural-network.html"><a href="neural-network.html#introduction-37"><i class="fa fa-check"></i><b>38.1</b> Introduction</a></li>
<li class="chapter" data-level="38.2" data-path="neural-network.html"><a href="neural-network.html#反向传播方法进行训练的前馈神经网络"><i class="fa fa-check"></i><b>38.2</b> 反向传播方法进行训练的前馈神经网络</a></li>
<li class="chapter" data-level="38.3" data-path="neural-network.html"><a href="neural-network.html#application-4"><i class="fa fa-check"></i><b>38.3</b> Application</a>
<ul>
<li class="chapter" data-level="38.3.1" data-path="neural-network.html"><a href="neural-network.html#数据准备"><i class="fa fa-check"></i><b>38.3.1</b> 数据准备</a></li>
<li class="chapter" data-level="38.3.2" data-path="neural-network.html"><a href="neural-network.html#模型构建"><i class="fa fa-check"></i><b>38.3.2</b> 模型构建</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">As a Statistician</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cdisc-1" class="section level1" number="28">
<h1><span class="header-section-number">Chapter 28</span> CDISC</h1>
<div id="htmlwidget-61f7773732945f5ce6ce" style="width:672px;height:480px;" class="markmap html-widget"></div>
<script type="application/json" data-for="htmlwidget-61f7773732945f5ce6ce">{"x":{"data":"# \n## CDISC\n### Study Data Tabulation Model (SDTM)\n#### Introduction\n#### Model Concepts and Terms\n##### The concept of observations\n##### Domain-specific variables\n#### SDTM Domains\n##### AE (Adverse Events)\n##### CE (Clinical Events)\n##### CM (Concomitant and Prior Medications, Interventions)\n##### DM (Demographics)\n##### LB (Laboratory Test Results)\n##### MH (Medical History)\n##### VS (Vital Signs)\n#### SDTM Define.xml\n#### Extract-Transform-Load (ETL)\n#### Example Building DM SDTM Datasets \n##### Special-Purpose DM\n##### SUPPDM Domains\n##### Building AE SDTM Datasets \n### SDTM SAS Macro\n#### ％make_define\n#### %make_codelist_formats\n#### %make_empty_dataset\n#### %make_dtc_date\n#### %make_sdtm_dy\n#### %make_sort_order\n#### %Create_STDM_Domains\n#### %DetectDuplicates\n#### %ChangedVarNum\n#### %ChangedLabels\n### Analysis Data Model (ADaM)\n#### Compare with SDTM\n#### 4 types of ADaM metadata\n#### Subject-Level Analysis Dataset (ADSL)\n#### The Basic Data Structure (BDS)\n#### Example Building ADSL Datasets\n#### Example Building ADaM Basic Data Structure (BDS) Datasets\n#### Example Building ADAE – Adverse Event Analysis Datasets Datasets\n### ADaM SAS Macro\n#### %make_define\n#### %create_adam_dataset\n#### %make_empty_dataset\n#### %DTC2DT\n#### %imputed_date\n#### %mergsupp","options":{"preset":"colorful","autoFit":true}},"evals":[],"jsHooks":[]}</script>
<p>临床数据交换标准协会 Clinical Data Interchange Standards Consortium (CDISC)是一个开放的、包括各种学科的非盈利性机构。协会致力于开发行业数据标准，为医学和生物制药产品的开发提供临床实验数据和元数据的取得、交换、提交以及存档的电子手段。</p>
<div id="study-data-tabulation-model-sdtm" class="section level2" number="28.1">
<h2><span class="header-section-number">28.1</span> Study Data Tabulation Model (SDTM)</h2>
<div id="introduction-27" class="section level3" number="28.1.1">
<h3><span class="header-section-number">28.1.1</span> Introduction</h3>
<p>Study Data Tabulation Model (SDTM), which defines a standard structure for study data tabulations that are to be submitted as part of a product application to a regulatory authority such as the United States Food and Drug Administration (FDA).</p>
<blockquote>
<p>本文档介绍了研究数据列表模型（SDTM），该模型定义了研究数据列表的标准结构，这些数据将作为产品应用的一部分提交给监管机构，例如美国食品和药物管理局（FDA）。</p>
</blockquote>
<p>Data tabulation datasets are one of four ways to represent the human subject Case Report Tabulation (CRT) and equivalent animal data submitted to the FDA. CRTs are also submitted in the format of subject profiles, data listings, and analysis datasets. One benefit to the industry of submitting data tabulation datasets that conform to the standard structure is that it minimizes the need to submit the same data in multiple formats.</p>
<blockquote>
<p>数据列表数据集是代表人类受试者病例报告列表（CRT）和提交给FDA的等效动物数据的四种方法之一。 CRT也以主题资料，数据列表和分析数据集的格式提交。提交符合标准结构的数据列表数据集的行业的一个好处是，它最大程度地减少了以多种格式提交相同数据的需求。</p>
</blockquote>
<p>The availability of standard submission data may provide many benefits to regulatory reviewers. Reviewers can now be trained in the principles of standardized datasets and the use of standard software tools, and thus be able to work with the data more effectively with less preparation time. Another benefit of the standardized datasets is that they can provide support for the FDA’s efforts to develop a repository for all submitted studies and a suite of standard review tools to access, manipulate, and view the study data.</p>
<blockquote>
<p>标准提交数据的可用性可能为监管审查者带来许多好处。现在可以对审阅者进行标准化数据集原理和标准软件工具的使用方面的培训，从而能够以更少的准备时间更有效地使用数据。标准化数据集的另一个好处是，它们可以为FDA为所有提交的研究开发资料库的努力提供支持，并为访问，操作和查看研究数据的一套标准审查工具提供支持。</p>
</blockquote>
</div>
<div id="model-concepts-and-terms" class="section level3" number="28.1.2">
<h3><span class="header-section-number">28.1.2</span> Model Concepts and Terms</h3>
<div id="the-concept-of-observations" class="section level4" number="28.1.2.1">
<h4><span class="header-section-number">28.1.2.1</span> The concept of observations</h4>
<p>DTM提供了一个总体框架，用于描述在人类和动物研究期间收集并提交给监管机构的信息的组织。该模型是围绕观察的概念构建的，观察的概念由研究期间收集的离散信息组成。观察值通常对应于数据集中的行。关于特定主题的意见的集合被视为一个领域。例如，“受试者101在研究第6天开始出现轻度恶心”是一项临床试验中属于不良事件领域的观察结果。
每个观察结果可以通过一系列命名变量来描述。每个变量通常对应于数据集中的一列，可以根据其角色进行分类。角色描述了变量传达的有关每个不同观察值的信息类型以及如何使用它。 SDTM变量可分为五个主要角色：</p>
<ul>
<li>Identifier variables, such as those that identify the study, the subject (individual human or animal or group of individuals) involved in the study, the domain, and the sequence number of the record.</li>
<li>Topic variables, which specify the focus of the observation (such as the name of a lab test).</li>
<li>Timing variables, which describe the timing of observation (such as start date and end date).</li>
<li>Qualifier variables, which include additional illustrative text, or numeric values that describe the results or additional traits of the observation (such as units or descriptive adjectives).</li>
<li>Rule variables, which express an algorithm or executable method to define start, end, or looping conditions in the Trial Design model.</li>
</ul>
</div>
<div id="domain-specific-variables" class="section level4" number="28.1.2.2">
<h4><span class="header-section-number">28.1.2.2</span> Domain-specific variables</h4>
<p>limited number of designated domains and will be identified in the appropriate implementation guide. The variable names include the specific domain prefix.</p>
<blockquote>
<p>特定于域的变量是SDTM v1.5中引入的概念，仅在有限的指定域中使用，并将在适当的实施指南中进行标识。变量名称包括特定的域前缀</p>
</blockquote>
<p>All datasets are structured as flat files with rows representing observations and columns representing variables. Each dataset is described by metadata definitions that provide information about the variables used in the dataset. The metadata are described in a data definition document named “define” that is submitted with the data to regulatory authorities. Define-XML specifies variable metadata attributes such as: name, label, data type, etc. The SDTM describes the name, label, role, and type for the standard variables.</p>
<blockquote>
<p>所有数据集均被构造为平面文件，其中行表示观测值，而列表示变量。每个数据集由元数据定义描述，元数据定义提供有关数据集中使用的变量的信息。元数据在名为“ define”的数据定义文档中进行了描述，该文档随数据一起提交给监管机构。 Define-XML指定可变元数据属性，例如：名称，标签，数据类型等。SDTM描述了标准变量的名称，标签，角色和类型。</p>
</blockquote>
</div>
</div>
<div id="sdtm-domains" class="section level3" number="28.1.3">
<h3><span class="header-section-number">28.1.3</span> SDTM Domains</h3>
<p><strong>SDTM定义domains如下图所示</strong></p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:SDTM-domains"></span>
<img src="02_Plots/SDTM_Domains.png" alt="Figure: SDTM domains" width="100%" />
<p class="caption">
Figure 28.1: Figure: SDTM domains
</p>
</div>
<p>大多数在试验过程中采集到的受试者级别的观测数据，都可以被归为干预(Interventions)，事件(Events)和发现(Findings)三大类中的某一类。SDTM描述了每一观测数据类中被允许使用的变量列表。</p>
<p>特殊目的域:</p>
<ul>
<li>备注 (CO)</li>
<li>人口学 (DM)</li>
<li>受试者元素 (SE)</li>
<li>受试者访视 (SV)</li>
</ul>
<p>干预类：</p>
<ul>
<li>既往与合并用药 (CM)</li>
<li>暴露采集 (EC)</li>
<li>暴露 (EX)</li>
<li>嗜好品使用 (SU)</li>
<li>操作 (PR)</li>
</ul>
<p>事件类：</p>
<ul>
<li>不良事件 (AE)</li>
<li>临床事件(CE)</li>
<li>分布情况 (DS)</li>
<li>方案偏离(DV)</li>
<li>就诊事件 (HO)</li>
<li>既往病史(MH)</li>
</ul>
<p>发现类：</p>
<ul>
<li>药物收发记录 (DA)</li>
<li>死亡详情 (DD)</li>
<li>心电图 (EG)</li>
<li>不满足的入选/排除标准 (IE)</li>
<li>免疫原性检验 (IS)</li>
<li>实验室检查 (LB)</li>
<li>微生物检测 (MB)</li>
<li>微观发现 (MI)</li>
<li>形态学发现 (MO)</li>
<li>药敏试验 (MS)</li>
<li>药代动力学浓度 (PC)</li>
<li>药代动力学参数 (PP)</li>
<li>体格检查 (PE)</li>
<li>问卷与量表 (QS)</li>
<li>生殖系统检查(RP)</li>
<li>疾病效应/状态评估 (RS)</li>
<li>受试者特征 (SC)</li>
<li>受试者状态 (SS)</li>
<li>肿瘤鉴定 (TU)</li>
<li>肿瘤/病灶测量 (TR)</li>
<li>生命体征 (VS)</li>
</ul>
<p>相关发现：</p>
<ul>
<li>相关观测发现 (FA)</li>
<li>皮试 (SR)</li>
</ul>
<p>试验设计域：</p>
<ul>
<li>试验分组 (TA)</li>
<li>试验疾病评估(TD)</li>
<li>试验元素 (TE)</li>
<li>试验访视(TV)</li>
<li>试验入排标准(TI)</li>
<li>试验概要(TS)</li>
</ul>
<p>关联数据：</p>
<ul>
<li>补充修饰语数据集 (SUPP–数据集)</li>
<li>关联记录数据集 (RELREC)</li>
</ul>
<div id="ae-adverse-events" class="section level4" number="28.1.3.1">
<h4><span class="header-section-number">28.1.3.1</span> AE (Adverse Events)</h4>
<p>AE数据集包括的临床数据描述了“任何发生于病人或者临床研究病例的不良的医疗事件使用了研究药物, 其不必须与此次治疗有关”(ICH E2A). 通过咨询法规机构,sponsor可以扩展或限制AE的收集范围(如收集治疗前发生的与试验处置有关的时间, 不收集被评估为有效性终点的事件). AE数据集中包含的时间应与protocol要求一致. AE可以以自由文本的形式或者预先定义的项目表收集.</p>
<pre><code>AETERM(Reported Term for the Adverse Event): 报告不良事件的本名
AEMODIFY(Modified Reported Term): 如果AETERM被修改以适用于编码, 则该变量为修改后的名
AEDECOD(Dictionary-Derived Term): 字典导出文本, 用来描述AETERM或AEMODIFY. 等价于Preferred Term（PT in MedDRA）.
AEPTCD(Preferred Term Code): AEDECOD对应编码
AEHLT(High Level Term): 关于System Organ Class的High Level Term的字典导出文本
AEHLTCD(High Level Term Code): AEHLT对应编码
AEHLGT(High Level Group Term):关于System Organ Class的High Level Group Term的字典导出文本
AEHLGTCD(High Level Group Term Code): AEHLGT对应编码

AECAT(Category for Adverse Event): 用来定义相关记录的类别. 如BLEEDING(出血), NEUROPSYCHIATRIC(神经精神病学)
AESCAT(Subcategory for Adverse Event): 关于AE的进一步分类, 如 NEUROLOGIC(神经病学)

AELOC(Location of Event)L 描述关于Event的解剖学位置, 如红疹(skin rash)发生于手臂(ARM)上
AESEV(Severity/Intensity): 描述Event的严重程度或强度, 如MILD, MODERATE, SEVERE
AESER(Serious Event): 是否为严重Even
AEREL(Causality): 记录研究者对于试验治疗关于事件因果关系的观点. ICH E2A和E2B包括NOT RELATED, UNLIKELY RELATED, POSSIBLY RELATED, RELATED. 未来可能会定义控制术语表.
AEOUT(Outcome of Adverse Event): 描述事件结局
AESCAN(Involves Cancer): SAE是否与癌症发展有关
AESCONG(Congenital Anomaly or Birth Defect): SAE是否与先天缺陷有关
AESDISAB(Persist or Signif Disability/Incapacity): SAE是否导致永久性或显著性残疾
AESDTH(Results in Death): SAE是否导致死亡
AESHOSP(Requires or Prolongs Hospitalization): SAE是否导致或延长住院
AESLIFE(Is Life Threatening): SAE是否威胁生命
AECONTRT(Concomitant or Additional Trtmnt Given): 在时间发生的情况下, 是否使用了其他治
AESTDTC/AEENDTC (Start/End Date Time of Adverse Event)
AESTDY/AEENDY (Study Day of Start/End of Adverse Event)
AEDUR(Duration of Adverse Event): 收集AE的持续时间及单位. 仅当CRF中收集时使用, 非导出. 如, P1DT2H(1 day, 2 hours)</code></pre>
</div>
<div id="ce-clinical-events" class="section level4" number="28.1.3.2">
<h4><span class="header-section-number">28.1.3.2</span> CE (Clinical Events)</h4>
<p>收集感兴趣的但不能归为AE类别的临床事件
CE的目的是收集没有归为AE类别的感兴趣的临床事件. 数据可能是研究中疾病症状的插曲(常被视为迹象或者症状), 或者关于不能构成AE的事件, 尽管它们可能导致AE的识别. 例如, 研究中偏头痛的用药, 偏头痛根据Protocol可能不会被视为AE. 偏头痛以及相关症状可以报告在CE中. 其他研究可能跟踪作为有效性终点的特殊事件的发生. 例如, 对于缺血性中风预防的研究, TIA, 中风和死亡的所有发生情况都收集为临床事件, 并用来评估是否达到终点</p>
<pre><code>CETERM(Reported Term for the Clinical Event): 关于用药条件或事件的项目. 很可能预先打印在CRF中
CEDECOD(Dictionary-Derived Term): 临床事件名称的控制术语.
CECAT(Category for Clinical Event): 定义相关记录的类别
CEPRESP(Clinical Event Occurrence): 用来表明CETERM中的事件是否被预先设定. 如预先设定，则值为Y;  对于自发报告的事件, 该变量值为空
CEOCCUR(Clinical Event Occurrence): 为了表明是否有临床事件发生，当特定事件被询问是否发生时使用. 对于自发报告的事件, 该变量值为空
CESTAT(Completion Status): 表明预设表单中的问题没有被回答
CEREASND(Reason Clinical Event Not Collected): 临床事件数据未收集的原因. 当CESTAT=NOT DONE时使用
CESEV(Severity/Intensity): 事件的严重程度. 如MILD, MODERATE, SEVERE.
CEDTC(Date/Time of Event Collection)
CESTDTC/CEENDTC(Start/End Date/Time of Clinical Event)
CEDY(Study Day of Event Collection): 1. 临床事件收集的study day, 整数形式. 2. 计算方法必须相对于sponsor定义的RFSTDTC. 公式必须在整个提交中保持一致.
CESTRF/CEENRF(Start/End Relative to Reference Period): 描述临床事件相对于sponsor定义参考时期的开始/结束时间. sponsor定义的参考时期是一个连续的时间段, 该连续时间段由离散的开始时间点和结束时间点限定(由RFSTDTC和RFENDTC表示).
CESTRTPT(Start Relative to Reference Time Point): 识别观测的开始时间在参考时间点(CESTTPT)之前或之后</code></pre>
</div>
<div id="cm-concomitant-and-prior-medications-interventions" class="section level4" number="28.1.3.3">
<h4><span class="header-section-number">28.1.3.3</span> CM (Concomitant and Prior Medications, Interventions)</h4>
<p>收集伴随用药和既往用药. CM的结构是 每个subject, 每个用药干涉事件, 持续用药区间 或者 预先设定的用药评估 记为一条. 干涉事件需要由sponsor定义. 这一定义基于sponsor的回顾和分析需求可能会有所变化. 提交的数据结构可以与收集的结构不同. 当用药的规则发生变化时, 一个通常的方法是提交一个新的记录.</p>
<pre><code>CMGRPID(Group ID):  用于联系一个subject在单个domain中的相关records
CMTRT(Reported Name of Drug, Med, or Therapy, TOPIC): 药物全称, 打印或收集于CRF.
CMMODIFY(Modified Reported Name, Synonym Qualifier): 如果CMTRT为了编码方便而进行了修饰, 则CMMODIFY需要包含修饰过的文本
CMDECOD(Standardized Medication Name, Synonym Qualifier): 标准化或字典导出的文本, 用来描述CMTRT或CMMODIFY. 等价于generic medication name in WHO Drug.
CMCAT(Category for Medication, Grouping Qual): 定义用药或治疗的类别， 如PRIOR, CONCOMITANT, ANTI-CANCER MEDICAITON, GENERAL CONMED
CMSCAT(Subcateory for Medication, Grouping Qual): 进一步分类, 如CHEMOTHERAPY, HORMONAL THERAPY, ALTERNATIVE THERAPY
CMREASND(Reason Medication Not Collected): 描述伴随用药没有收集的原因. 当CMSTAT=&quot;NOT DONE&quot;时，与CMSTAT一起使用
CMDOSTXT(Dose Description): 以文本形式收集的药物使用量或范围的信息. 单位可能储存于CMDOSU中, 如200-400, 15-20. 如果CMDOSE已导出, 则不需要导出CMDOSTXT
CMDOSU（Dose Units）: CMDOSE， CMDOSTOT, CMDOSTXT的单位.
CMDOSFRM(Dose Form): CMTRT的剂型, 如药片(TABLET)， 洗液(LOTION)
CMDOSFRQ(Dosing Frequency per Interval): 用来表示在一个特定时间内, CMDOSE(用药管理)的重复次数. 如BID(一天两次), Q12H(每12小时)
CMROUTE(Route of Administration): CMTRT的管理途径, 如口服(ORAL), 静脉注射(INTRAVENNOUS)
CMSTDEC/CMENDTC(Start/End Date/Time of Medication
CMDUR(Duration of Medication): 收集一段治疗事件的持续时间. 仅当CRF有收集时使用, 不能由开始和结束时间导出</code></pre>
</div>
<div id="dm-demographics" class="section level4" number="28.1.3.4">
<h4><span class="header-section-number">28.1.3.4</span> DM (Demographics)</h4>
<pre><code>RFSTDTC (Subject Reference Start Date/Time): 通常等于subject首次用药时间. 对于所有rand pop是必要的, 对于未达到里程碑事件的subject(如Screen failure或unassigned)赋值为空.
RFENDTC (Subject Reference End Date/TIme): 通常等于subject结束试验的日期, 或者最后一次用药时间, 对于所有rand pop是必要的, 对于未达到里程碑事件的subject(如Screen failure或unassigned)赋值为空.
RFXSTDTC (Date/Time of First Study Treatment): 首次暴露于任何protocol-specified治疗的时间, 等于最早的EXSTDTC.
RFXENDTC (Date/Time of Last Study Treatment): 末次暴露于任何protocol-specified治疗的时间, 等于最晚的EXSTDTC.(如果EXENDTC没有收集或缺失, 则等于最晚的EXSTDTC).
RFICDTC (Date/Time of Informed Consent): 知情同意书时间, 即DS domain中的知情同意书时间.
RFPENDTC (Date/Time of End of Participation): Subject停止参与试验或follow-up时间, 定义于Protocol中. 对于一个subject应等于其在整个试验中最完被记录的时间, 可以是完成试验日期, 退出日期, 最后一次follow-up, 失访日期 或者 死亡日期.</code></pre>
</div>
<div id="lb-laboratory-test-results" class="section level4" number="28.1.3.5">
<h4><span class="header-section-number">28.1.3.5</span> LB (Laboratory Test Results)</h4>
<p>包括但不限于hematology, clinical chemistry, urinalysis数据. 该domain不包含microbiology和pharmacokinetic数据, 二者储存于其他独立的domain中</p>
<pre><code>LBTESTCD/LBTEST
LBCAT/LBSCAT
LBSTNRLO(Reference Range Lower Limit-Std Units): 标准单位表示参照范围的下限
LBSTNRHI(Upper)
LBSTNRC(Reference Range for Char Rslt-Std Units): 正常范围值， 有序范围(&quot;-1 to +1&quot;)或是分类范围(&quot;NEGATIVE TO TRACE&quot;).
LBNRIND(Reference Range Indicator): 表明测量值是否落入参考范围中(LBORNRLO/HI, LBSTNRLO/HI, LBSTNRC)
LBSPEC(Specimen Type):  定义样本类型， 如 SERUM(血清) PLASMA(血浆) URINE(尿液)
LBSPCCND(Specimen Condition): 自由文本或标准文本, 描述样本的条件 ， 如HEMOLYZED（溶血）, ICTERIC（黄疸）
LBMETHOD(Method of Test or Examination): 测试或检查方法. 如EIA(Enzyme Immunoassay), ELECTROPHORESIS, DIPSTICK</code></pre>
</div>
<div id="mh-medical-history" class="section level4" number="28.1.3.6">
<h4><span class="header-section-number">28.1.3.6</span> MH (Medical History)</h4>
<p>包括subject在试验开始前的用药历史. MH的信息可以包括general medical history, gynecological history, primary diagnosis. 注意既往和伴随用药应当提交到干涉组的合理的数据集中</p>
<pre><code>MHTERM: 收集事件的本名, 是MH数据集的topic变量
MHMODIFY是容许变量, 如果sponsor流程允许对本名进行修改, 则需要包含进数据集中. 允许有空值.
MHDECOD: 如果sponsor用标准字典来编码MHTERM, 则MHDECOD需要被导出.
MHBODSYS: 来自于与AE有关的编码字典的system organ class
MHCAT &amp; MHSCAT: 可以根据sponsor预定义的用药历史事件类别导出, 通常是预设在CRF中. 注意即使sponsor使用标准字典的body system术语表
MHCAT可以是&#39;General Medical History&#39;, &#39;Allergy Medical History&#39;, &#39;Reproductive Medical History&#39;.
MHOCCUR用来表示预设的用药条件是否发生. Y表示发生， N表示未发生
</code></pre>
</div>
<div id="vs-vital-signs" class="section level4" number="28.1.3.7">
<h4><span class="header-section-number">28.1.3.7</span> VS (Vital Signs)</h4>
<pre><code>
对于已定义时间点（VSTPT）的每条记录，经过时间（VSELTM）已用于显示剂量之前或之后以ISO8601格式显示的时间量。
VSTPT: 每条记录已定义时间点
VSELTM: 经过时间, 显示剂量之前或之后以ISO8601格式显示的时间量
VSPTPREF: 时间点参考
VSRFTDTC: 用于存储的实际日期/时间</code></pre>
</div>
</div>
<div id="sdtm-define.xml" class="section level3" number="28.1.4">
<h3><span class="header-section-number">28.1.4</span> SDTM Define.xml</h3>
<p>XML是Extensible Markup Language的简bai写，一种扩展性du标识语言,用于标记zhi电子文件使其具dao有结构性的zhuan标记语言，可以用来标记数据shu、定义数据类型，是一种允许用户对自己的标记语言进行定义的源语言</p>
<p>使用元数据文件来驱动SDTM域创建的一个重要好处是，您具有构建define.xml的基本要素。每个电子表格代表元数据文件的各个部分：</p>
<ul>
<li>Table of Contents metadata file</li>
<li>Variable-level metadata file</li>
<li>Codelist metadata file</li>
<li>Value-level metadata file</li>
<li>Where clause metadata file</li>
<li>Computational method metadata file</li>
<li>Comments metadata file</li>
<li>External links metadata file</li>
</ul>
<p><strong>Table of Contents Metadata</strong></p>
<p>The Table of Contents metadata is called that because it represents the metadata required to produce the Table of Contents section of the define.xml file. The Table of Contents in the define.xml file is just what it sounds like, a list of the domain datasets, what they are for, and where they can be found.</p>
<blockquote>
<p>目录元数据之所以被称为是因为它表示生成define.xml文件的目录部分所需的元数据。 define.xml文件中的目录听起来像是域数据集的列表，它们的用途以及在何处可以找到它们。</p>
</blockquote>
<p><strong>Variable-Level Metadata</strong></p>
<blockquote>
<p>域级别或数据集级别的元数据是有关SDTM域本身的描述性信息。 此元数据用于定义域或数据集变量内容，该内容是define.xml文件的ItemRef组件。该元数据包含每个SDTM域和变量的定义框架，因此是在Base SAS中构建SDTM域的主力军。 此元数据包含诸如SAS标签，SAS变量类型，SAS变量长度，任何代码列表名称以及其他关联的元数据的定义。 此元数据中的每一行代表SDTM域数据集中的变量。</p>
</blockquote>
<table>
<colgroup>
<col width="5%" />
<col width="94%" />
</colgroup>
<thead>
<tr class="header">
<th>Title</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>DOMAIN</td>
<td>Content</td>
</tr>
<tr class="even">
<td>VARNUM</td>
<td>The order of the variable</td>
</tr>
<tr class="odd">
<td>TYPE</td>
<td>text, integer, float, datetime, date, or time,…</td>
</tr>
<tr class="even">
<td>LENGTH</td>
<td>Content</td>
</tr>
<tr class="odd">
<td>LABEL</td>
<td>Content</td>
</tr>
<tr class="even">
<td>SIGNIFICANTDIGITS</td>
<td>如果type = float，则应使用代表该变量小数位数的整数填充</td>
</tr>
<tr class="odd">
<td>ORIGIN</td>
<td>Valid values are: CRF, Derived, Assigned, Protocol, eDT, and Predecessor. “CRF” may be followed by “Page” or “Pages” and the corresponding annotated CRF page numbers (for example, “CRF Page 1”). If Derived, then a COMPUTATIONMETHODOID should be provided. Predecessor is typically used for ADaM data.</td>
</tr>
</tbody>
</table>
</div>
<div id="extract-transform-load-etl" class="section level3" number="28.1.5">
<h3><span class="header-section-number">28.1.5</span> Extract-Transform-Load (ETL)</h3>
<p>用于SDTM转换的基本SAS宏和工具将临床源数据转换为CDISC SDTM涉及的许多任务本质上都是重复的。 SAS宏语言是用于自动化这些重复任务的出色工具。</p>
<p>SDTM创建过程的基本流程将遵循数据仓库的提取-转换-加载（ETL）范例。您首先需要获取数据，然后对其进行处理以满足您的需求。最后，将数据存储在需要的地方。下表按时间顺序汇总了有助于数据转换过程的SAS宏</p>
<table>
<colgroup>
<col width="10%" />
<col width="89%" />
</colgroup>
<thead>
<tr class="header">
<th>Title</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>make_codelist_formats</td>
<td>该程序从SDTM元数据中获取受控的术语和代码列表信息，并从中创建一个永久的SAS格式库。 当在DATA步骤中使用PUT语句将源数据值映射到目标SDTM数据值时，该格式库将在数据转换过程中稍后使用。</td>
</tr>
<tr class="even">
<td>make_empty_dataset</td>
<td>该宏根据SDTM元数据创建一个空的数据集外壳。使用元数据来定义哪些变量属于给定SDTM域，这是转换步骤的开始。 该宏还创建了一个宏变量，可以在加载步骤中使用该变量，以仅保留每个元数据需求所需的变量。</td>
</tr>
<tr class="odd">
<td>make_dtc_date</td>
<td>根据SAS日期或日期时间组件变量创建ISO8601日期字符串。 在DATA步骤转换过程中使用它。</td>
</tr>
<tr class="even">
<td>make_sdtm_dy</td>
<td>给定两个SDTM * DTC日期时，此宏会创建一个SDTM study day （DY）变量。 在DATA步骤转换过程中使用它。</td>
</tr>
<tr class="odd">
<td>make_sort_order</td>
<td>此宏创建一个宏变量，该变量可以在排序过程中用于最终数据加载。</td>
</tr>
</tbody>
</table>
</div>
<div id="example-building-dm-sdtm-datasets" class="section level3" number="28.1.6">
<h3><span class="header-section-number">28.1.6</span> Example Building DM SDTM Datasets</h3>
<p>有了元数据存储和SAS宏库，您可以在Base SAS中构建SDTM域。</p>
<ol style="list-style-type: decimal">
<li>首先，创建专用的DM域 (special-purpose DM domain)，因为在域数据集中创建学习日（–DY）变量是必需的</li>
<li>然后，创建一个补充性限定词，发现，事件和干预措施 (supplemental qualifier, findings, events, and interventions)</li>
</ol>
<div id="special-purpose-dm" class="section level4" number="28.1.6.1">
<h4><span class="header-section-number">28.1.6.1</span> Special-Purpose DM</h4>
<ol style="list-style-type: decimal">
<li>Create empty DM dataset; %make_empty_dataset(metadatafile=SDTM_METADATA.xIs,dataset=DM)</li>
<li>Get the first and last dose date of RFSTDTC and RFENDTC;</li>
<li>Get demographic data;</li>
<li>Merge first and last dose date with demographic</li>
<li>Derive majority of the SDTM DM variables;</li>
<li>根据元数据排序DM并保存永久数据集; %make_sort_order(metadatafile=SDTM_METADATA.xIs,dataset=DM)</li>
</ol>
<pre><code>**** DERIVE THE MAJORITY OF SDTM DM VARIABLES;
options missing = &#39; &#39;;
data dm;
  set EMPTY_DM
    demog_dose(rename=(race=_race));

    studyid = &#39;XYZ123&#39;;
    domain = &#39;DM&#39;;
    usubjid = left(uniqueid);
    subjid = put(subject,3.); 
    rfstdtc = put(firstdose,yymmdd10.);  
    rfendtc = put(lastdose,yymmdd10.); 
    siteid = substr(subjid,1,1) || &quot;00&quot;;
    brthdtc = put(dob,yymmdd10.);
    age = floor ((intck(&#39;month&#39;,dob,firstdose) - 
          (day(firstdose) &lt; day(dob))) / 12);
    if age ne . then
        ageu = &#39;YEARS&#39;;
    sex = put(gender,sex_demographic_gender.);
    race = put(_race,race_demographic_race.);
    armcd = put(trt,armcd_demographic_trt.);
    arm = put(trt,arm_demographic_trt.);
    country = &quot;USA&quot;; 
run; 

**** SORT DM ACCORDING TO METADATA AND SAVE PERMANENT DATASET; 
%make_sort_order(metadatafile=SDTM_METADATA.xls,dataset=DM)
proc sort
 data=dm(keep = &amp;DMKEEPSTRING)
 out=target.dm;
 by &amp;DMSORTSTRING;
run; </code></pre>
</div>
<div id="suppdm-domains" class="section level4" number="28.1.6.2">
<h4><span class="header-section-number">28.1.6.2</span> SUPPDM Domains</h4>
<p>Define SUPPDM for other race;<br />
CREATE EMPTY SUPPDM DATASET CALLED EMPTY_SUPPDM;
%make_empty_dataset(metadatafile=SDTM_METADATA.xls,dataset=SUPPDM)</p>
<pre><code>data suppdm;
 set EMPTY_SUPPDM
 dm;
 keep &amp;SUPPDMKEEPSTRING; 
 **** OUTPUT OTHER RACE AS A SUPPDM VALUE; 
 if orace ne &#39;&#39; then
 do;
 rd1omain = &#39;DM&#39;;
 qnam = &#39;RACEOTH&#39;;
 qlabel = &#39;Race, Other&#39;;
 qval = left(orace);
 qorig = &#39;CRF Page 1&#39;;
 output;
 end;
 **** OUTPUT RANDOMIZATION DATE AS SUPPDM VALUE;
 if randdt ne . then
 do;
 rdomain = &#39;DM&#39;;
 qnam = &#39;RANDDTC&#39;;
 qlabel = &#39;Randomization Date&#39;;
 qval = left(put(randdt,yymmdd10.));
 qorig = &#39;CRF Page 1&#39;;
 output;
 end;
run; 

**** SORT SUPPDM ACCORDING TO METADATA AND SAVE PERMANENT DATASET;
%make_sort_order(metadatafile=SDTM_METADATA.xls,dataset=SUPPDM)
proc sort
 data=suppdm
 out=target.suppdm;
 by &amp;SUPPDMSORTSTRING;
run;</code></pre>
</div>
<div id="building-ae-sdtm-datasets" class="section level4" number="28.1.6.3">
<h4><span class="header-section-number">28.1.6.3</span> Building AE SDTM Datasets</h4>
<ul>
<li>CREATE EMPTY DM DATASET CALLED EMPTY_AE;</li>
<li>DERIVE THE MAJORITY OF SDTM AE VARIABLES;</li>
<li>CREATE SDTM STUDYDAY VARIABLES;</li>
<li>CREATE SEQ VARIABLE;"Sequence Number</li>
<li>SORT AE ACCORDING TO METADATA AND SAVE PERMANENT DATASET;</li>
</ul>
<pre><code>**** CREATE EMPTY DM DATASET CALLED EMPTY_AE;
%make_empty_dataset(metadatafile=C:\path\SDTM_METADATA.xlsx,dataset=AE)
 

**** DERIVE THE MAJORITY OF SDTM AE VARIABLES;
options missing = &#39; &#39;;
data ae;
  set EMPTY_AE
  source.adverse(rename=(aerel=_aerel aesev=_aesev));

    studyid = &#39;XYZ123&#39;;
    domain = &#39;AE&#39;;
    usubjid = left(uniqueid);
    aeterm = left(aetext);
    aedecod = left(prefterm);
    aebodsys = left(bodysys);
    aesev = put(_aesev,aesev_adverse_aesev.);
    aeacn = put(aeaction,acn_adverse_aeaction.);
    aerel = put(_aerel,aerel_adverse_aerel.);
    aeser = put(serious,$ny_adverse_serious.);
    aestdtc = put(aestart,yymmdd10.);
    aeendtc = put(aeend,yymmdd10.);
run;

 
proc sort
  data=ae;
    by usubjid;
run;

**** CREATE SDTM STUDYDAY VARIABLES;
data ae;
  merge ae(in=inae) target.dm(keep=usubjid rfstdtc);
    by usubjid;

    if inae;

    %make_sdtm_dy(date=aestdtc); 
    %make_sdtm_dy(date=aeendtc); 
run;


**** CREATE SEQ VARIABLE;
proc sort
  data=ae;
    by studyid usubjid aedecod aestdtc aeendtc;
run;

data ae;
  retain &amp;AEKEEPSTRING;
  set ae(drop=aeseq);
    by studyid usubjid aedecod aestdtc aeendtc;

    if not (first.aeendtc and last.aeendtc) then
      put &quot;WARN&quot; &quot;ING: key variables do not define an unique record. &quot; usubjid=;

    retain aeseq;
    if first.usubjid then
      aeseq = 1;
    else
      aeseq = aeseq + 1;
        
    label aeseq = &quot;Sequence Number&quot;;
run;



**** SORT AE ACCORDING TO METADATA AND SAVE PERMANENT DATASET;
%make_sort_order(metadatafile=C:\path\SDTM_METADATA.xlsx,dataset=AE)


proc sort
  data=ae(keep = &amp;AEKEEPSTRING)
  out=target.ae;
    by &amp;AESORTSTRING;
run;</code></pre>
</div>
</div>
</div>
<div id="sdtm-sas-macro" class="section level2" number="28.2">
<h2><span class="header-section-number">28.2</span> SDTM SAS Macro</h2>
<div id="make_define" class="section level3" number="28.2.1">
<h3><span class="header-section-number">28.2.1</span> ％make_define</h3>
<p>％make_define为SDTM和ADaM创建define.xml文件。它基于在Excel电子表格中找到的一组元数据选项卡的内容创建define.xml。</p>
<pre><code>*---------------------------------------------------------------*;
* %make_define creates the define.xml file for the SDTM and ADaM.  
* It creates define.xml based on the contents of a set of metadata
* tabs found in an Excel spreadsheet.
*
* PARAMETERS:
*            path = System path to where the SDTM or ADaM metadata
*                   file exists as well as where the define.xml
*                   file will be stored.
*        metadata = The name of the metadata spreadsheet.
*
* It requires that the following tabs exist in the metadata file:
* DEFINE_HEADER_METADATA = define file header metadata
* TOC_METADATA = &quot;table of contents&quot; dataset metadata
* VARIABLE_METADATA = variable/column level metadata
* VALUELEVEL_METADATA = value/parameter level metadata
* COMPUTATIONAL_MKETHOD = computational methods
* CODELISTS = controlled terminology metadata
* ANALYSIS_RESULTS = ADaM analysis metadata. [Only for ADaM define]
* EXTERNAL_LINKS = ADaM results file pointers. [Only for ADaM define]
*---------------------------------------------------------------*;

%macro make_define(path=,metadata=);

**** GET DEFINE FILE HEADER INFORMATION METADATA;
proc import 
    out = define_header
    datafile = &quot;&amp;path\&amp;metadata&quot; 
    dbms=excelcs 
    replace;
    sheet=&quot;DEFINE_HEADER_METADATA&quot;;
run;

**** DETERMINE IF THIS IS A SDTM DEFINE FILE OR AN ADAM DEFINE FILE
**** AND SET THE STANDARD MACRO VARIABLE FOR THE REST OF THE PROGRAM;
data _null_;
    set define_header;

    if upcase(standard) = &#39;ADAM&#39; then
        call symput(&#39;standard&#39;,&#39;ADAM&#39;);
    else if upcase(standard) = &#39;SDTM&#39; then
        call symput(&#39;standard&#39;,&#39;SDTM&#39;);
    else
        put &quot;ERR&quot; &quot;OR: CDISC standard undefined in define_header_metadata&quot;;
run;

**** GET &quot;TABLE OF CONTENTS&quot; LEVEL DATASET METADATA;
proc import 
    out = toc_metadata
    datafile = &quot;&amp;path\&amp;metadata&quot; 
    dbms=excelcs 
    replace;
    sheet = &quot;TOC_METADATA&quot; ;
run;

**** GET THE VARIABLE METADATA;
proc import 
    out = VARIABLE_METADATA
    datafile = &quot;&amp;path\&amp;metadata&quot;
    dbms=excelcs
    replace;
    sheet = &quot;VARIABLE_METADATA&quot;;
run;

**** GET THE CODELIST METADATA;
proc import 
    out = codelists
    datafile = &quot;&amp;path\&amp;metadata&quot; 
    dbms=excelcs
    replace;
    sheet = &quot;CODELISTS&quot; ;
run; 

**** GET THE COMPUTATIONAL METHOD METADATA;
proc import 
    out = compmethod
    datafile = &quot;&amp;path\&amp;metadata&quot; 
    dbms=excelcs
    replace;
    sheet = &quot;COMPUTATION_METHOD&quot; ;
run; 

**** GET THE VALUE LEVEL METADATA;
proc import 
    out = valuelevel
    datafile = &quot;&amp;path\&amp;metadata&quot; 
    dbms=excelcs
    replace;
    sheet = &quot;VALUELEVEL_METADATA&quot; ;
run; 

%if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
  %do;
    **** GET THE ANALYSIS RESULTS METADATA;
    proc import 
        out = analysisresults
        datafile = &quot;&amp;path\&amp;metadata&quot; 
        dbms=excelcs
        replace;
        sheet = &quot;ANALYSIS_RESULTS&quot; ;
    run; 

    **** GET THE ANALYSIS RESULTS METADATA;
    proc import 
        out = externallinks
        datafile = &quot;&amp;path\&amp;metadata&quot; 
        dbms=excelcs
        replace;
        sheet = &quot;EXTERNAL_LINKS&quot; ;
    run; 
  %end;

**** USE HTMLENCODE ON SOURCE TEXT THAT NEEDS ENCODING FOR PROPER BROWSER REPRESENTATIION;
%if &amp;standard=ADAM %then
  %do;
  
    data toc_metadata;
        length documentation $ 800;
            set toc_metadata;
      
          documentation = htmlencode(documentation);
          ** convert single quotes to double quotes;
          documentation = tranwrd(documentation, &quot;&#39;&quot;, &#39;&quot;&#39;);
          ** convert double quotes to html quote;
          documentation = tranwrd(trim(documentation), &#39;&quot;&#39;, &#39;&amp;quot;&#39;);
          format documentation $800.;
    run;
  
  %end;
  
        
data variable_metadata;
    length comment $ 2000;
    set variable_metadata;

    format comment;
    informat comment;   
    origin = htmlencode(origin); 
    label = htmlencode(label); 
    comment = htmlencode(comment); 

    **** FOR ADAM, JOIN ORIGIN/&quot;SOURCE&quot; AND COMMENT
    **** TO FORM &quot;SOURCE/DERIVATION&quot; METADATA;
    if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin ne &#39;&#39; and 
        comment ne &#39;&#39; then 
      comment = &quot;SOURCE: &quot; || left(trim(origin)) ||
                &quot; DERIVATION: &quot; || left(trim(comment)); 
    else if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin ne &#39;&#39; and 
        comment = &#39;&#39; then 
      comment = &quot;SOURCE: &quot; || left(trim(origin)); 
    if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin = &#39;&#39; and 
        comment ne &#39;&#39; then 
      comment = &quot;DERIVATION: &quot; || left(trim(comment)); 
run;

data codelists;
    set codelists;

    codedvalue = htmlencode(codedvalue);
    translated = htmlencode(translated);
run;

data compmethod;
    set compmethod;

    computationmethod = htmlencode(computationmethod); 
run;

data valuelevel;
    length comment $ 2000;
    set valuelevel;

    format comment;
    informat comment;   
    origin = htmlencode(origin); 
    label = htmlencode(label); 
    comment = htmlencode(comment); 

    **** FOR ADAM, JOIN ORIGIN/&quot;SOURCE&quot; AND COMMENT
    **** TO FORM &quot;SOURCE/DERIVATION&quot; METADATA;
    if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin ne &#39;&#39; and 
        comment ne &#39;&#39; then 
      comment = &quot;SOURCE: &quot; || left(trim(origin)) ||
                &quot; DERIVATION: &quot; || left(trim(comment)); 
    else if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin ne &#39;&#39; and 
        comment = &#39;&#39; then 
      comment = &quot;SOURCE: &quot; || left(trim(origin)); 
    if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin = &#39;&#39; and 
        comment ne &#39;&#39; then 
      comment = &quot;DERIVATION: &quot; || left(trim(comment)); 
run;


%if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
  %do;
    data analysisresults;
         length programmingcode $800. docleafid $40.;
      set analysisresults;
      where displayid ne &#39;&#39;;
          
      arrow + 1;
      selectioncriteria = htmlencode(selectioncriteria); 
      paramlist = htmlencode(paramlist);
      reason = htmlencode(reason); 
      documentation = htmlencode(documentation);
      if index(documentation, &#39;[r]&#39;)&gt;0 then
        docleafid = substr(documentation, index(documentation,&#39;[r]&#39;)+3, index(documentation,&#39;[\r]&#39;)-index(documentation,&#39;[r]&#39;)-3);
      else
        docleafid = &#39;.&#39;;
          
      programmingcode = htmlencode(programmingcode); 
      ** convert single quotes to double quotes;
      programmingcode = tranwrd(programmingcode, &quot;&#39;&quot;, &#39;&quot;&#39;);
      ** convert double quotes to html quote;
      programmingcode = tranwrd(programmingcode, &#39;&quot;&#39;, &#39;&amp;quot;&#39;);
      format programmingcode $800.;
    run;

    ** ENSURE UNIQUENESS ON DISPLAYID AND RESULTID AND CREATE A COMBO ID;
    data analysisresults;
      set analysisresults;
      by displayid notsorted;
    
      drop resultnum;
      retain resultnum;
      if first.displayid then
          resultnum = 0;
      resultnum + 1;
      if not(first.displayid and last.displayid) then
          arid = trim(displayid) || &quot;.R.&quot; || put(resultnum,z2.);
      else
          arid = displayid;
    run;          
            
    ** IF DOCLEAFID IS NON-MISSING, MERGE IN THE TITLE FROM EXTERNAL_LINKS;
    proc sort
      data = analysisresults;
      by docleafid;
    run;
 
    proc sort
      data = externallinks (keep = leafid title rename=(leafid=docleafid title=doctitle))
      out  = doc_links;
      by docleafid;
    run;
 
    data analysisresults;
      merge analysisresults (in = inar) doc_links (in = indoc_links);
      by docleafid;
    
      if inar;
      ** if the leaf ID exists, then the title of the leaf ID will be printed and can be removed from DOCUMENTIATION;
      if indoc_links then
        documentation = tranwrd(documentation, &#39;[r]&#39; || trim(docleafid) || &#39;[\r]&#39;, &quot; &quot;);
    run;

    proc sort
      data = analysisresults;
      by arrow;
    run;
  %end;
    
**** CREATE DEFINE FILE HEADER SECTION;
filename dheader &quot;&amp;path\define_header.txt&quot;;
data define_header;
    set define_header;

    file dheader notitles;

    creationdate = compress(put(datetime(), IS8601DT.));

    put @1 &#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;&#39; /
        @1 &#39;&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;&#39; stylesheet +(-1) &#39;&quot;?&gt;&#39; /
        @1 &#39;&lt;!-- ******************************************************************************* --&gt;&#39; /
        @1 &#39;&lt;!-- File: define.xml                                                                --&gt;&#39; /
        @1 &quot;&lt;!-- Date: &amp;sysdate9.                                                                --&gt;&quot; /
        @1 &#39;&lt;!-- Description: Define.xml file for &#39;   studyname +(-1) &#39;                          --&gt;&#39; /
        @1 &#39;&lt;!-- ******************************************************************************* --&gt;&#39; /
        @1 &#39;&lt;ODM&#39; /
        @3 &#39;xmlns=&quot;http://www.cdisc.org/ns/odm/v1.2&quot;&#39; /
        @3 &#39;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#39; /
        @3 &#39;xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&#39; /
        @3 &#39;xmlns:def=&quot;http://www.cdisc.org/ns/def/v1.0&quot;&#39; /
        %if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
          @3 &#39;xmlns:adamref=&quot;http://www.cdisc.org/ns/ADaMRes/DRAFT&quot;&#39; /
        ;
        @3 &#39;xsi:schemaLocation=&quot;&#39; schemalocation +(-1) &#39;&quot;&#39; /
        @3 &#39;FileOID=&quot;&#39; fileoid +(-1) &#39;&quot;&#39; /
        @3 &#39;ODMVersion=&quot;1.2&quot;&#39; /
        @3 &#39;FileType=&quot;Snapshot&quot;&#39; /
        @3 &#39;CreationDateTime=&quot;&#39; creationdate +(-1) &#39;&quot;&gt;&#39; /
        @1 &#39;&lt;Study OID=&quot;&#39; studyoid +(-1) &#39;&quot;&gt;&#39; /
        @3 &#39;&lt;GlobalVariables&gt;&#39; /
        @5 &#39;&lt;StudyName&gt;&#39; studyname +(-1) &#39;&lt;/StudyName&gt;&#39; /
        @5 &#39;&lt;StudyDescription&gt;&#39; studydescription +(-1) &#39;&lt;/StudyDescription&gt;&#39; /
        @5 &#39;&lt;ProtocolName&gt;&#39; protocolname +(-1) &#39;&lt;/ProtocolName&gt;&#39; /
        @3 &#39;&lt;/GlobalVariables&gt;&#39; /
        @3 &#39;&lt;MetaDataVersion OID=&quot;CDISC.&#39; standard +(-1) &#39;.&#39; version +(-1) &#39;&quot;&#39; /
        @5 &#39;Name=&quot;&#39; studyname +(-1) &#39;,Data Definitions&quot;&#39; /
        @5 &#39;Description=&quot;&#39; studyname +(-1) &#39;,Data Definitions&quot;&#39; /
        @5 &#39;def:DefineVersion=&quot;1.0.0&quot;&#39; /
        @5 &#39;def:StandardName=&quot;CDISC &#39; standard +(-1) &#39;&quot;&#39; /
        @5 &#39;def:StandardVersion=&quot;&#39; version +(-1) &#39;&quot;&gt;&#39; /
        %if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
          %do;
            @5 &#39;&lt;def:SupplementalDoc&gt;&#39; /
            @7 &#39;&lt;def:DocumentRef leafID=&quot;Suppdoc&quot;/&gt;&#39; /
            @5 &#39;&lt;/def:SupplementalDoc&gt;&#39; /
            @5 &#39;&lt;def:leaf ID=&quot;Suppdoc&quot; xlink:href=&quot;dataguide.pdf&quot;&gt;&#39; /
            @7 &#39;&lt;def:title&gt;Data Guide&lt;/def:title&gt;&#39; /
          %end;
        %else %if &quot;&amp;standard&quot; = &quot;SDTM&quot; %then
          %do;
            @5 &#39;&lt;def:AnnotatedCRF&gt;&#39; /
            @7 &#39;&lt;def:DocumentRef leafID=&quot;blankcrf&quot;/&gt;&#39; /
            @5 &#39;&lt;/def:AnnotatedCRF&gt;&#39; /
            @5 &#39;&lt;def:leaf ID=&quot;blankcrf&quot; xlink:href=&quot;blankcrf.pdf&quot;&gt;&#39; /
            @7 &#39;&lt;def:title&gt;Annotated Case Report Form&lt;/def:title&gt;&#39; /
          %end;
        @5 &#39;&lt;/def:leaf&gt;&#39;;
run;

**** ADD OTHER ADAM EXTERNAL LINKS;
%if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
  %do;
    filename leaves &quot;&amp;path\leaves.txt&quot;;
    data _null_;
      set externallinks;
  
      file leaves notitles;

      put @5 &#39;&lt;def:leaf ID=&quot;&#39; leafid +(-1) &#39;&quot;&#39;     /
          @7 &#39;xlink:href=&quot;&#39; leafrelpath +(-1) &#39;&quot;&gt;&#39; /
          @7 &#39;&lt;def:title&gt;&#39; title &#39;&lt;/def:title&gt;&#39;    /
          @5 &#39;&lt;/def:leaf&gt;&#39;
          ;
    run;            
  %end;


**** ADD ITEMOID TO VARIABLE METADATA;
data variable_metadata;
    set variable_metadata(rename=(domain = oid));

    length itemoid $ 40;
    if variable in (&quot;STUDYID&quot;,&quot;DOMAIN&quot;,&quot;USUBJID&quot;,&quot;SUBJID&quot;) then
      itemoid = variable;
    else
      itemoid = compress(oid || &quot;.&quot; || variable);
run;

**** ADD ITEMOID TO VALUE LEVEL METADATA;
data valuelevel;
    set valuelevel;

    length itemoid $ 200;
    itemoid = compress(valuelistoid || &quot;.&quot; || valuename);
run;

**** CREATE COMPUTATION METHOD SECTION;
filename comp &quot;&amp;path\compmethod.txt&quot;;
data compmethods;
    set compmethod;

    file comp notitles;

    if _n_ = 1 then
    put @5 &quot;&lt;!-- ******************************************* --&gt;&quot; /
        @5 &quot;&lt;!-- COMPUTATIONAL METHOD INFORMATION        *** --&gt;&quot; /    
        @5 &quot;&lt;!-- ******************************************* --&gt;&quot;;
    put @5 &#39;&lt;def:ComputationMethod OID=&quot;&#39; computationmethodoid +(-1) &#39;&quot;&gt;&#39; computationmethod +(-1) &#39;&lt;/def:ComputationMethod&gt;&#39;;   
run;


**** CREATE VALUE LEVEL LIST DEFINITION SECTION;
proc sort
    data=valuelevel;
    where valuelistoid ne &#39;&#39;;
    by valuelistoid;
run;

filename vallist &quot;&amp;path\valuelist.txt&quot;;
data valuelevel;
  set valuelevel;
    by valuelistoid;

    file vallist notitles;

    if _n_ = 1 then
      put @5 &quot;&lt;!-- ******************************************* --&gt;&quot; /
          @5 &quot;&lt;!-- VALUE LEVEL LIST DEFINITION INFORMATION  ** --&gt;&quot; /    
          @5 &quot;&lt;!-- ******************************************* --&gt;&quot;;

    if first.valuelistoid then
      put @5 &#39;&lt;def:ValueListDef OID=&quot;&#39; valuelistoid +(-1) &#39;&quot;&gt;&#39;;

    put @7 &#39;&lt;ItemRef ItemOID=&quot;&#39; itemoid /*valuename*/ +(-1) &#39;&quot;&#39; /
        @9 &#39;Mandatory=&quot;&#39; mandatory +(-1) &#39;&quot;/&gt;&#39;;

    if last.valuelistoid then
      put @5 &#39;&lt;/def:ValueListDef&gt;&#39;;
run;



**** CREATE &quot;ITEMGROUPDEF&quot; SECTION;
proc sort
    data=VARIABLE_METADATA;
    where oid ne &#39;&#39;;
    by oid varnum;
run;

proc sort
    data=toc_metadata;
    where oid ne &#39;&#39;;
    by oid;
run;

filename igdef &quot;&amp;path\itemgroupdef.txt&quot;;
data itemgroupdef;
    length label $ 40;
    merge toc_metadata VARIABLE_METADATA(drop=label);
    by oid;

    file igdef notitles; 

    if first.oid then
      do;
        put @5 &quot;&lt;!-- ******************************************* --&gt;&quot; /
            @5 &quot;&lt;!-- &quot; oid   @25   &quot;ItemGroupDef INFORMATION *** --&gt;&quot; /    
            @5 &quot;&lt;!-- ******************************************* --&gt;&quot; /
            @5 &#39;&lt;ItemGroupDef OID=&quot;&#39; oid +(-1) &#39;&quot;&#39; /
            @7 &#39;Name=&quot;&#39; name +(-1) &#39;&quot;&#39; /
            @7 &#39;Repeating=&quot;&#39; repeating +(-1) &#39;&quot;&#39; /
            @7 &#39;Purpose=&quot;&#39; purpose +(-1) &#39;&quot;&#39; /
            @7 &#39;IsReferenceData=&quot;&#39; isreferencedata +(-1) &#39;&quot;&#39; /
            @7 &#39;def:Label=&quot;&#39; label +(-1) &#39;&quot;&#39; /
            @7 &#39;def:Structure=&quot;&#39; structure +(-1) &#39;&quot;&#39; /
            @7 &#39;def:DomainKeys=&quot;&#39; domainkeys +(-1) &#39;&quot;&#39; /
            @7 &#39;def:Class=&quot;&#39; class +(-1) &#39;&quot;&#39; ;
        %if &amp;standard=ADAM %then
          put @7 &#39;def:ArchiveLocationID=&quot;Location.&#39; archivelocationid +(-1) &#39;&quot;&#39; /
              @7 &#39;Comment=&quot;&#39; documentation +(-1) &#39;&quot;&gt;&#39; 
              ;
        %else 
          put @7 &#39;def:ArchiveLocationID=&quot;Location.&#39; archivelocationid +(-1) &#39;&quot;&gt;&#39;;        
        ;
      end;

    put @7 &#39;&lt;ItemRef ItemOID=&quot;&#39; itemoid +(-1) &#39;&quot;&#39; /
        @9 &#39;OrderNumber=&quot;&#39; varnum +(-1) &#39;&quot;&#39; /
        @9 &#39;Mandatory=&quot;&#39; mandatory +(-1) @;
        
    if role ne &#39;&#39; and &quot;&amp;standard&quot; = &quot;SDTM&quot; then
      put &#39;&quot;&#39; /
      @9 &#39;Role=&quot;&#39; role +(-1) &#39;&quot;&#39; /
      @9 &#39;RoleCodeListOID=&quot;CodeList.&#39; rolecodelist +(-1) &#39;&quot;/&gt;&#39;;
    else
      put &#39;&quot;/&gt;&#39;;


    if last.oid then
      put @7 &quot;&lt;!-- **************************************************** --&gt;&quot; /
          @7 &quot;&lt;!-- def:leaf details for hypertext linking the dataset   --&gt;&quot; /
          @7 &quot;&lt;!-- **************************************************** --&gt;&quot; /
          @7 &#39;&lt;def:leaf ID=&quot;Location.&#39; oid +(-1) &#39;&quot; xlink:href=&quot;&#39; archivelocationid +(-1) &#39;.xpt&quot;&gt;&#39; /
          @9 &#39;&lt;def:title&gt;&#39; archivelocationid +(-1) &#39;.xpt &lt;/def:title&gt;&#39; /
          @7 &#39;&lt;/def:leaf&gt;&#39; /
          @5 &#39;&lt;/ItemGroupDef&gt;&#39;;
run;
  

**** CREATE &quot;ITEMDEF&quot; SECTION;
filename idef &quot;&amp;path\itemdef.txt&quot;;
 
data itemdef;
    set VARIABLE_METADATA end=eof;
    by oid;

    file idef notitles; 

    if _n_ = 1 then
      put @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; /
          @5 &quot;&lt;!-- The details of each variable is here for all domains         --&gt;&quot; /
          @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; ;

    put @5 &#39;&lt;ItemDef OID=&quot;&#39; itemoid +(-1) &#39;&quot;&#39; /
        @7 &#39;Name=&quot;&#39; variable +(-1) &#39;&quot;&#39; /
        @7 &#39;DataType=&quot;&#39; type +(-1) &#39;&quot;&#39; /
        @7 &#39;Length=&quot;&#39; length +(-1) &#39;&quot;&#39;;
    if significantdigits ne &#39;&#39; then
      put @7 &#39;SignificantDigitis=&quot;&#39; significantdigits +(-1) &#39;&quot;&#39;;
    if displayformat ne &#39;&#39; then
      put @7 &#39;def:DisplayFormat=&quot;&#39; displayformat +(-1) &#39;&quot;&#39;;
    if computationmethodoid ne &#39;&#39; then
      put @7 &#39;def:ComputationMethodOID=&quot;&#39; computationmethodoid +(-1) &#39;&quot;&#39;;
    put %if &quot;&amp;standard&quot; = &quot;SDTM&quot; %then 
        @7 &#39;Origin=&quot;&#39; origin +(-1) &#39;&quot;&#39; / ;
        @7 &#39;Comment=&quot;&#39; comment +(-1) &#39;&quot;&#39; /          
        @7 &#39;def:Label=&quot;&#39; label +(-1) &#39;&quot;&gt;&#39;;

    if codelistname ne &#39;&#39; then
      put @7 &#39;&lt;CodeListRef CodeListOID=&quot;CodeList.&#39; codelistname +(-1) &#39;&quot;/&gt;&#39;;

    if valuelistoid ne &#39;&#39; then
      put @7 &#39;&lt;def:ValueListRef ValueListOID=&quot;&#39; valuelistoid +(-1) &#39;&quot;/&gt;&#39;;

    put @5 &#39;&lt;/ItemDef&gt;&#39;;
run;
 

**** ADD ITEMDEFS FOR VALUE LEVEL ITEMS TO &quot;ITEMDEF&quot; SECTION;
filename idefvl &quot;&amp;path\itemdef_value.txt&quot;;
 
data itemdefvalue;
    set valuelevel end=eof;
    by valuelistoid;

    file idefvl notitles; 

    if _n_ = 1 then
      put @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; /
          @5 &quot;&lt;!-- The details of value level items are here                    --&gt;&quot; /
          @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; ;

    put @5 &#39;&lt;ItemDef OID=&quot;&#39; itemoid /*valuename*/ +(-1) &#39;&quot;&#39; /
        @7 &#39;Name=&quot;&#39; valuename +(-1) &#39;&quot;&#39; /
        @7 &#39;DataType=&quot;&#39; type +(-1) &#39;&quot;&#39; /
        @7 &#39;Length=&quot;&#39; length +(-1) &#39;&quot;&#39;;
    if significantdigits ne &#39;&#39; then
      put @7 &#39;SignificantDigitis=&quot;&#39; significantdigits +(-1) &#39;&quot;&#39;;
    if displayformat ne &#39;&#39; then
      put @7 &#39;def:DisplayFormat=&quot;&#39; displayformat +(-1) &#39;&quot;&#39;;
    if computationmethodoid ne &#39;&#39; then
      put @7 &#39;def:ComputationMethodOID=&quot;&#39; computationmethodoid +(-1) &#39;&quot;&#39;;
    put %if &quot;&amp;standard&quot; = &quot;SDTM&quot; %then 
        @7 &#39;Origin=&quot;&#39; origin +(-1) &#39;&quot;&#39; / ;
        @7 &#39;Comment=&quot;&#39; comment +(-1) &#39;&quot;&#39; /          
        @7 &#39;def:Label=&quot;&#39; label +(-1) &#39;&quot;&gt;&#39;;

    if codelistname ne &#39;&#39; then
      put @7 &#39;&lt;CodeListRef CodeListOID=&quot;CodeList.&#39; codelistname +(-1) &#39;&quot;/&gt;&#39;;

    put @5 &#39;&lt;/ItemDef&gt;&#39;;
run;
 

**** ADD ANALYSIS RESULTS METADATA SECTION FOR ADAM;
%if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
  %do;
    filename ar &quot;&amp;path\analysisresults.txt&quot;;

    data _null_;
      set analysisresults;
      ** note that it is required that identical display IDs be adjacent to 
      ** each other in the metadata spreadsheet;
      by displayid notsorted;

      file ar notitles; 
      if _n_ = 1 then
        put @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; /
            @5 &quot;&lt;!-- Analysis Results MetaData are Presented Below                --&gt;&quot; /
            @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; 
            ;
      if first.displayid then
        put @5 &#39;&lt;adamref:AnalysisResultDisplays&gt;&#39; /
            @7 &#39;&lt;adamref:ResultDisplay DisplayIdentifier=&quot;&#39; displayid +(-1) 
               &#39;&quot; OID=&quot;&#39; displayid +(-1) &#39;&quot; DisplayLabel=&quot;&#39; displayname +(-1) 
               &#39;&quot; leafID=&quot;&#39; displayid +(-1) &#39;&quot;&gt;&#39;  ;
          
      put @9 &#39;&lt;adamref:AnalysisResults &#39; /
          @9 &#39;OID=&quot;&#39; arid +(-1) &#39;&quot;&#39; /
          @9 &#39;ResultIdentifier=&quot;&#39; resultid +(-1) &#39;&quot;&#39; /
          @9 &#39;Reason=&quot;&#39; reason +(-1) &#39;&quot;&gt;&#39; /
          @9 &#39;&lt;!-- List the parameters and parameter codes --&gt;&#39; /
          @9 &#39;&lt;adamref:ParameterList&gt;&#39;
          ;
        
      ** loop through PARAMCD/PARAM sets;
      set = 1;
      do while(scan(paramlist,set,&#39;|&#39;) ne &#39;&#39;);
        paramset = scan(paramlist,set,&#39;|&#39;);
        paramcd  = scan(paramset,1,&#39;/\&#39;);
        param    = trim(scan(paramset,2,&#39;/\&#39;));
        put @11 &#39;&lt;adamref:Parameter ParamCD=&quot;&#39; paramcd +(-1) 
                &#39;&quot; Param=&quot;&#39; param +(-1) &#39;&quot;/&gt;&#39; ;
        set = set + 1;
      end;
      put @9 &#39;&lt;/adamref:ParameterList&gt;&#39;;
    
      ** loop through the analysis variables;
      set = 1;
      do while(scan(analysisvariables,set,&#39;,&#39;) ne &#39;&#39;);
        analysisvar = scan(analysisvariables,set,&#39;,&#39;);
        put @11 &#39;&lt;adamref:AnalysisVariable ItemOID=&quot;&#39; analysisdataset +(-1) 
                &#39;.&#39; analysisvar +(-1) &#39;&quot;/&gt;&#39;;
        set = set + 1;
      end;
      put @9 &#39;&lt;!-- AnalysisDatasets are  pairs of dataset references and selection criteria. Dataset references are ItemGroupRefs.  The label in the xsl is the def:label for the ItemGroup --&gt;&#39;;
      put @9 &#39;&lt;adamref:AnalysisDataset&gt;&#39; /
          @11  &#39;&lt;ItemGroupRef ItemGroupOID=&quot;&#39; analysisdataset +(-1) &#39;&quot; Mandatory=&quot;No&quot;/&gt;&#39; /
          @11  &#39;&lt;adamref:SelectionCriteria&gt;&#39; /
          /* just use the row number of the data set as the unique number for the selection criteria */
          @13    &#39;&lt;def:ComputationMethod OID=&quot;SC&#39; _n_ z3. 
                 &#39;&quot; Name=&quot;Selection Criteria &#39; _n_ z3. &#39;&quot;&gt; [&#39; selectioncriteria &#39; ]&lt;/def:ComputationMethod&gt; &#39;/
          @11  &#39;&lt;/adamref:SelectionCriteria&gt; &#39; /
          @9 &#39;&lt;/adamref:AnalysisDataset&gt; &#39; /
          @9 &#39;&lt;adamref:Documentation leafID=&quot;&#39; docleafid +(-1) &#39;&quot;&gt;&#39; /
          @11  &#39;&lt;TranslatedText xml:lang=&quot;en&quot;&gt;&#39; Documentation  /
          @11  &#39;&lt;/TranslatedText&gt;&#39;        /
          @9  &#39;&lt;/adamref:Documentation&gt;&#39;  /
          @9  &#39;&lt;adamref:ProgrammingCode&gt;&#39; /
          @9  &#39;&lt;def:ComputationMethod OID=&quot;&#39;  displayid +(-1) &#39;&quot;&gt;&#39; /
          @1  ProgrammingCode /
          @9 &#39;&lt;/def:ComputationMethod&gt;&#39; /
          @9 &#39;&lt;/adamref:ProgrammingCode&gt;&#39; /
          @7 &#39;&lt;/adamref:AnalysisResults&gt;&#39; ;
        
      if last.displayid then
        put @5 &#39;&lt;/adamref:ResultDisplay&gt;&#39; /
            @5 &#39;&lt;/adamref:AnalysisResultDisplays&gt;&#39;
            ;
    run;  
  %end;


**** CREATE CODELIST SECTION;
filename codes &quot;&amp;path\codelist.txt&quot;;
 
proc sort
    data=codelists
    nodupkey;
    by codelistname codedvalue translated;
run;

**** MAKE SURE CODELIST IS UNIQUE;
data _null_;    
    set codelists;
    by codelistname codedvalue;

    if not (first.codedvalue and last.codedvalue) then 
      put &quot;ERR&quot; &quot;OR: multiple versions of the same coded value &quot; 
           codelistname= codedvalue=;
run;

proc sort
    data=codelists;
    by codelistname rank;   
run;

data codelists;
    set codelists end=eof;
    by codelistname rank;

    file codes notitles; 

    if _n_ = 1 then
      put @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; /
          @5 &quot;&lt;!-- Codelists are presented below                                --&gt;&quot; /
          @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; ;

    if first.codelistname then
      put @5 &#39;&lt;CodeList OID=&quot;CodeList.&#39; codelistname +(-1) &#39;&quot;&#39; /
          @7 &#39;Name=&quot;&#39; codelistname +(-1) &#39;&quot;&#39; /
          @7 &#39;DataType=&quot;&#39; type +(-1) &#39;&quot;&gt;&#39;;

    **** output codelists that are not external dictionaries;
    if codelistdictionary = &#39;&#39; then
      do;
        put @7  &#39;&lt;CodeListItem CodedValue=&quot;&#39; codedvalue +(-1) &#39;&quot;&#39; @;
        if rank ne . then
          put &#39; def:Rank=&quot;&#39; rank +(-1) &#39;&quot;&gt;&#39;;
        else 
          put &#39;&gt;&#39;;
        put @9  &#39;&lt;Decode&gt;&#39; /
            @11 &#39;&lt;TranslatedText&gt;&#39; translated +(-1) &#39;&lt;/TranslatedText&gt;&#39; /
            @9  &#39;&lt;/Decode&gt;&#39; /
            @7  &#39;&lt;/CodeListItem&gt;&#39;;
      end;
    **** output codelists that are pointers to external codelists;
    if codelistdictionary ne &#39;&#39; then
      put @7 &#39;&lt;ExternalCodeList Dictionary=&quot;&#39; codelistdictionary +(-1) 
             &#39;&quot; Version=&quot;&#39; codelistversion +(-1) &#39;&quot;/&gt;&#39;;

    if last.codelistname then
      put @5 &#39;&lt;/CodeList&gt;&#39;;

    if eof then
      put @3 &#39;&lt;/MetaDataVersion&gt;&#39; /
          @1 &#39;&lt;/Study&gt;&#39; /
          @1 &#39;&lt;/ODM&gt;&#39;;
run;

** create the .BAT file that will put all of the files together to create the define;
filename dotbat &quot;make_define.bat&quot;;
data _null_;
    file dotbat notitles;
    drive = substr(&quot;&amp;path&quot;,1,2); 
    put @1 drive;
    put @1 &quot;cd &amp;path&quot;;
    if &quot;&amp;standard&quot; = &quot;ADAM&quot; then
      put @1 &quot;type define_header.txt leaves.txt compmethod.txt valuelist.txt itemgroupdef.txt itemdef.txt itemdef_value.txt analysisresults.txt codelist.txt &gt; define.xml&quot;;
    else if &quot;&amp;standard&quot; = &quot;SDTM&quot; then
      put @1 &quot;type define_header.txt leaves.txt compmethod.txt valuelist.txt itemgroupdef.txt itemdef.txt itemdef_value.txt codelist.txt &gt; define.xml&quot;;
    put @1 &quot;exit&quot;;
run;
x &quot;make_define&quot;;    


%mend make_define;</code></pre>
</div>
<div id="make_codelist_formats" class="section level3" number="28.2.2">
<h3><span class="header-section-number">28.2.2</span> %make_codelist_formats</h3>
<pre><code>*---------------------------------------------------------------*;
* make_codelist_formats.sas creates a permanent SAS format library
* stored to the libref LIBRARY from the codelist metadata file 
* CODELISTS.xlsx.  The permanent format library that is created
* contains formats that are named like this: 
*   CODELISTNAME_SOURCEDATASET_SOURCEVARIABLE
* where CODELISTNAME is the name of the SDTM codelist, 
* SOURCEDATASET is the name of the source SAS dataset and
* SOURCEVARIABLE is the name of the source SAS variable.
*---------------------------------------------------------------*;
proc import 
    datafile=&quot;C:\path\SDTM_METADATA.xlsx&quot;
    out=formatdata 
    dbms=excelcs 
    replace; 
    sheet=&quot;CODELISTS&quot;;
run;


** make a proc format control dataset out of the SDTM metadata;
data source.formatdata;
    set formatdata(drop=type);

    where sourcedataset ne &quot;&quot; and sourcevalue ne &quot;&quot;;

    keep fmtname start end label type;
    length fmtname $ 32 start end $ 16 label $ 200 type $ 1;

    fmtname = compress(codelistname || &quot;_&quot; || sourcedataset 
                  || &quot;_&quot; || sourcevariable);
    start = left(sourcevalue);
    end = left(sourcevalue);
    label = left(codedvalue);
    if upcase(sourcetype) = &quot;NUMBER&quot; then
        type = &quot;N&quot;;
    else if upcase(sourcetype) = &quot;CHARACTER&quot; then
        type = &quot;C&quot;;
run;

** create a SAS format library to be used in SDTM conversions;
proc format
    library=library
    cntlin=source.formatdata
    fmtlib;
run;
</code></pre>
</div>
<div id="make_empty_dataset" class="section level3" number="28.2.3">
<h3><span class="header-section-number">28.2.3</span> %make_empty_dataset</h3>
<pre><code>*---------------------------------------------------------------*;
* make_empty_dataset.sas creates a zero record dataset based on a 
* dataset metadata spreadsheet.  The dataset created is called
* EMPTY_** where &quot;**&quot; is the name of the dataset.  This macro also
* creates a global macro variable called **KEEPSTRING that holds 
* the dataset variables desired and listed in the order they  
* should appear.  [The variable order is dictated by VARNUM in the 
* metadata spreadsheet.]
*
* MACRO PARAMETERS:
* metadatafile = the MS Excel file containing the dataset metadata
* dataset = the dataset or domain name you want to extract
*---------------------------------------------------------------*;
%macro make_empty_dataset(metadatafile=,dataset=);

    proc import 
        datafile=&quot;&amp;metadatafile&quot;
        out=_temp 
        dbms=excelcs
        replace;
        sheet=&quot;VARIABLE_METADATA&quot;;
    run;

    ** sort the dataset by expected specified variable order;
    proc sort
      data=_temp;
      where domain = &quot;&amp;dataset&quot;;
        by varnum;    
    run;

    ** create keepstring macro variable and load metadata 
    ** information into macro variables;
    %global &amp;dataset.KEEPSTRING;
    data _null_;
      set _temp nobs=nobs end=eof;

        if _n_=1 then
          call symput(&quot;vars&quot;, compress(put(nobs,3.)));
    
        call symputx(&#39;var&#39;    || compress(put(_n_, 3.)), variable);
        call symputx(&#39;label&#39;  || compress(put(_n_, 3.)), label);
        call symputx(&#39;length&#39; || compress(put(_n_, 3.)), 
                                          put(length, 3.));

        ** valid ODM types include TEXT, INTEGER, FLOAT, DATETIME, 
        ** DATE, TIME and map to SAS numeric or character;
        if upcase(type) in (&quot;INTEGER&quot;, &quot;FLOAT&quot;) then
          call symputx(&#39;type&#39; || compress(put(_n_, 3.)), &quot;&quot;);
        else if upcase(type) in (&quot;TEXT&quot;, &quot;DATE&quot;, &quot;DATETIME&quot;, 
                                 &quot;DATE&quot;, &quot;TIME&quot;) then
          call symputx(&#39;type&#39; || compress(put(_n_, 3.)), &quot;$&quot;);
        else 
          put &quot;ERR&quot; &quot;OR: not using a valid ODM type.  &quot; type=;


        ** create **KEEPSTRING macro variable;
        length keepstring $ 32767;   
        retain keepstring;      
        keepstring = compress(keepstring) || &quot;|&quot; || left(variable); 
        if eof then
          call symputx(upcase(compress(&quot;&amp;dataset&quot; || &#39;KEEPSTRING&#39;)), 
                       left(trim(translate(keepstring,&quot; &quot;,&quot;|&quot;))));
    run;
     

    ** create a 0-observation template data set used for assigning 
    ** variable attributes to the actual data sets;
    data EMPTY_&amp;dataset;
        %do i=1 %to &amp;vars;           
           attrib &amp;&amp;var&amp;i label=&quot;&amp;&amp;label&amp;i&quot; length=&amp;&amp;type&amp;i.&amp;&amp;length&amp;i...
           ;
           %if &amp;&amp;type&amp;i=$ %then
             retain &amp;&amp;var&amp;i &#39;&#39;;
           %else
             retain &amp;&amp;var&amp;i .;
           ;
        %end;
        if 0;
    run;

%mend make_empty_dataset;

*** Suppose you submit the macro like this for the DM domain;
%make_empty_dataset(metadatafile=SDTM_METADATA.xls,dataset=DM)

proc contents
 data=work.empty_dm;
run; 
</code></pre>
</div>
<div id="make_dtc_date" class="section level3" number="28.2.4">
<h3><span class="header-section-number">28.2.4</span> %make_dtc_date</h3>
<pre><code>*---------------------------------------------------------------*;
* make_dtc_date.sas is a SAS macro that creates a SDTM --DTC date
* within a SAS datastep when provided the pieces of the date in 
* separate SAS variables.
*
* NOTE: This macro must have SAS OPTIONS MISSING = &#39; &#39; set before 
* it is called to handle missing date parts properly.
*
* MACRO PARAMETERsS:
* dtcdate = SDTM --DTC date variable desired
* year = year variable
* month = month variable 
* day = day variable
* hour = hour variable
* minute = minute variable 
* second = second variable
*---------------------------------------------------------------*; 
%macro make_dtc_date(dtcdate=, year=., month=., day=., 
                     hour=., minute=., second=.); 

    ** in a series of if-then-else statements, determine where the
    ** smallest unit of date and time is present and then construct a DTC
    ** date based on the non-missing date variables.;

    if (&amp;second ne .) then 
        &amp;dtcdate = put(&amp;year,z4.) || &quot;-&quot; || put(&amp;month,z2.) || &quot;-&quot; 
                           || put(&amp;day,z2.) || &quot;T&quot; || put(&amp;hour,z2.) || &quot;:&quot; 
                           || put(&amp;minute,z2.) || &quot;:&quot; || put(&amp;second,z2.); 
    else if (&amp;minute ne .) then 
        &amp;dtcdate = put(&amp;year,z4.) || &quot;-&quot; || put(&amp;month,z2.) || &quot;-&quot; 
                           || put(&amp;day,z2.) || &quot;T&quot; || put(&amp;hour,z2.) || &quot;:&quot; 
                           || put(&amp;minute,z2.); 
    else if (&amp;hour ne .) then 
        &amp;dtcdate = put(&amp;year,z4.) || &quot;-&quot; || put(&amp;month,z2.) || &quot;-&quot; 
                           || put(&amp;day,z2.) || &quot;T&quot; || put(&amp;hour,z2.); 
    else if (&amp;day ne .) then 
        &amp;dtcdate = put(&amp;year,z4.) || &quot;-&quot; || put(&amp;month,z2.) || &quot;-&quot; 
                           || put(&amp;day,z2.); 
    else if (&amp;month ne .) then 
        &amp;dtcdate = put(&amp;year,z4.) || &quot;-&quot; || put(&amp;month,z2.); 
    else if (&amp;year ne .) then 
        &amp;dtcdate = put(&amp;year,z4.); 
    else if (&amp;year = .) then 
        &amp;dtcdate = &quot;&quot;; 

    ** remove duplicate blanks and replace space with a dash;
    if &amp;dtcdate ne &quot;&quot; then
        &amp;dtcdate = translate(trim(compbl(&amp;dtcdate)),&#39;-&#39;,&#39; &#39;);

%mend make_dtc_date;

*** sample call of this SAS macro for the EX domain:
data ex;
 %make_dtc_date(dtcdate=exstdtc, year=startyy,
 month=startmm, day=startdd)
 %make_dtc_date(dtcdate=exendtc, year=endyy,
 month=endmm, day=enddd,
 hour=endhh, minute=endmi, second=endss)
run;

*** create the variable EXSTDTC in the resulting EX dataset in the YYYY-MM-DD format;
*** EXENDTC in the YYYY-MM-DDTHH:MM:SS format;</code></pre>
</div>
<div id="make_sdtm_dy" class="section level3" number="28.2.5">
<h3><span class="header-section-number">28.2.5</span> %make_sdtm_dy</h3>
<pre><code>*---------------------------------------------------------------*;
* make_sdtm_dy.sas is a SAS macro that takes two SDTM --DTC dates
* and calculates a SDTM study day (--DY) variable. It must be used
* in a datastep that has both the REFDATE and DATE variables 
* specified in the macro parameters below.
* MACRO PARAMETERS:
* refdate = --DTC baseline date to calculate the --DY from.  
*           This should be DM.RFSTDTC for SDTM --DY variables.
* date = --DTC date to calculate the --DY to.  The variable
*          associated with the --DY variable.
*---------------------------------------------------------------*;
%macro make_sdtm_dy(refdate=RFSTDTC,date=); 

    if length(&amp;date) &gt;= 10 and length(&amp;refdate) &gt;= 10 then
      do;
        if input(substr(%substr(&quot;&amp;date&quot;,2,%length(&amp;date)-3)dtc,1,10),yymmdd10.) &gt;= 
           input(substr(%substr(&quot;&amp;refdate&quot;,2,%length(&amp;refdate)-3)dtc,1,10),yymmdd10.) then
          %upcase(%substr(&quot;&amp;date&quot;,2,%length(&amp;date)-3))DY = input(substr(%substr(&quot;&amp;date&quot;,2,%length(&amp;date)-3)dtc,1,10),yymmdd10.) - 
          input(substr(%substr(&quot;&amp;refdate&quot;,2,%length(&amp;refdate)-3)dtc,1,10),yymmdd10.) + 1;
        else
          %upcase(%substr(&quot;&amp;date&quot;,2,%length(&amp;date)-3))DY = input(substr(%substr(&quot;&amp;date&quot;,2,%length(&amp;date)-3)dtc,1,10),yymmdd10.) - 
          input(substr(%substr(&quot;&amp;refdate&quot;,2,%length(&amp;refdate)-3)dtc,1,10),yymmdd10.);  
      end;

%mend make_sdtm_dy;    

*** A sample call of this SAS macro for the EX domain;
data lb;
 merge lb(in=inlb) target.dm(keep=usubjid rfstdtc);
 by usubjid;
 if inlb;
 %make_sdtm_dy(date=lbdtc)
run; </code></pre>
</div>
<div id="make_sort_order" class="section level3" number="28.2.6">
<h3><span class="header-section-number">28.2.6</span> %make_sort_order</h3>
<p>创建SORTSTRING全局宏变量。</p>
<pre><code>*----------------------------------------------------------------*;
* make_sort_order.sas creates a global macro variable called  
* **SORTSTRING where ** is the name of the dataset that contains  
* the metadata specified sort order for a given dataset.
*
* MACRO PARAMETERS:
* metadatafile = the file containing the dataset metadata
* dataset = the dataset or domain name
*----------------------------------------------------------------*;
%macro make_sort_order(metadatafile=,dataset=);

    proc import 
        datafile=&quot;&amp;metadatafile&quot;
        out=_temp 
        dbms=excelcs
        replace;
        sheet=&quot;TOC_METADATA&quot;;
    run;

    ** create **SORTSTRING macro variable;
    %global &amp;dataset.SORTSTRING;
    data _null_;
      set _temp;

        where name = &quot;&amp;dataset&quot;;
    
        call symputx(compress(&quot;&amp;dataset&quot; || &quot;SORTSTRING&quot;), 
                     translate(domainkeys,&quot; &quot;,&quot;,&quot;));
    run;
     
%mend make_sort_order;</code></pre>
</div>
<div id="create_stdm_domains" class="section level3" number="28.2.7">
<h3><span class="header-section-number">28.2.7</span> %Create_STDM_Domains</h3>
<p>Macro to create an SDTMIG-conform domain dataset Furthermore, the following validation checks are done:</p>
<ul>
<li><ol style="list-style-type: decimal">
<li>Correct length of variables in the specification sheet</li>
</ol></li>
<li><ol start="2" style="list-style-type: decimal">
<li>Variables with length &gt; 200</li>
</ol></li>
<li><ol start="3" style="list-style-type: decimal">
<li>Discrepancies in variable type between specification sheet and dataset</li>
</ol></li>
<li><ol start="4" style="list-style-type: decimal">
<li>Discrepancies in variables between specification sheet and dataset</li>
</ol></li>
</ul>
<table>
<colgroup>
<col width="5%" />
<col width="94%" />
</colgroup>
<thead>
<tr class="header">
<th>Macro Variables</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>metadatafile</td>
<td>Name of specification file (usually imported by init-program)</td>
</tr>
<tr class="even">
<td>domain</td>
<td>Input dataset</td>
</tr>
<tr class="odd">
<td>delete</td>
<td>Indicate whether temporary datasets should be deleted (deletion is done if delete is not empty)</td>
</tr>
<tr class="even">
<td>Content</td>
<td>Content</td>
</tr>
<tr class="odd">
<td>Input</td>
<td>Domain-dataset with all variables of the SDTM domain and supp-domain (supp-domain variables are only required for consistency checks) 具有SDTM域和supp域的所有变量的域数据集（仅域一致性变量才需要进行一致性检查）</td>
</tr>
<tr class="even">
<td>Output</td>
<td>Main domain with in SAS7BDAT-format (domain_XX_new) Dataset with results of the validation checks Domain_XX_completeness_chk Domain_XX_length</td>
</tr>
</tbody>
</table>
<pre><code>*** Create final domain dataset;
    %macro create_sdtm_domain (metadatafile, /* Name of specification file (usually imported by init-program) */
                            domain,       /* Input dataset */
                            delete        /* Indicate whether temporary datasets should be deleted (deletion is done if delete is not empty) */
                            );

    *** Extract metadata, relevant for creation of the domain,  from the specification sheet 
        从规格表中提取与域创建相关的元数据
        (supp-domain variables are not required here since supp-domains are created by another macro);
        data _domain_&amp;domain._specs;
            length Variable_Name $32.;
            set &amp;metadatafile (where=(strip(upcase(Domain_Prefix)) eq upcase(&quot;&amp;domain&quot;) and SUPP ne &quot;Y&quot;));
            order = input(Seq__For_Order, best12.);
            keep order Variable_Name Variable_Label Type Display_Format;
        run;

    *** Extract metadata, relevant for consistency checks, from the specification sheet
        从规格表中提取与一致性检查相关的元数据 
        (consistency checks are also done for supp-domain variables);
        data _domain_&amp;domain._specs_for_chk;
            length Variable_Name $32.;
            set &amp;metadatafile (where=(Domain_Prefix eq &quot;&amp;domain&quot;));
            order = input(Seq__For_Order, best12.);
            keep order Variable_Name Variable_Label Type Display_Format;
        run;

    *** Sort metadata for consistency checks;
        proc sort data=_domain_&amp;domain._specs_for_chk; 
            by Variable_Name;
        run;

    *** Check whether all SDTM variables defined in the specification sheet are in the SAS dataset with domain data (and vice versa);
        *检查规范表中定义的所有SDTM变量是否都在具有域数据的SAS数据集中;
        *** In case of SDTM domain DM it can be only checked whether all SDTM variables defined in the specification sheet are in the SAS dataset with domain data (but not vice versa)
            (DM variables have no domain abbreviation);
        %if &amp;domain eq DM %then %do;
        *** Get a dataset with a column which lists all variable names in the SAS dataset with domain data;
            proc contents data=domain_&amp;domain out=_domain_&amp;domain._all_var noprint;
            run;

        *** Sort for merge;
            proc sort data=_domain_&amp;domain._all_var(keep=NAME); by NAME; run;
            data _domain_&amp;domain._all_var;
                set _domain_&amp;domain._all_var;
            run;
    
        *** Check for completeness (SAS dataset with domain data only), create a warning (if applicable) and output the entry in a dataset for tracking;
            data domain_&amp;domain._completeness_chk;
                merge   _domain_&amp;domain._specs_for_chk       (in=inSPECS  rename=(Type=Type_Specs)    where=(Variable_Name not in (&quot;STUDYID&quot; &quot;DOMAIN&quot; &quot;USUBJID&quot; )))
                        _domain_&amp;domain._all_var (in=inDOMAIN rename=(Name=Variable_Name));
                by Variable_Name;
                if      inSPECS  and not inDOMAIN then do;
                    put &quot;WARNING: Variable &quot; Variable_Name &quot; is part of the specification but not of the final &amp;domain dataset (user-defined)&quot;;
                    NOT_IN_DOMAIN = &quot;Y&quot;;
                    output;
                end;

            run;
        %end;
        %if &amp;domain ne DM %then %do;
        *** Get a dataset with a column which lists all variable names in the SAS dataset with domain data;
            proc contents data=domain_&amp;domain out=_domain_&amp;domain._all_var noprint;
            run;

        *** Keep only entries with variable names starting with the domain abbreviation
            (entries for variables name for which the domain abbreviation is followed by &quot;_&quot; are deleted);
            proc sort data=_domain_&amp;domain._all_var(keep=NAME); by NAME; run;
            data _domain_&amp;domain._all_var;
                set _domain_&amp;domain._all_var;
                if upcase(substr(NAME, 1, 2)) eq &quot;&amp;domain&quot; and upcase(substr(NAME, 1, 3)) ne &quot;&amp;domain._&quot; then output;
                if NAME in (&quot;VISIT&quot; &quot;VISITNUM&quot;) then output;
            run;

        *** Check which entries occur either in the specifications or the SAS dataset with domain data but not both
            (a warning is created for such entries and the entry is outputted in a dataset for tracking);
            proc sort data=_domain_&amp;domain._all_var(keep=NAME); by NAME; run;
            data domain_&amp;domain._completeness_chk;
                merge   _domain_&amp;domain._specs_for_chk       (in=inSPECS  rename=(Type=Type_Specs)    where=(Variable_Name not in (&quot;STUDYID&quot; &quot;DOMAIN&quot; &quot;USUBJID&quot;)))
                        _domain_&amp;domain._all_var (in=inDOMAIN rename=(Name=Variable_Name));
                by Variable_Name;
                if      inSPECS  and not inDOMAIN then do;
                    put &quot;WARNING: Variable &quot; Variable_Name &quot; is part of the specification but not of the final &amp;domain dataset (user-defined)&quot;;
                    NOT_IN_DOMAIN = &quot;Y&quot;;
                    output;
                end;
                else if inDOMAIN and not inSPECS  then do;
                    put &quot;WARNING: Variable &quot; Variable_Name &quot; is part of the final &amp;domain dataset but not of the specifications (user-defined)&quot;;
                    NOT_IN_SPECS = &quot;Y&quot;;
                    output;
                end;
            run;
        %end;

    *** Sort the variable names according to the order specified in the metadata (required to have the correct order of variables in the lists defined below);
        proc sort data=_domain_&amp;domain._specs; 
            by order;
        run;

    *** Prepare some variable lists and store each variable list in a macro variable (supp-domain variables are not included);
        data _NULL_;
            length domain_var_list          /* List with all SDTM variables required for the final domain dataset (i.e. numeric variables are included) */
                   char_var_list            /* List with all character SDTM variables required */
                   temp_var_list            /* List with temporary variables to temporarily store the content of each character SDTM variable (variable name = variables name of character variable + prefix &quot;_&quot;) */
                   rename_list              /* List to rename all SDTM variables for the final domain dataset to the name of the temporary variable (format: XXXXX=_XXXXX) */
                   label_list               /* List for assignment of a label to each SDTM variable required  (i.e. numeric variables are included) */
                   length_var_list  $32767. /* List which stores the names of all character SDTM variables after addition of the suffix &quot;_len&quot; (required for assignment of length) */;
            set _domain_&amp;domain._specs  end=eof;
            retain domain_var_list
                   char_var_list
                   temp_var_list
                   rename_list
                   label_list
                   length_var_list;
        *** Definition of variable lists;
            domain_var_list = strip(domain_var_list) || &quot; &quot;  || strip(Variable_Name); 
            label_list      = strip(label_list)      || &quot;  &quot; || strip(Variable_Name) || &quot;=&#39;&quot;  || strip(Variable_Label) || &quot;&#39;&quot;; 
            if find(upcase(Type), &quot;CHAR&quot;) gt 0 then do;
                char_var_list   = strip(char_var_list)   || &quot;  &quot; || strip(Variable_Name); 
                temp_var_list   = strip(temp_var_list)   || &quot; _&quot; || strip(Variable_Name); 
                rename_list     = strip(rename_list)     || &quot;  &quot; || strip(Variable_Name) || &quot;=_&quot;  || strip(Variable_Name);
                length_var_list = strip(length_var_list) || &quot;  &quot; || strip(Variable_Name) || &quot;_len&quot;; 
            end;

        *** Definition of macro variables;
            if eof then do;
                call symput(&quot;domain_var_list&quot;, strip(domain_var_list));
                call symput(&quot;char_var_list&quot;,   strip(char_var_list));
                call symput(&quot;temp_var_list&quot;,   strip(temp_var_list));
                call symput(&quot;rename_list&quot;,     strip(rename_list));
                call symput(&quot;label_list&quot;,      strip(label_list));
                call symput(&quot;length_var_list&quot;, strip(length_var_list));
            end;
        run;

        %put Variable list:           &amp;domain_var_list;
        %put Character variable list: &amp;char_var_list;

    *** Store the content of all SDTM variables in their temporary counterpart (&quot;_&quot; || variable name);
        data _domain_&amp;domain;
            set domain_&amp;domain (rename=(&amp;rename_list));
        run;

    *** Prepare a macro variable with the assignment of length for each character SDTM variable in the final dataset
        (the length assigned corresponds to the length of the longest entry for the respective SDTM variables (requirement of SDTM);
        data _NULL_;
            length _lengths $32767.;
            set domain_&amp;domain (rename=(&amp;rename_list))
                end=eof;
            retain  &amp;length_var_list 0;
            array   temp_var {*} &amp;temp_var_list;
            array   var_len {*}  &amp;length_var_list;

            do var1 = 1 to dim(temp_var);
                if length(temp_var[var1]) gt var_len[var1] then var_len[var1] = length(temp_var[var1]);
            end;
            if eof then do;
                _lengths = &quot;length &quot;;
                do var2 = 1 to dim(temp_var);
                    _lengths = strip(_lengths) || &quot; &quot; || substr(vname(temp_var[var2]), 2, length(vname(temp_var[var2]))-1) || &quot; $&quot; || strip(put(var_len[var2], best12.));
                end;
                call symput(&quot;_&amp;domain._lengths&quot;, strip(_lengths));
            end;
        run;
        %put &amp;&amp;_&amp;domain._lengths;           

    *** Create the prefinal SDTM domain dataset 
        (after this data-step only the correct variable order and sorting of entries is outstanding);
        data _domain_&amp;domain._prefin;

        *** Assign correct length to the SDTM variables;
            &amp;&amp;_&amp;domain._lengths;
            set  _domain_&amp;domain;
        *** Transfer the data of the temporary SDTM variables (_XXXX) back to the SDTM variables;
            array   temp_var {*} &amp;temp_var_list;
            array   char_var {*} &amp;char_var_list;
            do var = 1 to dim(temp_var);
                char_var[var] = strip(temp_var[var]);
            end;
        *** Assign labels to all SDTM variables; 
            label &amp;label_list;
            ;
        *** Keep only SDTM variables required for the final domain dataset;
            keep &amp;domain_var_list;
        run;

    *** Sort data according to the order given in the specifications;
        data domain_&amp;domain._new;
            retain &amp;domain_var_list;
            set _domain_&amp;domain._prefin;
        run;

    *** Sort final domain dataset by USUBJID and, if applicable, sequence number or an other variable;
        %if       &amp;domain eq DM %then %do; proc sort data = domain_&amp;domain._new; by USUBJID;             run; %end;
        %else %if &amp;domain eq SV %then %do; proc sort data = domain_&amp;domain._new; by USUBJID VISITNUM;    run; %end;
        %else %if &amp;domain ne DM %then %do; proc sort data = domain_&amp;domain._new; by USUBJID &amp;domain.SEQ; run; %end;;

    *** Check whether the variable lengths and the variable types specified in the specifications are consistent with the lengths and types of variables in the final domain dataset and whether any variable exceeds a length of 200 characters;
        *** Prepare a dataset with all variable names occuring in the final dataset in one column and the corresponding length in another column;
        proc contents data=domain_&amp;domain._new out=_domain_&amp;domain._real_var_lengths noprint;
        run;

        *** Check for which SDTM variables the length / type has to be corrected in the specification file / final dataset and for which SDTM variables the maximal length of 200 characters is exceeded
            (a warning is created for such entries and the entry is outputted in a dataset for tracking);
        proc sort data=_domain_&amp;domain._specs;            by Variable_Name Display_Format; run;
        proc sort data=_domain_&amp;domain._real_var_lengths; by Name         Length;          run;
        data domain_&amp;domain._lengths;
            merge _domain_&amp;domain._specs                    (in=inSPECS  rename=(Type=Type_Specs))
                  _domain_&amp;domain._real_var_lengths (in=inDOMAIN rename=(Name=Variable_Name) keep=NAME TYPE LENGTH LABEL);
            by Variable_Name;
            Variable_Name = strip(Variable_Name);
        *** Prepare warnings;
            if LENGTH gt 200                  then put &quot;WARNING: Length of variable &quot; Variable_Name &quot; is greater 200 (user-defined)&quot;;
            if LENGTH ne Display_Format       then put &quot;WARNING: Length of variable &quot; Variable_Name &quot; in final &amp;domain dataset differs from the length specified in the specifications (user-defined)&quot;;
            if (TYPE eq 1 and find(upcase(Type_Specs), &quot;NUM&quot;) eq 0) or (TYPE eq 2 and find(upcase(Type_Specs), &quot;CHAR&quot;) eq 0)
                then put &quot;WARNING: Type of variable &quot; Variable_Name &quot; differs between final &amp;domain dataset and specifications (user-defined)&quot;;
        *** Output entries for which adaptions are necessary;
            if LENGTH gt 200 or  LENGTH ne Display_Format                                                                    then LENGTH_ERROR = &quot;Y&quot;;
            if (TYPE eq 1 and find(upcase(Type_Specs), &quot;NUM&quot;) eq 0) or (TYPE eq 2 and find(upcase(Type_Specs), &quot;CHAR&quot;) eq 0) then TYPE_ERROR   = &quot;Y&quot;;
        run;
        


    *** Delete temporary datasets if requested in the macro call;
        %if &amp;delete ne %then %do;
            proc datasets lib=work nolist;
                delete _domain_&amp;domain._specs_for_chk
                       _domain_&amp;domain._specs
                       _domain_&amp;domain
                       _domain_&amp;domain._prefin
                       _domain_&amp;domain._real_var_lengths
                       _domain_&amp;domain._all_var ;
            quit;
        %end;

    %mend create_sdtm_domain;</code></pre>
</div>
<div id="detectduplicates" class="section level3" number="28.2.8">
<h3><span class="header-section-number">28.2.8</span> %DetectDuplicates</h3>
<p>Detection of duplicate variables</p>
<pre><code>%macro DetectDuplicates (dataset, output_diff);
    proc contents data=&amp;dataset out=var_data (keep=memname name) noprint;
    run;

    proc sort data=var_data; by name; run;

    data _null_;
        length var_names $32767.;
        set var_data;
        retain var_names;
        retain num_vars 0;
        if      _n_ ne 1 then var_names=strip(var_names) || &quot; &quot; || strip(name);
        else if _n_ eq 1 then var_names=strip(name);
        num_vars = num_vars + 1;
        call symput(&quot;var_names&quot;, strip(var_names));
        call symput(&quot;num_vars&quot;, strip(put(num_vars,2.)));
    run;

    %put &amp;var_names.;
    %put &amp;num_vars.;

    proc sort data=&amp;dataset nodupkey dupout=duplicates; by &amp;var_names; run;
%mend DetectDuplicates;

%DetectDuplicates (dataset=,
                       output_diff=);</code></pre>
<pre><code>%let folder_path1=Z:\CDISC\STUDIES\MEDIWOUND1\SDTM\Domains\20181213\;
%let report_name=Report_Duplicates;


dm log &#39;clear&#39;;
*** To compare the old datasets in a folder with the new datasets in another folder;
%macro DetectDuplicatesFolder (folder_path1, report_name);
    %if %sysfunc(exist(work.&amp;report_name)) %then %do;
        proc datasets library=work nolist;
            delete &amp;report_name;
        run;
    %end;
    

    
    filename entry2 pipe &quot;dir &amp;folder_path1 /b&quot;;

    *** declare macro variables containing the name of a dataset in the specified folder and their overall number; 
    data m_dataset_list;
        infile entry2 truncover end=last;
        /* edit length as needed */
        length fname $40;
        input fname;
        if upcase(substr(strip(fname), 1, 2)) ne &quot;SU&quot;;
        i+1;
        if upcase(substr(fname, 1, 2)) eq &quot;M_&quot; then check_m_ = 1;
        else check_m_ = 0;
        /* the parsing (splitting) of FNAME may need to be changed depending on your OS*/
        call symput(&#39;fname&#39;||trim(left(put(i,8.))),scan(trim(fname),1,&#39;.&#39;));
        if last then call symput(&#39;total&#39;,trim(left(put(i,8.))));
    run;
    %put &amp;total.;

option spool;
    *** import by means of the macro variables defined above ; 
    %do i=1 %to &amp;total;
        libname libdata &quot;&amp;folder_path1&quot;;
        libname library (libdata);  

        data work.&amp;&amp;fname&amp;i; set libdata.&amp;&amp;fname&amp;i;
        run;

        %if %sysfunc(exist(libdata.SUPP&amp;&amp;fname&amp;i)) and &amp;i ne 2 %then %do;
            data work.&amp;&amp;fname&amp;i; set libdata.&amp;&amp;fname&amp;i;
            run;

            data work.supp&amp;&amp;fname&amp;i; set libdata.supp&amp;&amp;fname&amp;i;
                &amp;&amp;fname&amp;i..SEQ=input(IDVARVAL, best12.); 
                drop IDVARVAL;
            run;

                        
            proc transpose data=supp&amp;&amp;fname&amp;i out=supp&amp;&amp;fname&amp;i;
                by USUBJID &amp;&amp;fname&amp;i..SEQ;
                var QVAL;
                ID QNAM;
            run;
        
            proc sort data=SUPP&amp;&amp;fname&amp;i; by USUBJID &amp;&amp;fname&amp;i..SEQ; run;
            proc sort data=&amp;&amp;fname&amp;i; by USUBJID &amp;&amp;fname&amp;i..SEQ; run;
            
            data &amp;&amp;fname&amp;i.._supp;
                merge   &amp;&amp;fname&amp;i
                        SUPP&amp;&amp;fname&amp;i;
                by USUBJID &amp;&amp;fname&amp;i..SEQ;
            run;
        %end;
        %else %do;
            data work.&amp;&amp;fname&amp;i.._supp; set libdata.&amp;&amp;fname&amp;i;
            run;
        %end;


        proc contents data=&amp;&amp;fname&amp;i.._supp out=var_data_&amp;i (keep=memname name) noprint;
        run;

        proc sort data=var_data_&amp;i; by name; run;

        data _null_;
            length var_names $32767.;
            set var_data_&amp;i;
            retain var_names;
            retain num_vars 0;
            if strip(name) ne strip(upcase(&quot;&amp;&amp;fname&amp;i..SEQ&quot;)) and _n_ ne 1 then var_names=strip(var_names) || &quot; &quot; || strip(name);
            else if strip(name) ne strip(upcase(&quot;&amp;&amp;fname&amp;i..SEQ&quot;)) and _n_ eq 1 then var_names=strip(name);
            num_vars = num_vars + 1;
            call symput(&quot;var_names&quot;, strip(var_names));
            call symput(&quot;num_vars&quot;, strip(put(num_vars,2.)));
        run;
%put &amp;var_names;
        proc sort data=&amp;&amp;fname&amp;i.._supp nodupkey dupout=output&amp;i; by &amp;var_names; run;

        data &amp;report_name;
            set %if %sysfunc(exist(work.&amp;report_name)) %then &amp;report_name; output&amp;i (rename=(&amp;&amp;fname&amp;i..SEQ=SEQ));
        run;
    %end;

    proc export data=&amp;report_name
        outfile=&quot;Z:\CDISC\STUDIES\MEDIWOUND1\SDTM\Domains\Validation\&amp;report_name..csv&quot;
        label dbms=dlm;
        delimiter=&#39;;&#39;;
    run;

    proc datasets library=work nolist;
        delete  output1 - output&amp;total
                var_data1 - var_data&amp;total         
    run;    
    quit;   
%mend DetectDuplicatesFolder;

%DetectDuplicatesFolder (folder_path1=Z:\CDISC\STUDIES\MEDIWOUND1\SDTM\Domains\20181213\,
                             report_name=Report_Duplicates);</code></pre>
</div>
<div id="changedvarnum" class="section level3" number="28.2.9">
<h3><span class="header-section-number">28.2.9</span> %ChangedVarNum</h3>
<p>Compares the occurrence of variables between two datasets. Where the first dataset/folder path corresponds to the old data and the second dataset/folder path corresponds to the new data.</p>
<pre><code>%macro ChangedVarNum (dataset1, dataset2, output);
    proc contents data=&amp;dataset1 out=var_data1 (keep=memname name) noprint;
    run;

    proc sort data=var_data1; by name; run;

    proc contents data=&amp;dataset2 out=var_data2 (rename=(memname=memname2) keep=memname name) noprint;
    run;

    proc sort data=var_data2; by name; run;

    data &amp;output;
    *   length diffflag $2.;
        merge var_data1 (in=a)
              var_data2 (in=b); 
        by name;
        if (a and not b) or (b and not a);
        label   memname  = &quot;Dataset 1&quot;
                name     = &quot;Variable Name&quot;
                memname2 = &quot;Dataset 2&quot;;
    run; 
%mend ChangedVarNum;

*   %ChangedVarNum (dataset1=Ae, 
                    dataset2=Ae_old,
                    output=Ae_compare);</code></pre>
<p>To compare the old datasets in a folder with the new datasets in another folder;</p>
<pre><code>%macro ChangedVarNumFolder (folder_path1, folder_path2, report_name);
    %if %sysfunc(exist(work.&amp;report_name)) %then %do;
        proc datasets library=work nolist;
            delete &amp;report_name;
        run;
    %end;
    
    filename entry2 pipe &quot;dir &amp;folder_path1 /b&quot;;

    *** declare macro variables containing the name of a dataset in the specified folder and their overall number; 
    data m_dataset_list;
        infile entry2 truncover end=last;
        /* edit length as needed */
        length fname $40;
        input fname;
        i+1;
        if upcase(substr(fname, 1, 2)) eq &quot;M_&quot; then check_m_ = 1;
        else check_m_ = 0;
        /* the parsing (splitting) of FNAME may need to be changed depending on your OS*/
        call symput(&#39;fname&#39;||trim(left(put(i,8.))),scan(trim(fname),1,&#39;.&#39;));
        if last then call symput(&#39;total&#39;,trim(left(put(i,8.))));
    run;

    *** import by means of the macro variables defined above ; 
    %do i=1 %to &amp;total;
        libname libdata &quot;&amp;folder_path1&quot;;
        libname library (libdata);  

        data work.&amp;&amp;fname&amp;i.._old; set libdata.&amp;&amp;fname&amp;i; 
        run;

        libname libdata2 &quot;&amp;folder_path2&quot;;
        libname library2 (libdata);     

        data work.&amp;&amp;fname&amp;i; set libdata2.&amp;&amp;fname&amp;i; 
        run;

        proc contents data=&amp;&amp;fname&amp;i.._old out=var_data1_&amp;i (keep=memname name) noprint;
        run;

        proc sort data=var_data1_&amp;i; by name; run;

        proc contents data=&amp;&amp;fname&amp;i out=var_data2_&amp;i (rename=(memname=memname2) keep=memname name) noprint;
        run;

        proc sort data=var_data2_&amp;i; by name; run;

        data output&amp;i;
        *   length diffflag $2.;
            merge var_data1_&amp;i (in=a)
                  var_data2_&amp;i (in=b); 
            by name;
            if (a and not b) or (b and not a);
            label   memname  = &quot;Dataset 1&quot;
                    name     = &quot;Variable Name&quot;
                    memname2 = &quot;Dataset 2&quot;;
        run; 

        data &amp;report_name;
            set %if %sysfunc(exist(work.&amp;report_name)) %then &amp;report_name; output&amp;i;
        run;
    %end;

    proc export data=&amp;report_name
        outfile=&quot;Z:\CDISC\STUDIES\MEDIWOUND1\SDTM\Domains\Validation\&amp;report_name..csv&quot;
        label dbms=dlm;
        delimiter=&#39;;&#39;;
    run;

    proc datasets library=work nolist;
        delete  output1 - output&amp;total
                var_data1_1 - var_data1_&amp;total 
                var_data2_1 - var_data2_&amp;total         
    run;    
    quit;   
%mend ChangedVarNumFolder;

%ChangedVarNumFolder (folder_path1=Z:\CDISC\STUDIES\MEDIWOUND1\SDTM\Domains\20181123\,
                          folder_path2=Z:\CDISC\STUDIES\MEDIWOUND1\SDTM\Domains\20191112\, 
                          report_name=Report_VarNum);</code></pre>
</div>
<div id="changedlabels" class="section level3" number="28.2.10">
<h3><span class="header-section-number">28.2.10</span> %ChangedLabels</h3>
<p>Compares the labels of variables between two datasets. Where the first dataset/folder path corresponds to the old data and the second dataset/folder path corresponds to the new data.</p>
<pre><code>%macro ChangedLabels (dataset1, dataset2, output);
    proc contents data=&amp;dataset1 out=label_data1 (keep=memname name label) noprint;
    run;

    proc sort data=label_data1 ;by name label; run;

    proc contents data=&amp;dataset2 out=label_data2 (rename=(memname=memname2) keep=memname name label) noprint;
    run;

    proc sort data=label_data2; by name label; run;

    data &amp;output;
        *length diffflag $2.;
        merge label_data1 (in=a)
              label_data2 (in=b); 
        by name label;
        if (a and not b) or (b and not a);
        label   memname  = &quot;Dataset 1&quot;
                name     = &quot;Variable Name&quot;
                label    = &quot;Changed Label&quot;
                memname2 = &quot;Dataset 2&quot;;
    run; 
%mend ChangedLabels;

%ChangedLabels(dataset1=, 
                   dataset2=,
                   output=);</code></pre>
<pre><code>*** To compare the old datasets in a folder with the new datasets in another folder;
%macro ChangedLabelsFolder (folder_path1, folder_path2, report_name);
    %if %sysfunc(exist(work.&amp;report_name)) %then %do;
        proc datasets library=work nolist;
            delete &amp;report_name;
        run;
    %end;
    
    filename entry2 pipe &quot;dir &amp;folder_path1 /b&quot;;

    *** declare macro variables containing the name of a dataset in the specified folder and their overall number; 
    data m_dataset_list;
        infile entry2 truncover end=last;
        /* edit length as needed */
        length fname $40;
        input fname;
        i+1;
        if upcase(substr(fname, 1, 2)) eq &quot;M_&quot; then check_m_ = 1;
        else check_m_ = 0;
        /* the parsing (splitting) of FNAME may need to be changed depending on your OS*/
        call symput(&#39;fname&#39;||trim(left(put(i,8.))),scan(trim(fname),1,&#39;.&#39;));
        if last then call symput(&#39;total&#39;,trim(left(put(i,8.))));
    run;

    *** import by means of the macro variables defined above ; 
    %do i=1 %to &amp;total;
        libname libdata &quot;&amp;folder_path1&quot;;
        libname library (libdata);  

        data work.&amp;&amp;fname&amp;i.._old; set libdata.&amp;&amp;fname&amp;i; 
        run;

        libname libdata2 &quot;&amp;folder_path2&quot;;
        libname library2 (libdata);     

        data work.&amp;&amp;fname&amp;i; set libdata2.&amp;&amp;fname&amp;i; 
        run;

        proc contents data=&amp;&amp;fname&amp;i.._old out=label_data1_&amp;i (keep=memname name label) noprint;
        run;

        proc sort data=label_data1_&amp;i ; by name label; run;

        proc contents data=&amp;&amp;fname&amp;i out=label_data2_&amp;i  (rename=(memname=memname2) keep=memname name label) noprint;
        run;

        proc sort data=label_data2_&amp;i ; by name label; run;

        data output&amp;i;
            *length diffflag $2.;
            merge label_data1_&amp;i (in=a)
                  label_data2_&amp;i (in=b); 
            by name label;
            if (a and not b) or (b and not a);
            label   memname  = &quot;Dataset 1&quot;
                    name     = &quot;Variable Name&quot;
                    label    = &quot;Changed Label&quot;
                    memname2 = &quot;Dataset 2&quot;;
        run; 

            data &amp;report_name;
                set %if %sysfunc(exist(work.&amp;report_name)) %then &amp;report_name; output&amp;i;
            run;
    %end;

    proc export data=&amp;report_name
        outfile=&quot;Z:\CDISC\STUDIES\MEDIWOUND1\SDTM\Domains\Validation\&amp;report_name..csv&quot;
        label dbms=dlm;
        delimiter=&#39;;&#39;;
    run;

    proc datasets library=work nolist;
        delete  output1 - output&amp;total
                label_data1_1 - label_data1_&amp;total 
                label_data2_1 - label_data2_&amp;total         
    run;    
    quit;   
%mend ChangedLabelsFolder;
*%ChangedLabelsFolder (folder_path1=Z:\CDISC\STUDIES\MEDIWOUND1\SDTM\Domains\20181123\,
                          folder_path2=Z:\CDISC\STUDIES\MEDIWOUND1\SDTM\Domains\20191112\, 
                          report_name=Report_Labels);</code></pre>
</div>
</div>
<div id="analysis-data-model-adam" class="section level2" number="28.3">
<h2><span class="header-section-number">28.3</span> Analysis Data Model (ADaM)</h2>
<div id="compare-with-sdtm" class="section level3" number="28.3.1">
<h3><span class="header-section-number">28.3.1</span> Compare with SDTM</h3>
<p>Study Data Tabulations (SDTM) – datasets containing data collected during the study and organized by clinical domain.</p>
<p>研究数据列表（SDTM）–包含研究期间收集的数据并按临床领域组织的数据集。
SDTM并非旨在支持统计分析。
SDTM中不易处理的问题示例包括分析窗口，复杂的算法和估算缺失值。</p>
<p>Analysis Datasets (ADaM) – datasets used for statistical analysis and reporting by the sponsor, submitted in addition to the SDTM domains. ADaM datasets are the authoritative source for all data derivations used in statistical analyses.</p>
<p>分析数据集（ADaM）–除SDTM域外，发起人用于统计分析和报告的数据集。 ADaM数据集是统计分析中使用的所有数据推导的权威来源。
ADaM数据集将派生和收集的数据（来自各种SDTM域，其他ADaM数据集或它们的任意组合）合并到一个数据集中，该数据集无需进行任何附加编程即可进行分析。
由于ADaM元数据说明了如何从SDTM源数据创建ADaM数据集，因此，不应将在ADaM数据集中派生或估算的变量复制回SDTM源数据中。尝试这样做会在数据流中引入循环依赖关系，并且可能使变量之间的重要关系失去关联。</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:SDTM-ADaM"></span>
<img src="02_Plots/SDTM_ADMA.png" alt="Figure: SDTM and ADaM" width="100%" />
<p class="caption">
Figure 28.2: Figure: SDTM and ADaM
</p>
</div>
<table>
<colgroup>
<col width="30%" />
<col width="69%" />
</colgroup>
<thead>
<tr class="header">
<th>SDTM</th>
<th>ADaM</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Contains the raw source data and limited derived data 包含原始源数据和有限的衍生数据</td>
<td>Contains the derived data, both variables and observations, and even entire datasets, that are derived from the raw data. May also contain raw source data to facilitate review and sensitivity analysis. 包含从原始数据派生的派生数据，包括变量和观察值，甚至整个数据集。也可能包含原始数据，以利于审核和敏感性分析。</td>
</tr>
<tr class="even">
<td>The variables allowed in each domain are restricted by the SDTM model SDTM模型限制了每个域中允许的变量</td>
<td>ADaM specifies core variables to be present in analysis data sets yet additional variables and observations can be added if they are needed for traceability and/or facilitation of analyses, provided that rules about when to derive data as rows and when to derive data as columns are followed. ADaM指定了要在分析数据集中显示的核心变量，但如果需要它们来实现可追溯性和/或便于分析，则可以添加其他变量和观察值，前提是要制定有关何时将数据导出为行和何时将数据导出为列的规则。</td>
</tr>
<tr class="odd">
<td>There is no redundancy of variables within SDTM in that a specific variable, such as treatment, is found in only one SDTM domain. SDTM内的变量没有冗余，因为仅在一个SDTM域中发现了特定变量（例如治疗）。</td>
<td>There is redundancy of variables across different analysis datasets to support analysis. For instance, treatment variable(s) would be expected to be in every analysis dataset. 不同分析数据集之间存在变量冗余以支持分析。 例如，治疗变量应在每个分析数据集中。</td>
</tr>
<tr class="even">
<td>Generally uses character variables, such as character date strings. 通常使用字符变量，例如字符日期字符串。</td>
<td>Numeric values are included when needed for analysis purposes, such as numeric date values. 出于分析目的需要时包括数字值，例如数字日期值。</td>
</tr>
<tr class="odd">
<td>Each domain has a specific topic and contains only those variables related to that topic. 每个域都有一个特定的主题，并且仅包含与该主题相关的那些变量。</td>
<td>Contains variables and observations that may be obtained from a variety of domains. For example, a responder analysis may be based on information obtained from laboratory, imaging, and /or questionnaire data. 包含可以从多个领域获得的变量和观察结果。 例如，响应者分析可以基于从实验室，成像和/或问卷数据中获得的信息。</td>
</tr>
</tbody>
</table>
</div>
<div id="types-of-adam-metadata" class="section level3" number="28.3.2">
<h3><span class="header-section-number">28.3.2</span> 4 types of ADaM metadata</h3>
<ul>
<li>analysis dataset metadata: 分析数据集元数据描述每个分析数据集，包括内容的简短描述。所有ADaM数据集都需要这种类型的元数据。</li>
<li>analysis variable metadata: 分析变量元数据描述了分析数据集中的变量，包括有关分析变量的来源和创建的信息，例如，所涉及算法的详细描述和/或对分析数据集创建程序的引用。所有ADaM数据集都需要这种类型的元数据。</li>
<li>analysis parameter value-level metadata: 分析参数值级别的元数据描述了分析参数“内”（即，针对分析参数的每个唯一值）的测量或分析端点。当数据结构允许变量包含多种类型的测量或分析端点时（例如在ADaM基本数据结构中），特别需要这种形式的元数据。所有ADaM BDS数据集都需要这种类型的元数据。</li>
<li>analysis results metadata: 分析结果元数据描述了分析结果（由发起人指定），包括使用了哪个分析数据集以及有关执行的分析的信息。这些元数据提供了从统计显示中使用的结果到分析数据集中的数据的可追溯性。不需要分析结果元数据。但是，最佳实践是通过识别关键分析，提供结果，文档和数据集之间的链接以及记录所执行的分析来提供帮助审核者的方法。</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Abbreviation</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ADSL</td>
<td>Subject-level analysis dataset</td>
</tr>
<tr class="even">
<td>ADAE</td>
<td>Adverse event analysis dataset</td>
</tr>
<tr class="odd">
<td>BDS</td>
<td>Basic Data Structure</td>
</tr>
</tbody>
</table>
</div>
<div id="subject-level-analysis-dataset-adsl" class="section level3" number="28.3.3">
<h3><span class="header-section-number">28.3.3</span> Subject-Level Analysis Dataset (ADSL)</h3>
<p>The ADSL dataset structure has one record per subject and contains variables such as subject-level population flags, planned and actual treatment variables, demographic information, randomization factors, subgrouping variables, and important dates. ADSL contains required variables (as specified in the ADaMIG) plus other subject-level variables that are important in describing a subject’s experience in the trial. The correct location for key endpoints and data that vary overtime during the course of a study is in a BDS dataset.</p>
<blockquote>
<p>主题级分析数据集（ADSL）结构包含每个受试者有一条记录，并且包含变量，例如受试者水平的人群标志，计划和实际治疗变量，人口统计学信息，随机因素，分组变量和重要日期。 ADSL包含必需的变量（如ADaMIG中所指定），以及其他对描述受试者在试验中的经历很重要的受试者水平变量。在研究过程中，关键终点和数据随时间变化的正确位置在BDS数据集中。</p>
</blockquote>
</div>
<div id="the-basic-data-structure-bds" class="section level3" number="28.3.4">
<h3><span class="header-section-number">28.3.4</span> The Basic Data Structure (BDS)</h3>
<p>A BDS contains one or more records per subject, per analysis parameter, per analysis timepoint. Analysis timepoint is conditionally required, depending on the analysis. In situations where there is no analysis timepoint, the structure is one or more records per subject per analysis parameter. This structure contains a central set of variables that describe the analysis parameter (e.g., PARAM and related variables) and contain the value being analyzed. Other variables in the dataset provide more information about the value being analyzed (e.g., the subject identification) or describe and trace the derivation of it (e.g., DTYPE) or enable the analysis (e.g., treatment variables, covariates). The BDS supports parametric and nonparametric analyses such as ANOVA, ANCOVA, categorical analysis, logistic regression, Cochran-Mantel-Haenszel, Wilcoxon rank-sum, time-to-event analysis, etc. It is often optimal to have more than one BDS analysis dataset.</p>
<blockquote>
<p>BDS包含每个受试者，每个分析参数，每个分析时间点的一条或多条记录。根据分析，有条件需要分析时间点。在没有分析时间点的情况下，结构是每个受试者每个分析参数一个或多个记录。此结构包含一组描述分析参数的变量（例如PARAM和相关变量），并包含要分析的值。数据集中的其他变量可提供有关正在分析的值的更多信息（例如，对象标识），或描述和跟踪其值的派生（例如，DTYPE）或启用分析（例如，治疗变量，协变量）。 BDS支持参数分析和非参数分析，例如方差分析，ANCOVA，分类分析，逻辑回归，Cochran-Mantel-Haenszel，Wilcoxon秩和，事件发生时间分析等。通常最好具有多个BDS分析数据集。</p>
</blockquote>
<p>Though the BDS supports the majority of statistical analyses, it does not support all statistical analyses. For example, it does not support the simultaneous analysis of multiple dependent (response/outcome) variables or correlation analysis across a range of response variables. The BDS was not designed to support analysis of the incidence of adverse events or other occurrence data.</p>
<blockquote>
<p>尽管BDS支持大多数统计分析，但它并不支持所有统计分析。例如，它不支持同时分析多个因变量（响应/结果）或跨一系列响应变量进行相关性分析。 BDS并非旨在支持不良事件发生率或其他发生数据的分析。</p>
</blockquote>
</div>
<div id="example-building-adsl-datasets" class="section level3" number="28.3.5">
<h3><span class="header-section-number">28.3.5</span> Example Building ADSL Datasets</h3>
<p>ADaM IG中描述的两种数据集结构之一是ADSL，即主体级分析数据集。 （ADSL既是结构的名称，也是该结构之后的数据集的预期名称。）ADSL数据集的存在是提交ADaM的最低要求。在临床试验中，作为每个随机或治疗受试者的关键信息的来源非常重要。它包含关键的人口统计数据，治疗信息和人群标志。它通常可以包含其他信息，例如期末学习安排；安全信息（例如，死亡标志）；有时甚至是关键结果数据（例如，受试者是否是响应者）。如您所见，创建ADSL时，许多数据会合并在一起。如上一节所述，有时这些数据必须来自补充限定词。以下代码演示了ADSL创建程序中的一些常见转换和变量声明。</p>
<ol style="list-style-type: decimal">
<li>CREATE EMPTY ADSL DATASET CALLED EMPTY_ADSL;
%make_empty_dataset(metadatafile=&amp;metadatafile, dataset=ADSL)</li>
<li>merge supplemental qualifiers into DM;
%mergsupp(sourcelib=sdtm, domains=DM);</li>
<li>CFB 找到与基线相比的变化, 以便可以标记响应者</li>
<li>Merge CFB, EMPTY_ADSL, and DM with SUPP, convert date,</li>
<li>SORT ADSL ACCORDING TO METADATA AND SAVE PERMANENT DATASET;</li>
</ol>
<pre><code>*------------------------------------------------------------*;
* ADSL.sas creates the ADaM ADSL data set
* as permanent SAS datasets to the ADaM libref.
*------------------------------------------------------------*;

%include &quot;..\setup.sas&quot;;

**** CREATE EMPTY ADSL DATASET CALLED EMPTY_ADSL;

%let metadatafile=&amp;path/data/adam-metadata/adam_metadata.xlsx;
%make_empty_dataset(metadatafile=&amp;metadatafile, dataset=ADSL) 

** merge supplemental qualifiers into DM;
%mergsupp(sourcelib=sdtm, domains=DM); 

** find the change from baseline so that responders can be flagged ;
** (2-point improvement in pain at 6 months);
%cfb(indata=sdtm.xp, outdata=responders, dayvar=xpdy, avalvar= xpstresn, 
     keepvars=usubjid visitnum chg);
data ADSL;
    merge EMPTY_ADSL
            DM         (in = inDM) 
            responders (in = inresp where=(visitnum=2))
            ;
      by usubjid;

        * convert RFSTDTC to a numeric SAS date named TRTSDT;
        * ％DTC2DT宏用于将SDTM --DTC日期转换为数字（SAS）日期。;
        * 在此特定位置，宏用于创建TRTSDT（首次治疗的日期）;
        %dtc2dt(RFSTDTC, prefix=TRTS );  

        * create BRTHDT, RANDDT, TRTEDT;
        %dtc2dt(BRTHDTC, prefix=BRTH);        
        %dtc2dt(RANDDTC, prefix=RAND);
        %dtc2dt(RFENDTC, prefix=TRTE);

        * created flags for ITT and safety-evaluable;
        ittfl = put(randdt, popfl.);
        saffl = put(trtsdt, popfl.);

        trt01p = ARM;
        trt01a = trt01p;
        trt01pn = input(put(trt01p, $trt01pn.), best.);
        trt01an = trt01pn;                 
        agegr1n = input(put(age, agegr1n.), best.);
        agegr1  = put(agegr1n, agegr1_.);
        RESPFL = put((.z &lt;= chg &lt;= -2), _0n1y.);         
run;

**** SORT ADSL ACCORDING TO METADATA AND SAVE PERMANENT DATASET;  
%make_sort_order(metadatafile=&amp;metadatafile, dataset=ADSL) 

proc sort
  data=adsl
  (keep = &amp;ADSLKEEPSTRING)
  out=adam.adsl;
    by &amp;ADSLSORTSTRING;
run;
</code></pre>
</div>
<div id="example-building-adam-basic-data-structure-bds-datasets" class="section level3" number="28.3.6">
<h3><span class="header-section-number">28.3.6</span> Example Building ADaM Basic Data Structure (BDS) Datasets</h3>
<p>ADaM基本数据结构（BDS）是ADaM IG中详细介绍的两个数据结构中的另一个。 与特定于一个预期数据集的ADSL不同，BDS是一种通用结构-足够灵活以用于许多不同的分析数据集。每行，每个测试，每个分析访问，每个受试者包含一个结果。</p>
<p>考虑表中所示的该数据集的结构。 它包含每个主题每次访问的一个记录。 在这种简化的情况下，每次访问只有一个测试或结果。</p>
<p><span class="math display">\[
\begin{array}{lllllllll}
\hline \text { USUBJID } &amp; \text { XPSEQ } &amp; \text { XPTESTCD } &amp; \text { XPTEST } &amp; \text { XPORRES } &amp; \text { XPSTRESN } &amp; \text { VISIT } &amp; \text { XPDTC } &amp; \text { XPDY } \\
\hline \text { UNI101 } &amp; 1 &amp; \text { XPPAIN } &amp; \text { Pain Score } &amp; \text { Severe } &amp; 3 &amp; \text { Baseline } &amp; 2010-04-02 &amp; 1 \\
\text { UNI101 } &amp; 2 &amp; \text { XPPAIN } &amp; \text { Pain Score } &amp; \text { Moderate } &amp; 2 &amp; 3 \text { Months } &amp; 2010-07-03 &amp; 93 \\
\text { UNI101 } &amp; 3 &amp; \text { XPPAIN } &amp; \text { Pain Score } &amp; \text { Mild } &amp; 1 &amp; 6 \text { Months } &amp; 2010-10-10 &amp; 192 \\
\hline
\end{array}
\]</span></p>
<pre><code>%include &quot;setup.sas&quot;;


**** CREATE EMPTY ADEF DATASET CALLED EMPTY_ADEF;
options mprint ;*symbolgen;
%let metadatafile=&amp;path/data/adam-metadata/ADAM_METADATA.xlsx;
%make_empty_dataset(metadatafile=&amp;metadatafile,dataset=ADEF)


** calculate changes from baseline for all post-baseline visits;
** ％CFB宏再次用于创建ADEF。保留了来自所得WORK.ADEF数据集的所有访问;
   *也保留了变量AVAL，BASE，CHG和ABLFL;
%cfb(indata=sdtm.xp, outdata=adef, dayvar=xpdy, avalvar=xpstresn);

proc sort
  data = adam.adsl
  (keep = usubjid siteid country age agegr1 agegr1n sex race randdt trt01p trt01pn ittfl)
  out = adsl;
    by usubjid;
    
data adef;
  merge adef (in = inadef) adsl (in = inadsl);
    by usubjid ;
    
        if not(inadsl and inadef) then
          put &#39;PROB&#39; &#39;LEM: Missing subject?-- &#39; usubjid= inadef= inadsl= ;
        
        rename trt01p    = trtp
               trt01pn   = trtpn
               xptest    = param
               xptestcd  = paramcd
               visit     = avisit
               xporres   = avalc
        ;               
        if inadsl and inadef;
        avisitn = input(put(visitnum, avisitn.), best.);
        
        %dtc2dt(xpdtc, refdt=randdt);
        
        retain crit1 &quot;Pain improvement from baseline of at least 2 points&quot;;
        RESPFL = put((.z &lt;= chg &lt;= -2), _0n1y.);         
        if RESPFL=&#39;Y&#39; then
          crit1fl = &#39;Y&#39;;
        else
          crit1fl = &#39;N&#39;;          
run;

** assign variable order and labels;
data adef;
  retain &amp;ADEFKEEPSTRING;
  set EMPTY_ADEF adef;
run;

**** SORT ADEF ACCORDING TO METADATA AND SAVE PERMANENT DATASET;
%make_sort_order(metadatafile=&amp;metadatafile,dataset=ADEF)

proc sort
  data=adef(keep = &amp;ADEFKEEPSTRING)
  out=adam.adef;
    by &amp;ADEFSORTSTRING;
run;        </code></pre>
</div>
<div id="example-building-adae-adverse-event-analysis-datasets-datasets" class="section level3" number="28.3.7">
<h3><span class="header-section-number">28.3.7</span> Example Building ADAE – Adverse Event Analysis Datasets Datasets</h3>
<p>ADAE的结构与SDTM AE数据集的结构非常相似。 ADAE的优势在于，它包括用于分析的其他变量，例如人口标志，治疗变量以及严重性缺失的情况下的严重性估算。对于AE分析有用的其他变量包括那些标记某个事件池中的事件的变量。</p>
<ol style="list-style-type: decimal">
<li>CREATE EMPTY ADAE DATASET CALLED EMPTY_ADAE; %make_empty_dataset(metadatafile=&amp;metadatafile,dataset=ADAE)</li>
<li>Merge with sdtm.ae and conversion</li>
</ol>
<pre><code>*** 使用变量CQ01NAM来识别与疼痛有关的事件（ 在疼痛研究中很重要）;

*---------------------------------------------------------------*;
* ADAE.sas creates the ADaM ADAE-structured data set
* for AE data (ADAE), saved to the ADaM libref.
*---------------------------------------------------------------*;

%include &quot;setup.sas&quot;;


**** CREATE EMPTY ADAE DATASET CALLED EMPTY_ADAE;
options mprint ;*symbolgen;
%let metadatafile=&amp;path/data/adam-metadata/ADAM_METADATA.xlsx;
%make_empty_dataset(metadatafile=&amp;metadatafile,dataset=ADAE)


proc sort
  data = adam.adsl
  (keep = usubjid siteid country age agegr1 agegr1n sex race trtsdt trt01a trt01an saffl)
  out = adsl;
    by usubjid;
    
data adae;
  merge sdtm.ae (in = inae) adsl (in = inadsl);
    by usubjid ;
    
        if inae and not inadsl then
          put &#39;PROB&#39; &#39;LEM: Subject missing from ADSL?-- &#39; usubjid= inae= inadsl= ;
        
        rename trt01a    = trta
               trt01an   = trtan
        ;               
        if inadsl and inae;
        
        %dtc2dt(aestdtc, prefix=ast, refdt=trtsdt);
        %dtc2dt(aeendtc, prefix=aen, refdt=trtsdt);

        *** CQ01NAM用于识别与疼痛发生有关的不良事件;
        if index(AEDECOD, &#39;PAIN&#39;)&gt;0 or AEDECOD=&#39;HEADACHE&#39; then
          CQ01NAM = &#39;PAIN EVENT&#39;;
        else
          CQ01NAM = &#39;          &#39;;
          
        aereln = input(put(aerel, $aereln.), best.);
        aesevn = input(put(aesev, $aesevn.), best.);
        relgr1n = (aereln); ** group related events (AERELN&gt;0);
        relgr1  = put(relgr1n, relgr1n.);
        if astdt&gt;=trtsdt then
          trtemfl = &#39;Y&#39;;
        format astdt aendt yymmdd10.;
run;

** assign variable order and labels;
data adae;
  retain &amp;adaeKEEPSTRING;
  set EMPTY_adae adae;
run;

**** SORT adae ACCORDING TO METADATA AND SAVE PERMANENT DATASET;
%make_sort_order(metadatafile=&amp;metadatafile, dataset=ADAE)

proc sort
  data=adae(keep = &amp;adaeKEEPSTRING)
  out=adam.adae;
    by &amp;adaeSORTSTRING;
run;        </code></pre>
</div>
</div>
<div id="adam-sas-macro" class="section level2" number="28.4">
<h2><span class="header-section-number">28.4</span> ADaM SAS Macro</h2>
<div id="make_define-1" class="section level3" number="28.4.1">
<h3><span class="header-section-number">28.4.1</span> %make_define</h3>
<pre><code>*---------------------------------------------------------------*;
* %make_define creates the define.xml file for the SDTM and ADaM.  
* It creates define.xml based on the contents of a set of metadata
* tabs found in an Excel spreadsheet.
*
* PARAMETERS:
*            path = System path to where the SDTM or ADaM metadata
*                   file exists as well as where the define.xml
*                   file will be stored.
*        metadata = The name of the metadata spreadsheet.
*
* It requires that the following tabs exist in the metadata file:
* DEFINE_HEADER_METADATA = define file header metadata
* TOC_METADATA = &quot;table of contents&quot; dataset metadata
* VARIABLE_METADATA = variable/column level metadata
* VALUELEVEL_METADATA = value/parameter level metadata
* COMPUTATIONAL_MKETHOD = computational methods
* CODELISTS = controlled terminology metadata
* ANALYSIS_RESULTS = ADaM analysis metadata. [Only for ADaM define]
* EXTERNAL_LINKS = ADaM results file pointers. [Only for ADaM define]
*---------------------------------------------------------------*;

%macro make_define(path=,metadata=);

**** GET DEFINE FILE HEADER INFORMATION METADATA;
proc import 
    out = define_header
    datafile = &quot;&amp;path\&amp;metadata&quot; 
    dbms=excelcs 
    replace;
    sheet=&quot;DEFINE_HEADER_METADATA&quot;;
run;

**** DETERMINE IF THIS IS A SDTM DEFINE FILE OR AN ADAM DEFINE FILE
**** AND SET THE STANDARD MACRO VARIABLE FOR THE REST OF THE PROGRAM;
data _null_;
    set define_header;

    if upcase(standard) = &#39;ADAM&#39; then
        call symput(&#39;standard&#39;,&#39;ADAM&#39;);
    else if upcase(standard) = &#39;SDTM&#39; then
        call symput(&#39;standard&#39;,&#39;SDTM&#39;);
    else
        put &quot;ERR&quot; &quot;OR: CDISC standard undefined in define_header_metadata&quot;;
run;

**** GET &quot;TABLE OF CONTENTS&quot; LEVEL DATASET METADATA;
proc import 
    out = toc_metadata
    datafile = &quot;&amp;path\&amp;metadata&quot; 
    dbms=excelcs 
    replace;
    sheet = &quot;TOC_METADATA&quot; ;
run;

**** GET THE VARIABLE METADATA;
proc import 
    out = VARIABLE_METADATA
    datafile = &quot;&amp;path\&amp;metadata&quot;
    dbms=excelcs
    replace;
    sheet = &quot;VARIABLE_METADATA&quot;;
run;

**** GET THE CODELIST METADATA;
proc import 
    out = codelists
    datafile = &quot;&amp;path\&amp;metadata&quot; 
    dbms=excelcs
    replace;
    sheet = &quot;CODELISTS&quot; ;
run; 

**** GET THE COMPUTATIONAL METHOD METADATA;
proc import 
    out = compmethod
    datafile = &quot;&amp;path\&amp;metadata&quot; 
    dbms=excelcs
    replace;
    sheet = &quot;COMPUTATION_METHOD&quot; ;
run; 

**** GET THE VALUE LEVEL METADATA;
proc import 
    out = valuelevel
    datafile = &quot;&amp;path\&amp;metadata&quot; 
    dbms=excelcs
    replace;
    sheet = &quot;VALUELEVEL_METADATA&quot; ;
run; 

%if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
  %do;
    **** GET THE ANALYSIS RESULTS METADATA;
    proc import 
        out = analysisresults
        datafile = &quot;&amp;path\&amp;metadata&quot; 
        dbms=excelcs
        replace;
        sheet = &quot;ANALYSIS_RESULTS&quot; ;
    run; 

    **** GET THE ANALYSIS RESULTS METADATA;
    proc import 
        out = externallinks
        datafile = &quot;&amp;path\&amp;metadata&quot; 
        dbms=excelcs
        replace;
        sheet = &quot;EXTERNAL_LINKS&quot; ;
    run; 
  %end;

**** USE HTMLENCODE ON SOURCE TEXT THAT NEEDS ENCODING FOR PROPER BROWSER REPRESENTATIION;
%if &amp;standard=ADAM %then
  %do;
  
    data toc_metadata;
        length documentation $ 800;
            set toc_metadata;
      
          documentation = htmlencode(documentation);
          ** convert single quotes to double quotes;
          documentation = tranwrd(documentation, &quot;&#39;&quot;, &#39;&quot;&#39;);
          ** convert double quotes to html quote;
          documentation = tranwrd(trim(documentation), &#39;&quot;&#39;, &#39;&amp;quot;&#39;);
          format documentation $800.;
    run;
  
  %end;
  
        
data variable_metadata;
    length comment $ 2000;
    set variable_metadata;

    format comment;
    informat comment;   
    origin = htmlencode(origin); 
    label = htmlencode(label); 
    comment = htmlencode(comment); 

    **** FOR ADAM, JOIN ORIGIN/&quot;SOURCE&quot; AND COMMENT
    **** TO FORM &quot;SOURCE/DERIVATION&quot; METADATA;
    if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin ne &#39;&#39; and 
        comment ne &#39;&#39; then 
      comment = &quot;SOURCE: &quot; || left(trim(origin)) ||
                &quot; DERIVATION: &quot; || left(trim(comment)); 
    else if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin ne &#39;&#39; and 
        comment = &#39;&#39; then 
      comment = &quot;SOURCE: &quot; || left(trim(origin)); 
    if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin = &#39;&#39; and 
        comment ne &#39;&#39; then 
      comment = &quot;DERIVATION: &quot; || left(trim(comment)); 
run;

data codelists;
    set codelists;

    codedvalue = htmlencode(codedvalue);
    translated = htmlencode(translated);
run;

data compmethod;
    set compmethod;

    computationmethod = htmlencode(computationmethod); 
run;

data valuelevel;
    length comment $ 2000;
    set valuelevel;

    format comment;
    informat comment;   
    origin = htmlencode(origin); 
    label = htmlencode(label); 
    comment = htmlencode(comment); 

    **** FOR ADAM, JOIN ORIGIN/&quot;SOURCE&quot; AND COMMENT
    **** TO FORM &quot;SOURCE/DERIVATION&quot; METADATA;
    if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin ne &#39;&#39; and 
        comment ne &#39;&#39; then 
      comment = &quot;SOURCE: &quot; || left(trim(origin)) ||
                &quot; DERIVATION: &quot; || left(trim(comment)); 
    else if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin ne &#39;&#39; and 
        comment = &#39;&#39; then 
      comment = &quot;SOURCE: &quot; || left(trim(origin)); 
    if &quot;&amp;standard&quot; = &quot;ADAM&quot; and origin = &#39;&#39; and 
        comment ne &#39;&#39; then 
      comment = &quot;DERIVATION: &quot; || left(trim(comment)); 
run;


%if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
  %do;
    data analysisresults;
         length programmingcode $800. docleafid $40.;
      set analysisresults;
      where displayid ne &#39;&#39;;
          
      arrow + 1;
      selectioncriteria = htmlencode(selectioncriteria); 
      paramlist = htmlencode(paramlist);
      reason = htmlencode(reason); 
      documentation = htmlencode(documentation);
      if index(documentation, &#39;[r]&#39;)&gt;0 then
        docleafid = substr(documentation, index(documentation,&#39;[r]&#39;)+3, index(documentation,&#39;[\r]&#39;)-index(documentation,&#39;[r]&#39;)-3);
      else
        docleafid = &#39;.&#39;;
          
      programmingcode = htmlencode(programmingcode); 
      ** convert single quotes to double quotes;
      programmingcode = tranwrd(programmingcode, &quot;&#39;&quot;, &#39;&quot;&#39;);
      ** convert double quotes to html quote;
      programmingcode = tranwrd(programmingcode, &#39;&quot;&#39;, &#39;&amp;quot;&#39;);
      format programmingcode $800.;
    run;

    ** ENSURE UNIQUENESS ON DISPLAYID AND RESULTID AND CREATE A COMBO ID;
    data analysisresults;
      set analysisresults;
      by displayid notsorted;
    
      drop resultnum;
      retain resultnum;
      if first.displayid then
          resultnum = 0;
      resultnum + 1;
      if not(first.displayid and last.displayid) then
          arid = trim(displayid) || &quot;.R.&quot; || put(resultnum,z2.);
      else
          arid = displayid;
    run;          
            
    ** IF DOCLEAFID IS NON-MISSING, MERGE IN THE TITLE FROM EXTERNAL_LINKS;
    proc sort
      data = analysisresults;
      by docleafid;
    run;
 
    proc sort
      data = externallinks (keep = leafid title rename=(leafid=docleafid title=doctitle))
      out  = doc_links;
      by docleafid;
    run;
 
    data analysisresults;
      merge analysisresults (in = inar) doc_links (in = indoc_links);
      by docleafid;
    
      if inar;
      ** if the leaf ID exists, then the title of the leaf ID will be printed and can be removed from DOCUMENTIATION;
      if indoc_links then
        documentation = tranwrd(documentation, &#39;[r]&#39; || trim(docleafid) || &#39;[\r]&#39;, &quot; &quot;);
    run;

    proc sort
      data = analysisresults;
      by arrow;
    run;
  %end;
    
**** CREATE DEFINE FILE HEADER SECTION;
filename dheader &quot;&amp;path\define_header.txt&quot;;
data define_header;
    set define_header;

    file dheader notitles;

    creationdate = compress(put(datetime(), IS8601DT.));

    put @1 &#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;&#39; /
        @1 &#39;&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;&#39; stylesheet +(-1) &#39;&quot;?&gt;&#39; /
        @1 &#39;&lt;!-- ******************************************************************************* --&gt;&#39; /
        @1 &#39;&lt;!-- File: define.xml                                                                --&gt;&#39; /
        @1 &quot;&lt;!-- Date: &amp;sysdate9.                                                                --&gt;&quot; /
        @1 &#39;&lt;!-- Description: Define.xml file for &#39;   studyname +(-1) &#39;                          --&gt;&#39; /
        @1 &#39;&lt;!-- ******************************************************************************* --&gt;&#39; /
        @1 &#39;&lt;ODM&#39; /
        @3 &#39;xmlns=&quot;http://www.cdisc.org/ns/odm/v1.2&quot;&#39; /
        @3 &#39;xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#39; /
        @3 &#39;xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&#39; /
        @3 &#39;xmlns:def=&quot;http://www.cdisc.org/ns/def/v1.0&quot;&#39; /
        %if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
          @3 &#39;xmlns:adamref=&quot;http://www.cdisc.org/ns/ADaMRes/DRAFT&quot;&#39; /
        ;
        @3 &#39;xsi:schemaLocation=&quot;&#39; schemalocation +(-1) &#39;&quot;&#39; /
        @3 &#39;FileOID=&quot;&#39; fileoid +(-1) &#39;&quot;&#39; /
        @3 &#39;ODMVersion=&quot;1.2&quot;&#39; /
        @3 &#39;FileType=&quot;Snapshot&quot;&#39; /
        @3 &#39;CreationDateTime=&quot;&#39; creationdate +(-1) &#39;&quot;&gt;&#39; /
        @1 &#39;&lt;Study OID=&quot;&#39; studyoid +(-1) &#39;&quot;&gt;&#39; /
        @3 &#39;&lt;GlobalVariables&gt;&#39; /
        @5 &#39;&lt;StudyName&gt;&#39; studyname +(-1) &#39;&lt;/StudyName&gt;&#39; /
        @5 &#39;&lt;StudyDescription&gt;&#39; studydescription +(-1) &#39;&lt;/StudyDescription&gt;&#39; /
        @5 &#39;&lt;ProtocolName&gt;&#39; protocolname +(-1) &#39;&lt;/ProtocolName&gt;&#39; /
        @3 &#39;&lt;/GlobalVariables&gt;&#39; /
        @3 &#39;&lt;MetaDataVersion OID=&quot;CDISC.&#39; standard +(-1) &#39;.&#39; version +(-1) &#39;&quot;&#39; /
        @5 &#39;Name=&quot;&#39; studyname +(-1) &#39;,Data Definitions&quot;&#39; /
        @5 &#39;Description=&quot;&#39; studyname +(-1) &#39;,Data Definitions&quot;&#39; /
        @5 &#39;def:DefineVersion=&quot;1.0.0&quot;&#39; /
        @5 &#39;def:StandardName=&quot;CDISC &#39; standard +(-1) &#39;&quot;&#39; /
        @5 &#39;def:StandardVersion=&quot;&#39; version +(-1) &#39;&quot;&gt;&#39; /
        %if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
          %do;
            @5 &#39;&lt;def:SupplementalDoc&gt;&#39; /
            @7 &#39;&lt;def:DocumentRef leafID=&quot;Suppdoc&quot;/&gt;&#39; /
            @5 &#39;&lt;/def:SupplementalDoc&gt;&#39; /
            @5 &#39;&lt;def:leaf ID=&quot;Suppdoc&quot; xlink:href=&quot;dataguide.pdf&quot;&gt;&#39; /
            @7 &#39;&lt;def:title&gt;Data Guide&lt;/def:title&gt;&#39; /
          %end;
        %else %if &quot;&amp;standard&quot; = &quot;SDTM&quot; %then
          %do;
            @5 &#39;&lt;def:AnnotatedCRF&gt;&#39; /
            @7 &#39;&lt;def:DocumentRef leafID=&quot;blankcrf&quot;/&gt;&#39; /
            @5 &#39;&lt;/def:AnnotatedCRF&gt;&#39; /
            @5 &#39;&lt;def:leaf ID=&quot;blankcrf&quot; xlink:href=&quot;blankcrf.pdf&quot;&gt;&#39; /
            @7 &#39;&lt;def:title&gt;Annotated Case Report Form&lt;/def:title&gt;&#39; /
          %end;
        @5 &#39;&lt;/def:leaf&gt;&#39;;
run;

**** ADD OTHER ADAM EXTERNAL LINKS;
%if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
  %do;
    filename leaves &quot;&amp;path\leaves.txt&quot;;
    data _null_;
      set externallinks;
  
      file leaves notitles;

      put @5 &#39;&lt;def:leaf ID=&quot;&#39; leafid +(-1) &#39;&quot;&#39;     /
          @7 &#39;xlink:href=&quot;&#39; leafrelpath +(-1) &#39;&quot;&gt;&#39; /
          @7 &#39;&lt;def:title&gt;&#39; title &#39;&lt;/def:title&gt;&#39;    /
          @5 &#39;&lt;/def:leaf&gt;&#39;
          ;
    run;            
  %end;


**** ADD ITEMOID TO VARIABLE METADATA;
data variable_metadata;
    set variable_metadata(rename=(domain = oid));

    length itemoid $ 40;
    if variable in (&quot;STUDYID&quot;,&quot;DOMAIN&quot;,&quot;USUBJID&quot;,&quot;SUBJID&quot;) then
      itemoid = variable;
    else
      itemoid = compress(oid || &quot;.&quot; || variable);
run;

**** ADD ITEMOID TO VALUE LEVEL METADATA;
data valuelevel;
    set valuelevel;

    length itemoid $ 200;
    itemoid = compress(valuelistoid || &quot;.&quot; || valuename);
run;

**** CREATE COMPUTATION METHOD SECTION;
filename comp &quot;&amp;path\compmethod.txt&quot;;
data compmethods;
    set compmethod;

    file comp notitles;

    if _n_ = 1 then
    put @5 &quot;&lt;!-- ******************************************* --&gt;&quot; /
        @5 &quot;&lt;!-- COMPUTATIONAL METHOD INFORMATION        *** --&gt;&quot; /    
        @5 &quot;&lt;!-- ******************************************* --&gt;&quot;;
    put @5 &#39;&lt;def:ComputationMethod OID=&quot;&#39; computationmethodoid +(-1) &#39;&quot;&gt;&#39; computationmethod +(-1) &#39;&lt;/def:ComputationMethod&gt;&#39;;   
run;


**** CREATE VALUE LEVEL LIST DEFINITION SECTION;
proc sort
    data=valuelevel;
    where valuelistoid ne &#39;&#39;;
    by valuelistoid;
run;

filename vallist &quot;&amp;path\valuelist.txt&quot;;
data valuelevel;
  set valuelevel;
    by valuelistoid;

    file vallist notitles;

    if _n_ = 1 then
      put @5 &quot;&lt;!-- ******************************************* --&gt;&quot; /
          @5 &quot;&lt;!-- VALUE LEVEL LIST DEFINITION INFORMATION  ** --&gt;&quot; /    
          @5 &quot;&lt;!-- ******************************************* --&gt;&quot;;

    if first.valuelistoid then
      put @5 &#39;&lt;def:ValueListDef OID=&quot;&#39; valuelistoid +(-1) &#39;&quot;&gt;&#39;;

    put @7 &#39;&lt;ItemRef ItemOID=&quot;&#39; itemoid /*valuename*/ +(-1) &#39;&quot;&#39; /
        @9 &#39;Mandatory=&quot;&#39; mandatory +(-1) &#39;&quot;/&gt;&#39;;

    if last.valuelistoid then
      put @5 &#39;&lt;/def:ValueListDef&gt;&#39;;
run;



**** CREATE &quot;ITEMGROUPDEF&quot; SECTION;
proc sort
    data=VARIABLE_METADATA;
    where oid ne &#39;&#39;;
    by oid varnum;
run;

proc sort
    data=toc_metadata;
    where oid ne &#39;&#39;;
    by oid;
run;

filename igdef &quot;&amp;path\itemgroupdef.txt&quot;;
data itemgroupdef;
    length label $ 40;
    merge toc_metadata VARIABLE_METADATA(drop=label);
    by oid;

    file igdef notitles; 

    if first.oid then
      do;
        put @5 &quot;&lt;!-- ******************************************* --&gt;&quot; /
            @5 &quot;&lt;!-- &quot; oid   @25   &quot;ItemGroupDef INFORMATION *** --&gt;&quot; /    
            @5 &quot;&lt;!-- ******************************************* --&gt;&quot; /
            @5 &#39;&lt;ItemGroupDef OID=&quot;&#39; oid +(-1) &#39;&quot;&#39; /
            @7 &#39;Name=&quot;&#39; name +(-1) &#39;&quot;&#39; /
            @7 &#39;Repeating=&quot;&#39; repeating +(-1) &#39;&quot;&#39; /
            @7 &#39;Purpose=&quot;&#39; purpose +(-1) &#39;&quot;&#39; /
            @7 &#39;IsReferenceData=&quot;&#39; isreferencedata +(-1) &#39;&quot;&#39; /
            @7 &#39;def:Label=&quot;&#39; label +(-1) &#39;&quot;&#39; /
            @7 &#39;def:Structure=&quot;&#39; structure +(-1) &#39;&quot;&#39; /
            @7 &#39;def:DomainKeys=&quot;&#39; domainkeys +(-1) &#39;&quot;&#39; /
            @7 &#39;def:Class=&quot;&#39; class +(-1) &#39;&quot;&#39; ;
        %if &amp;standard=ADAM %then
          put @7 &#39;def:ArchiveLocationID=&quot;Location.&#39; archivelocationid +(-1) &#39;&quot;&#39; /
              @7 &#39;Comment=&quot;&#39; documentation +(-1) &#39;&quot;&gt;&#39; 
              ;
        %else 
          put @7 &#39;def:ArchiveLocationID=&quot;Location.&#39; archivelocationid +(-1) &#39;&quot;&gt;&#39;;        
        ;
      end;

    put @7 &#39;&lt;ItemRef ItemOID=&quot;&#39; itemoid +(-1) &#39;&quot;&#39; /
        @9 &#39;OrderNumber=&quot;&#39; varnum +(-1) &#39;&quot;&#39; /
        @9 &#39;Mandatory=&quot;&#39; mandatory +(-1) @;
        
    if role ne &#39;&#39; and &quot;&amp;standard&quot; = &quot;SDTM&quot; then
      put &#39;&quot;&#39; /
      @9 &#39;Role=&quot;&#39; role +(-1) &#39;&quot;&#39; /
      @9 &#39;RoleCodeListOID=&quot;CodeList.&#39; rolecodelist +(-1) &#39;&quot;/&gt;&#39;;
    else
      put &#39;&quot;/&gt;&#39;;


    if last.oid then
      put @7 &quot;&lt;!-- **************************************************** --&gt;&quot; /
          @7 &quot;&lt;!-- def:leaf details for hypertext linking the dataset   --&gt;&quot; /
          @7 &quot;&lt;!-- **************************************************** --&gt;&quot; /
          @7 &#39;&lt;def:leaf ID=&quot;Location.&#39; oid +(-1) &#39;&quot; xlink:href=&quot;&#39; archivelocationid +(-1) &#39;.xpt&quot;&gt;&#39; /
          @9 &#39;&lt;def:title&gt;&#39; archivelocationid +(-1) &#39;.xpt &lt;/def:title&gt;&#39; /
          @7 &#39;&lt;/def:leaf&gt;&#39; /
          @5 &#39;&lt;/ItemGroupDef&gt;&#39;;
run;
  

**** CREATE &quot;ITEMDEF&quot; SECTION;
filename idef &quot;&amp;path\itemdef.txt&quot;;
 
data itemdef;
    set VARIABLE_METADATA end=eof;
    by oid;

    file idef notitles; 

    if _n_ = 1 then
      put @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; /
          @5 &quot;&lt;!-- The details of each variable is here for all domains         --&gt;&quot; /
          @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; ;

    put @5 &#39;&lt;ItemDef OID=&quot;&#39; itemoid +(-1) &#39;&quot;&#39; /
        @7 &#39;Name=&quot;&#39; variable +(-1) &#39;&quot;&#39; /
        @7 &#39;DataType=&quot;&#39; type +(-1) &#39;&quot;&#39; /
        @7 &#39;Length=&quot;&#39; length +(-1) &#39;&quot;&#39;;
    if significantdigits ne &#39;&#39; then
      put @7 &#39;SignificantDigitis=&quot;&#39; significantdigits +(-1) &#39;&quot;&#39;;
    if displayformat ne &#39;&#39; then
      put @7 &#39;def:DisplayFormat=&quot;&#39; displayformat +(-1) &#39;&quot;&#39;;
    if computationmethodoid ne &#39;&#39; then
      put @7 &#39;def:ComputationMethodOID=&quot;&#39; computationmethodoid +(-1) &#39;&quot;&#39;;
    put %if &quot;&amp;standard&quot; = &quot;SDTM&quot; %then 
        @7 &#39;Origin=&quot;&#39; origin +(-1) &#39;&quot;&#39; / ;
        @7 &#39;Comment=&quot;&#39; comment +(-1) &#39;&quot;&#39; /          
        @7 &#39;def:Label=&quot;&#39; label +(-1) &#39;&quot;&gt;&#39;;

    if codelistname ne &#39;&#39; then
      put @7 &#39;&lt;CodeListRef CodeListOID=&quot;CodeList.&#39; codelistname +(-1) &#39;&quot;/&gt;&#39;;

    if valuelistoid ne &#39;&#39; then
      put @7 &#39;&lt;def:ValueListRef ValueListOID=&quot;&#39; valuelistoid +(-1) &#39;&quot;/&gt;&#39;;

    put @5 &#39;&lt;/ItemDef&gt;&#39;;
run;
 

**** ADD ITEMDEFS FOR VALUE LEVEL ITEMS TO &quot;ITEMDEF&quot; SECTION;
filename idefvl &quot;&amp;path\itemdef_value.txt&quot;;
 
data itemdefvalue;
    set valuelevel end=eof;
    by valuelistoid;

    file idefvl notitles; 

    if _n_ = 1 then
      put @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; /
          @5 &quot;&lt;!-- The details of value level items are here                    --&gt;&quot; /
          @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; ;

    put @5 &#39;&lt;ItemDef OID=&quot;&#39; itemoid /*valuename*/ +(-1) &#39;&quot;&#39; /
        @7 &#39;Name=&quot;&#39; valuename +(-1) &#39;&quot;&#39; /
        @7 &#39;DataType=&quot;&#39; type +(-1) &#39;&quot;&#39; /
        @7 &#39;Length=&quot;&#39; length +(-1) &#39;&quot;&#39;;
    if significantdigits ne &#39;&#39; then
      put @7 &#39;SignificantDigitis=&quot;&#39; significantdigits +(-1) &#39;&quot;&#39;;
    if displayformat ne &#39;&#39; then
      put @7 &#39;def:DisplayFormat=&quot;&#39; displayformat +(-1) &#39;&quot;&#39;;
    if computationmethodoid ne &#39;&#39; then
      put @7 &#39;def:ComputationMethodOID=&quot;&#39; computationmethodoid +(-1) &#39;&quot;&#39;;
    put %if &quot;&amp;standard&quot; = &quot;SDTM&quot; %then 
        @7 &#39;Origin=&quot;&#39; origin +(-1) &#39;&quot;&#39; / ;
        @7 &#39;Comment=&quot;&#39; comment +(-1) &#39;&quot;&#39; /          
        @7 &#39;def:Label=&quot;&#39; label +(-1) &#39;&quot;&gt;&#39;;

    if codelistname ne &#39;&#39; then
      put @7 &#39;&lt;CodeListRef CodeListOID=&quot;CodeList.&#39; codelistname +(-1) &#39;&quot;/&gt;&#39;;

    put @5 &#39;&lt;/ItemDef&gt;&#39;;
run;
 

**** ADD ANALYSIS RESULTS METADATA SECTION FOR ADAM;
%if &quot;&amp;standard&quot; = &quot;ADAM&quot; %then
  %do;
    filename ar &quot;&amp;path\analysisresults.txt&quot;;

    data _null_;
      set analysisresults;
      ** note that it is required that identical display IDs be adjacent to 
      ** each other in the metadata spreadsheet;
      by displayid notsorted;

      file ar notitles; 
      if _n_ = 1 then
        put @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; /
            @5 &quot;&lt;!-- Analysis Results MetaData are Presented Below                --&gt;&quot; /
            @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; 
            ;
      if first.displayid then
        put @5 &#39;&lt;adamref:AnalysisResultDisplays&gt;&#39; /
            @7 &#39;&lt;adamref:ResultDisplay DisplayIdentifier=&quot;&#39; displayid +(-1) 
               &#39;&quot; OID=&quot;&#39; displayid +(-1) &#39;&quot; DisplayLabel=&quot;&#39; displayname +(-1) 
               &#39;&quot; leafID=&quot;&#39; displayid +(-1) &#39;&quot;&gt;&#39;  ;
          
      put @9 &#39;&lt;adamref:AnalysisResults &#39; /
          @9 &#39;OID=&quot;&#39; arid +(-1) &#39;&quot;&#39; /
          @9 &#39;ResultIdentifier=&quot;&#39; resultid +(-1) &#39;&quot;&#39; /
          @9 &#39;Reason=&quot;&#39; reason +(-1) &#39;&quot;&gt;&#39; /
          @9 &#39;&lt;!-- List the parameters and parameter codes --&gt;&#39; /
          @9 &#39;&lt;adamref:ParameterList&gt;&#39;
          ;
        
      ** loop through PARAMCD/PARAM sets;
      set = 1;
      do while(scan(paramlist,set,&#39;|&#39;) ne &#39;&#39;);
        paramset = scan(paramlist,set,&#39;|&#39;);
        paramcd  = scan(paramset,1,&#39;/\&#39;);
        param    = trim(scan(paramset,2,&#39;/\&#39;));
        put @11 &#39;&lt;adamref:Parameter ParamCD=&quot;&#39; paramcd +(-1) 
                &#39;&quot; Param=&quot;&#39; param +(-1) &#39;&quot;/&gt;&#39; ;
        set = set + 1;
      end;
      put @9 &#39;&lt;/adamref:ParameterList&gt;&#39;;
    
      ** loop through the analysis variables;
      set = 1;
      do while(scan(analysisvariables,set,&#39;,&#39;) ne &#39;&#39;);
        analysisvar = scan(analysisvariables,set,&#39;,&#39;);
        put @11 &#39;&lt;adamref:AnalysisVariable ItemOID=&quot;&#39; analysisdataset +(-1) 
                &#39;.&#39; analysisvar +(-1) &#39;&quot;/&gt;&#39;;
        set = set + 1;
      end;
      put @9 &#39;&lt;!-- AnalysisDatasets are  pairs of dataset references and selection criteria. Dataset references are ItemGroupRefs.  The label in the xsl is the def:label for the ItemGroup --&gt;&#39;;
      put @9 &#39;&lt;adamref:AnalysisDataset&gt;&#39; /
          @11  &#39;&lt;ItemGroupRef ItemGroupOID=&quot;&#39; analysisdataset +(-1) &#39;&quot; Mandatory=&quot;No&quot;/&gt;&#39; /
          @11  &#39;&lt;adamref:SelectionCriteria&gt;&#39; /
          /* just use the row number of the data set as the unique number for the selection criteria */
          @13    &#39;&lt;def:ComputationMethod OID=&quot;SC&#39; _n_ z3. 
                 &#39;&quot; Name=&quot;Selection Criteria &#39; _n_ z3. &#39;&quot;&gt; [&#39; selectioncriteria &#39; ]&lt;/def:ComputationMethod&gt; &#39;/
          @11  &#39;&lt;/adamref:SelectionCriteria&gt; &#39; /
          @9 &#39;&lt;/adamref:AnalysisDataset&gt; &#39; /
          @9 &#39;&lt;adamref:Documentation leafID=&quot;&#39; docleafid +(-1) &#39;&quot;&gt;&#39; /
          @11  &#39;&lt;TranslatedText xml:lang=&quot;en&quot;&gt;&#39; Documentation  /
          @11  &#39;&lt;/TranslatedText&gt;&#39;        /
          @9  &#39;&lt;/adamref:Documentation&gt;&#39;  /
          @9  &#39;&lt;adamref:ProgrammingCode&gt;&#39; /
          @9  &#39;&lt;def:ComputationMethod OID=&quot;&#39;  displayid +(-1) &#39;&quot;&gt;&#39; /
          @1  ProgrammingCode /
          @9 &#39;&lt;/def:ComputationMethod&gt;&#39; /
          @9 &#39;&lt;/adamref:ProgrammingCode&gt;&#39; /
          @7 &#39;&lt;/adamref:AnalysisResults&gt;&#39; ;
        
      if last.displayid then
        put @5 &#39;&lt;/adamref:ResultDisplay&gt;&#39; /
            @5 &#39;&lt;/adamref:AnalysisResultDisplays&gt;&#39;
            ;
    run;  
  %end;


**** CREATE CODELIST SECTION;
filename codes &quot;&amp;path\codelist.txt&quot;;
 
proc sort
    data=codelists
    nodupkey;
    by codelistname codedvalue translated;
run;

**** MAKE SURE CODELIST IS UNIQUE;
data _null_;    
    set codelists;
    by codelistname codedvalue;

    if not (first.codedvalue and last.codedvalue) then 
      put &quot;ERR&quot; &quot;OR: multiple versions of the same coded value &quot; 
           codelistname= codedvalue=;
run;

proc sort
    data=codelists;
    by codelistname rank;   
run;

data codelists;
    set codelists end=eof;
    by codelistname rank;

    file codes notitles; 

    if _n_ = 1 then
      put @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; /
          @5 &quot;&lt;!-- Codelists are presented below                                --&gt;&quot; /
          @5 &quot;&lt;!-- ************************************************************ --&gt;&quot; ;

    if first.codelistname then
      put @5 &#39;&lt;CodeList OID=&quot;CodeList.&#39; codelistname +(-1) &#39;&quot;&#39; /
          @7 &#39;Name=&quot;&#39; codelistname +(-1) &#39;&quot;&#39; /
          @7 &#39;DataType=&quot;&#39; type +(-1) &#39;&quot;&gt;&#39;;

    **** output codelists that are not external dictionaries;
    if codelistdictionary = &#39;&#39; then
      do;
        put @7  &#39;&lt;CodeListItem CodedValue=&quot;&#39; codedvalue +(-1) &#39;&quot;&#39; @;
        if rank ne . then
          put &#39; def:Rank=&quot;&#39; rank +(-1) &#39;&quot;&gt;&#39;;
        else 
          put &#39;&gt;&#39;;
        put @9  &#39;&lt;Decode&gt;&#39; /
            @11 &#39;&lt;TranslatedText&gt;&#39; translated +(-1) &#39;&lt;/TranslatedText&gt;&#39; /
            @9  &#39;&lt;/Decode&gt;&#39; /
            @7  &#39;&lt;/CodeListItem&gt;&#39;;
      end;
    **** output codelists that are pointers to external codelists;
    if codelistdictionary ne &#39;&#39; then
      put @7 &#39;&lt;ExternalCodeList Dictionary=&quot;&#39; codelistdictionary +(-1) 
             &#39;&quot; Version=&quot;&#39; codelistversion +(-1) &#39;&quot;/&gt;&#39;;

    if last.codelistname then
      put @5 &#39;&lt;/CodeList&gt;&#39;;

    if eof then
      put @3 &#39;&lt;/MetaDataVersion&gt;&#39; /
          @1 &#39;&lt;/Study&gt;&#39; /
          @1 &#39;&lt;/ODM&gt;&#39;;
run;

** create the .BAT file that will put all of the files together to create the define;
filename dotbat &quot;make_define.bat&quot;;
data _null_;
    file dotbat notitles;
    drive = substr(&quot;&amp;path&quot;,1,2); 
    put @1 drive;
    put @1 &quot;cd &amp;path&quot;;
    if &quot;&amp;standard&quot; = &quot;ADAM&quot; then
      put @1 &quot;type define_header.txt leaves.txt compmethod.txt valuelist.txt itemgroupdef.txt itemdef.txt itemdef_value.txt analysisresults.txt codelist.txt &gt; define.xml&quot;;
    else if &quot;&amp;standard&quot; = &quot;SDTM&quot; then
      put @1 &quot;type define_header.txt leaves.txt compmethod.txt valuelist.txt itemgroupdef.txt itemdef.txt itemdef_value.txt codelist.txt &gt; define.xml&quot;;
    put @1 &quot;exit&quot;;
run;
x &quot;make_define&quot;;    


%mend make_define;</code></pre>
</div>
<div id="create_adam_dataset" class="section level3" number="28.4.2">
<h3><span class="header-section-number">28.4.2</span> %create_adam_dataset</h3>
<p>Macro to create an ADaMIG-conform dataset, Furthermore, the following validation checks are done:</p>
<ul>
<li><ol style="list-style-type: decimal">
<li>Correct length of variables in specification sheet</li>
</ol></li>
<li><ol start="2" style="list-style-type: decimal">
<li>Variables with length &gt; 200</li>
</ol></li>
<li><ol start="3" style="list-style-type: decimal">
<li>Discrepancies in variable type between specification sheet and dataset</li>
</ol></li>
<li><ol start="4" style="list-style-type: decimal">
<li>Discrepancies in variables between specification sheet and dataset</li>
</ol></li>
</ul>
<table>
<colgroup>
<col width="9%" />
<col width="90%" />
</colgroup>
<thead>
<tr class="header">
<th>Title</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>metadatafile</td>
<td>Name of specification file (usually imported by init-program</td>
</tr>
<tr class="even">
<td>adam_dataset</td>
<td>Input dataset</td>
</tr>
<tr class="odd">
<td>sort_key</td>
<td>Variables used for sorting of the final ADaM dataset (optional)</td>
</tr>
<tr class="even">
<td>delete</td>
<td>Indicate whether temporary datasets should be deleted (deletion is done if delete is not empty)</td>
</tr>
<tr class="odd">
<td>Content</td>
<td>Content</td>
</tr>
<tr class="even">
<td>Input</td>
<td>SAS dataset with all variables required for the ADaM dataset</td>
</tr>
<tr class="odd">
<td>Output</td>
<td>ADaM datasets in SAS7BDAT-format (ADXX_new) Datasets with results of the validation checks ADXX_completeness_chk ADXX_length</td>
</tr>
</tbody>
</table>
<pre><code>/*****************************************************************************************************************************
Programme name:     M_create_adam_dataset
Programme language: SAS 9.4
Initial date:       24JUL2020
Sponsor | study:    -
Author(s):          DN
******************************************************************************************************************************
Short description:  Macro to create an ADaMIG-conform dataset
                    Furthermore, the following validation checks are done:
                        1) Correct length of variables in specification sheet
                        2) Variables with length &gt; 200
                        3) Discrepancies in variable type between specification sheet 
                           and dataset
                        4) Discrepancies in variables between specification sheet and 
                           dataset
Requirements:       
Risk assessment:    Low
******************************************************************************************************************************
Input:              SAS dataset with all variables required for the ADaM dataset
Output:             ADaM datasets in SAS7BDAT-format (ADXX_new)
                    Datasets with results of the validation checks
                        - ADXX_completeness_chk
                        - ADXX_length
Required programmes: 
******************************************************************************************************************************
Document history :
Version     Date        Author  Purpose
V01_0_0     15OCT2020   DN      First initiation based on macro create_sdtm_domain 

******************************************************************************************************************************/

******************************************************************************************************************************
*************************************************       Macro Start       ****************************************************
******************************************************************************************************************************;

*** Create final domain dataset;
    %macro create_adam_dataset (metadatafile, /* Name of specification file (usually imported by init-program) */
                                adam_dataset, /* Input dataset */
                                sort_key,     /* Variables used for sorting of the final ADaM dataset (optional) */
                                delete        /* Indicate whether temporary datasets should be deleted (deletion is done if delete is not empty) */
                            );

    *** Extract metadata, relevant for creation of the ADaM dataset, from the specification sheet;
        data _&amp;adam_dataset._specs;
            length Variable_Name $32.;
            set &amp;metadatafile (where=(strip(upcase(Dataset_Name)) eq upcase(&quot;&amp;adam_dataset&quot;)));
            order = input(Num, best12.);
            keep order Variable_Name Variable_Label Variable_Type Display_Format;
        run;

    *** Extract metadata, relevant for consistency checks, from the specification sheet; 
        data _&amp;adam_dataset._specs_for_chk;
            length Variable_Name $32.;
            set &amp;metadatafile (where=(Dataset_Name eq &quot;&amp;adam_dataset&quot;));
            order = input(Num, best12.);
            keep order Variable_Name Variable_Label Variable_Type Display_Format;
        run;

    *** Sort metadata for consistency checks;
        proc sort data=_&amp;adam_dataset._specs_for_chk; 
            by Variable_Name;
        run;

    *** Check whether all ADaM variables defined in the specification sheet are in the SAS dataset with ADaM data;
        *** Get a dataset with a column which lists all variable names in the SAS dataset with ADaM data;
            proc contents data=&amp;adam_dataset._fin out=_&amp;adam_dataset._all_var noprint;
            run;

        *** Sort for merge;
            proc sort data=_&amp;adam_dataset._all_var(keep=NAME); by NAME; run;
            data _&amp;adam_dataset._all_var;
                set _&amp;adam_dataset._all_var;
            run;
    
        *** Check for completeness (SAS dataset with ADaM data only), create a warning (if applicable) and output the entry in a dataset for tracking;
            data &amp;adam_dataset._completeness_chk;
                merge   _&amp;adam_dataset._specs_for_chk        (in=inSPECS  rename=(Variable_Type=Type_Specs))
                        _&amp;adam_dataset._all_var (in=inADaM rename=(Name=Variable_Name));
                by Variable_Name;
                if      inSPECS  and not inADaM then do;
                    put &quot;WARNING: Variable &quot; Variable_Name &quot; is part of the specification but not of the final &amp;adam_dataset dataset (user-defined)&quot;;
                    NOT_IN_DATASET = &quot;Y&quot;;
                    output;
                end;

            run;

    *** Sort the variable names according to the order specified in the metadata (required to have the correct order of variables in the lists defined below);
        proc sort data=_&amp;adam_dataset._specs; 
            by order;
        run;
    options noquotelenmax;
    *** Prepare some variable lists and store each variable list in a macro variable;;
        data _NULL_;
            length dataset_var_list         /* List with all ADaM variables required for the final ADaM dataset (i.e. numeric variables are included) */
                   char_var_list            /* List with all character ADaM variables required */
                   temp_var_list            /* List with temporary variables to temporarily store the content of each character ADaM variable (variable name = variables name of character variable + prefix &quot;_&quot;) */
                   rename_list              /* List to rename all ADaM variables for the final ADaM dataset to the name of the temporary variable (format: XXXXX=_XXXXX) */
                   label_list               /* List for assignment of a label to each ADaM variable required  (i.e. numeric variables are included) */
                   length_var_list  $32767. /* List which stores the names of all character ADaM variables after addition of the suffix &quot;_len&quot; (required for assignment of length) */;
            set _&amp;adam_dataset._specs   end=eof;
            retain dataset_var_list
                   char_var_list
                   temp_var_list
                   rename_list
                   label_list
                   length_var_list;
        *** Definition of variable lists;
            dataset_var_list = strip(dataset_var_list) || &quot; &quot;  || strip(Variable_Name); 
            label_list      = strip(label_list)      || &quot;  &quot; || strip(Variable_Name) || &quot;=&#39;&quot;  || strip(Variable_Label) || &quot;&#39;&quot;; 
            if find(upcase(Variable_Type), &quot;CHAR&quot;) gt 0 then do;
                char_var_list   = strip(char_var_list)   || &quot;  &quot; || strip(Variable_Name); 
                temp_var_list   = strip(temp_var_list)   || &quot; _&quot; || strip(Variable_Name); 
                rename_list     = strip(rename_list)     || &quot;  &quot; || strip(Variable_Name) || &quot;=_&quot;  || strip(Variable_Name);
                length_var_list = strip(length_var_list) || &quot;  &quot; || strip(Variable_Name) || &quot;_len&quot;; 
            end;

        *** Definition of macro variables;
            if eof then do;
                call symput(&quot;dataset_var_list&quot;, strip(dataset_var_list));
                call symput(&quot;char_var_list&quot;,   strip(char_var_list));
                call symput(&quot;temp_var_list&quot;,   strip(temp_var_list));
                call symput(&quot;rename_list&quot;,     strip(rename_list));
                call symput(&quot;label_list&quot;,      strip(label_list));
                call symput(&quot;length_var_list&quot;, strip(length_var_list));
            end;
        run;

        %put Variable list:           &amp;dataset_var_list;
        %put Character variable list: &amp;char_var_list;

    *** Store the content of all ADaM variables in their temporary counterpart (&quot;_&quot; || variable name);
        data _&amp;adam_dataset;
            set &amp;adam_dataset._fin (rename=(&amp;rename_list));
        run;

    *** Prepare a macro variable with the assignment of length for each character ADaM variable in the final dataset
        (the length assigned corresponds to the length of the longest entry for the respective ADaM variables (requirement of ADaM);
        data _NULL_;
            length _lengths $32767.;
            set &amp;adam_dataset._fin (rename=(&amp;rename_list))
                end=eof;
            retain  &amp;length_var_list 0;
            array   temp_var {*} &amp;temp_var_list;
            array   var_len {*}  &amp;length_var_list;

            do var1 = 1 to dim(temp_var);
                if length(temp_var[var1]) gt var_len[var1] then var_len[var1] = length(temp_var[var1]);
            end;
            if eof then do;
                _lengths = &quot;length &quot;;
                do var2 = 1 to dim(temp_var);
                    _lengths = strip(_lengths) || &quot; &quot; || substr(vname(temp_var[var2]), 2, length(vname(temp_var[var2]))-1) || &quot; $&quot; || strip(put(var_len[var2], best12.));
                end;
                call symput(&quot;_&amp;adam_dataset._lengths&quot;, strip(_lengths));
            end;
        run;
        %put &amp;&amp;_&amp;adam_dataset._lengths;         

    *** Create the prefinal ADaM dataset 
        (after this data-step only the correct variable order and sorting of entries is outstanding);
        data _&amp;adam_dataset._prefin;

        *** Assign correct length to the ADaM variables;
            &amp;&amp;_&amp;adam_dataset._lengths;
            set  _&amp;adam_dataset;
        *** Transfer the data of the temporary ADaM variables (_XXXX) back to the ADaM variables;
            array   temp_var {*} &amp;temp_var_list;
            array   char_var {*} &amp;char_var_list;
            do var = 1 to dim(temp_var);
                char_var[var] = strip(temp_var[var]);
            end;
        *** Assign labels to all ADaM variables; 
            label &amp;label_list;
            ;
        *** Keep only ADaM variables required for the final ADaM dataset;
            keep &amp;dataset_var_list;
        run;


    *** Sort data according to the order given in the specifications;
        data &amp;adam_dataset;
            retain &amp;dataset_var_list;
            set _&amp;adam_dataset._prefin;
        run;

    *** Prepare a macro variable with the sort-key for sorting of the final ADaM dataset;
        data _NULL_;
            length sort_key $1000.;
            if      &quot;&amp;sort_key&quot; ne &quot;&quot; then sort_key = &quot;&amp;sort_key&quot;;
            else if find(&quot;&amp;dataset_var_list&quot;, &quot;USUBJID&quot;) gt 0 and find(&quot;&amp;dataset_var_list&quot;, &quot;ASEQ&quot;)    gt 0 then sort_key = &quot;USUBJID ASEQ&quot;;
            else if find(&quot;&amp;dataset_var_list&quot;, &quot;USUBJID&quot;) gt 0 and find(&quot;&amp;dataset_var_list&quot;, &quot;PARAM&quot;)   gt 0 and find(&quot;&amp;dataset_var_list&quot;, &quot;AVISITN&quot;) gt 0 then sort_key = &quot;USUBJID PARAM AVISITN&quot;; 
            else if find(&quot;&amp;dataset_var_list&quot;, &quot;USUBJID&quot;) gt 0 and find(&quot;&amp;dataset_var_list&quot;, &quot;PARAM&quot;)   gt 0 and find(&quot;&amp;dataset_var_list&quot;, &quot;AVISIT&quot;)  gt 0 then sort_key = &quot;USUBJID PARAM AVISIT&quot;; 
            else if find(&quot;&amp;dataset_var_list&quot;, &quot;USUBJID&quot;) gt 0  and find(&quot;&amp;dataset_var_list&quot;, &quot;PARAM&quot;)  gt 0 then sort_key = &quot;USUBJID PARAM&quot;; 
            else if find(&quot;&amp;dataset_var_list&quot;, &quot;USUBJID&quot;) gt 0  and find(&quot;&amp;dataset_var_list&quot;, &quot;PARAM&quot;)  gt 0 then sort_key = &quot;USUBJID PARAM&quot;; 
            else if find(&quot;&amp;dataset_var_list&quot;, &quot;USUBJID&quot;) gt 0  then sort_key = &quot;USUBJID&quot;;
            else put &quot;WARNING: Dataset could not be sorted, please provide merge-key&quot;; 
            call symput(&quot;sort_key_final&quot;, strip(sort_key));

            put &quot;Dataset sorted by &quot; sort_key;
        run;
        options quotelenmax;

    *** Sort final ADaM dataset by USUBJID and, if applicable, sequence number or an other variable;
        %if       &amp;sort_key_final ne %then %do; proc sort data = &amp;adam_dataset; by &amp;sort_key_final; run; %end;

    *** Check whether the variable lengths and the variable types specified in the specifications are consistent with the lengths and types of variables in the final ADaM dataset and whether any variable exceeds a length of 200 characters;
        *** Prepare a dataset with all variable names occuring in the final dataset in one column and the corresponding length in another column;
        proc contents data=&amp;adam_dataset out=_&amp;adam_dataset._real_var_lengths noprint;
        run;

        *** Check for which ADaM variables the length / type has to be corrected in the specification file / final dataset and for which ADaM variables the maximal length of 200 characters is exceeded
            (a warning is created for such entries and the entry is outputted in a dataset for tracking);
        proc sort data=_&amp;adam_dataset._specs;             by Variable_Name Display_Format; run;
        proc sort data=_&amp;adam_dataset._real_var_lengths; by Name          Length;          run;
        data &amp;adam_dataset._lengths;
            merge _&amp;adam_dataset._specs             (in=inSPECS  rename=(Variable_Type=Type_Specs))
                  _&amp;adam_dataset._real_var_lengths  (in=inADaM rename=(Name=Variable_Name TYPE=Variable_Type) keep=NAME TYPE LENGTH LABEL);
            by Variable_Name;
            Variable_Name = strip(Variable_Name);
        *** Prepare warnings;
            if LENGTH gt 200                  then put &quot;WARNING: Length of variable &quot; Variable_Name &quot; is greater 200 (user-defined)&quot;;
            if LENGTH ne Display_Format       then put &quot;WARNING: Length of variable &quot; Variable_Name &quot; in final &amp;adam_dataset dataset differs from the length specified in the specifications (user-defined)&quot;;
            if (Variable_Type eq 1 and find(upcase(Type_Specs), &quot;NUM&quot;) eq 0) or (Variable_Type eq 2 and find(upcase(Type_Specs), &quot;CHAR&quot;) eq 0)
                then put &quot;WARNING: Type of variable &quot; Variable_Name &quot; differs between final &amp;adam_dataset dataset and specifications (user-defined)&quot;;
        *** Output entries for which adaptions are necessary;
            if LENGTH gt 200 or  LENGTH ne Display_Format                                                                    then LENGTH_ERROR = &quot;Y&quot;;
            if (Variable_Type eq 1 and find(upcase(Type_Specs), &quot;NUM&quot;) eq 0) or (Variable_Type eq 2 and find(upcase(Type_Specs), &quot;CHAR&quot;) eq 0) then TYPE_ERROR   = &quot;Y&quot;;
        run;
        


    *** Delete temporary datasets if requested in the macro call;
        %if &amp;delete ne %then %do;
            proc datasets lib=work nolist;
                delete _&amp;adam_dataset._specs_for_chk
                       _&amp;adam_dataset._specs
                       _&amp;adam_dataset
                       _&amp;adam_dataset._prefin
                       _&amp;adam_dataset._real_var_lengths
                       _&amp;adam_dataset._all_var ;
            quit;
        %end;

    %mend create_adam_dataset;</code></pre>
</div>
<div id="make_empty_dataset-1" class="section level3" number="28.4.3">
<h3><span class="header-section-number">28.4.3</span> %make_empty_dataset</h3>
<p>Creation of “dummy_datasets” with assigned attrib, label and length according .csv input but zero records 根据.csv输入创建具有指定属性，标签和长度的“ dummy_datasets”，但记录为零</p>
<pre><code>
%LET specification_path = Z:\CDISC\STUDIES\MEDIWOUND1\ADaM\ADaM_Specifications\CSV;
%LET specification_filename = MW2010_ADaM_Specification.csv;

%macro make_empty_dataset (metadatafile, dataset);
    proc import 
        datafile = &quot;&amp;metadatafile&quot;
        replace
        dbms = csv
        out = _temp;
        guessingrows = 1000;
        getnames = yes;
        delimiter = &#39;;&#39;;
    run;

    data &amp;dataset._temp;
        length len $3.
               variable_label $60.;
        set _temp (where = (dataset_name = &quot;&amp;dataset&quot;));

        len = &quot;8&quot;;  *** must be adapted in excel worksheet;
        if upcase(variable_type) = &quot;CHAR&quot; and display_format ne . /*and length(display_format) in (1 2 3)*/ then len = strip(vvalue(display_format));
    run;
/*
proc import 
    datafile=&quot;&amp;metadatafile&quot;
    out=_temp
    dbms=excelcs
    replace;
    sheet=&quot;VARIABLE_METADATA&quot;;
run;
*/
**sort the dataset by expected specified variable order;
/*proc sort
    data=_temp;
        where domain = &quot;&amp;dataset&quot;;
        by varnum;
run;
*/

**create keepstring macro variable and load metadata
**information into macro variables;
%global &amp;dataset.KEEPSTRING;
data aaa;
set &amp;dataset._temp nobs= nobs end=eof;
if _n_ = 1 then
    call symput (&quot;vars&quot;, compress (put(nobs, 3.)));
variable_label = tranwrd(variable_label, &#39;%&#39;, &#39;%NRSTR(%%)&#39;);

call symputx(&#39;var&#39;      || compress(put(_n_, 3.)), variable_name);
call symputx(&#39;label&#39;    || compress(put(_n_, 3.)), variable_label);
call symputx(&#39;length&#39;   || compress(put(_n_, 3.)), len); *put(length, 3.));

**valid ODM types include TEXT, INTEGER, FLOAT, DATETIME,
**DATE, TIME and map to SAS numeric or character;
     if upcase(variable_type) in (&quot;NUM&quot; &quot;INTEGER&quot;, &quot;FLOAT&quot;)                  then call symputx(&#39;type&#39; || compress(put(_n_, 3.)), &quot;&quot;);
else if upcase(variable_type) in (&quot;CHAR&quot; &quot;TEXT&quot;, &quot;DATE&quot;, &quot;DATETIME&quot;, &quot;TIME&quot;) then call symputx(&#39;type&#39; || compress(put(_n_, 3.)), &quot;$&quot;);
else put &quot;ERR&quot; &quot;OR: not using valid ODM type.   &quot; variable_type=;

**create **Keepstring macro variable;
length keepstring $ 32762;
retain keepstring;
keepstring = compress(keepstring) || &quot;|&quot; ||left(variable_name);
if eof then call symputx(upcase(compress(&quot;&amp;dataset&quot; || &#39;KEEPSTRING&#39;)), left(trim(translate(keepstring, &quot; &quot;, &quot;|&quot;))));
run;

**create a 0-observation template data set used for assigning 
**variable attributes to the actual data sets;
data EMPTY_&amp;dataset;
    %do i=1 %to &amp;vars;
        attrib &amp;&amp;var&amp;i label= &quot;&amp;&amp;label&amp;i&quot;
            length= &amp;&amp;type&amp;i.&amp;&amp;length&amp;i...
            ;
%if &amp;&amp;type&amp;i=$ %then
    retain &amp;&amp;var&amp;i &#39;&#39;;
        %else
    retain &amp;&amp;var&amp;i .;
        ;
    %end;
    if 0;
run;
%mend make_empty_dataset;

%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADSL);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADVS);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPAIN);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADMH);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADCM);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADAE);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPEBL);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADLOCLB);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADWDESC);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADTWDESC);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADSLTW);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPRIM);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADSURGEX);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADTTEER);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADBLOOD);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADTTEWC);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADSLPROC);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADCIRC);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADCENTLB);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPRIMTW);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADER100);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADER100T);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADTTER1);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADTTER1T);
/*%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADWC100);*/
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADTTWC1T);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADTTWC1);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADBLTVOL);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADSAFE);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADBLGLUC);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADGRAFT);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADGRAFTW);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADSURGTW);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADTTEHOS);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADEXPLOR);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADCIRCBL);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPRIMSG);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADSURGSG);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADTTERSG);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADLFU);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADMVSSPT);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADMVSS);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPOSAPT);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPOSAS);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADBVLTYP);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPHSEDA);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPHAREX);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPHSURG);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPHBLD);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPHGRAF);
%make_empty_dataset(metadatafile=&amp;specification_path.\&amp;specification_filename., dataset=ADPHBLTV);</code></pre>
</div>
<div id="dtc2dt" class="section level3" number="28.4.4">
<h3><span class="header-section-number">28.4.4</span> %DTC2DT</h3>
<p>ISO 8601 Date and Time Conversions. SDTM Date or DateTime variables are saved as character which have to be converted to numeric values in ADaM.</p>
<p>由于SDTM DTC值可能包含不完整的日期和时间，因此从DTC值到SAS日期或日期时间的每次转换都必须首先检查字段的长度，以确定可以转换值的哪些部分。最好将这样的重复性任务应用到用于分析的多个日期值，最好由宏来处理。 DTC2DT宏可用于将DTC变量转换为ADaM数据集的SAS日期或日期/时间。如果提供参考日期作为参数，则宏还可以计算相对日期变量。
首先，宏检查SDTM DTC变量的长度，然后如果该字段的长度足够，则将日期或日期时间转换为SAS日期或日期时间。 默认情况下，它假定SAS日期或日期时间用于ADaM BDS数据集，并且创建ADT，ADTM和ADY之一或组合。 （但是，请注意，仅在分配了REFDT参数的情况下，才创建–DY变量。）</p>
<table>
<colgroup>
<col width="13%" />
<col width="86%" />
</colgroup>
<thead>
<tr class="header">
<th>macro parameter</th>
<th>Title</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>dtcvar</td>
<td>SDTM Date or DateTime variable as character</td>
</tr>
<tr class="even">
<td>prefix</td>
<td>prefix of splitted/converted numeric Date, Time and/or DateTime variable(s)</td>
</tr>
<tr class="odd">
<td>refdt</td>
<td>SDTM reference Date, if calculation of relative days is needed;</td>
</tr>
<tr class="even">
<td>Content</td>
<td>Content</td>
</tr>
<tr class="odd">
<td>Input</td>
<td>SDTM Date/DateTime variable as character string</td>
</tr>
<tr class="even">
<td>Output</td>
<td>ADaM Date (-DT) / Time (-TM) / DateTime (-DTM) variable(s) as numeric value</td>
</tr>
<tr class="odd">
<td>Content</td>
<td>Format of output variable(s) could be: &amp;prefix.DT yymmdd10. &amp;prefix.TM time5. &amp;prefix.DTM e8601dt19.;</td>
</tr>
</tbody>
</table>
<pre><code>%macro dtc2dt(dtcvar, prefix, refdt= );
    &amp;prefix.DTM = .;
    &amp;prefix.DT = .;
    &amp;prefix.TM = .;

    if      length(&amp;dtcvar)=10 and index(&amp;dtcvar,&#39;--&#39;)=0 then &amp;prefix.DT = input(&amp;dtcvar, yymmdd10.);
    else if length(&amp;dtcvar)=16 and index(&amp;dtcvar,&#39;--&#39;)=0 and index(&amp;dtcvar,&#39;-:&#39;)=0 then do;
        &amp;prefix.DTM = input(trim(&amp;dtcvar) || &quot;:00&quot;, e8601dt19.);
        &amp;prefix.DT  = datepart(&amp;prefix.dtm);
        &amp;prefix.TM = input(substr(&amp;dtcvar,12,2) || &quot;:&quot; || substr(&amp;dtcvar,15,2), time5.);
    end;
    else if length(&amp;dtcvar)=19 and index(&amp;dtcvar,&#39;--&#39;)=0 and index(&amp;dtcvar,&#39;-:&#39;)=0 then do;
        &amp;prefix.DTM = input(trim(&amp;dtcvar), e8601dt19.);
        &amp;prefix.DT  = datepart(&amp;prefix.dtm);
        &amp;prefix.TM = input(substr(&amp;dtcvar,12,2) || &quot;:&quot; || substr(&amp;dtcvar,15,2) || &quot;:&quot; || substr(&amp;dtcvar,18,2), time8.);
    end;

    %if &amp;refdt ^= %then %do;
        if . &lt; &amp;prefix.dt &lt; &amp;refdt - &amp;refdt then &amp;prefix.DY = &amp;prefix.dt - &amp;refdt;
        else if &amp;prefix.dt &gt;= &amp;refdt then &amp;prefix.DY = &amp;prefix.dt - &amp;refdt + 1;
    %end;
%mend dtc2dt;


*** Usage;
Data ADaM.ADLB;
 Merge SDTM.LB ADaM.ADSL (keep=usubjid trtsdt);
 By usubjid;
 .
 .
 .
 ** convert the lab date to a SAS date for variable ADT;
 ** and calculate the study day for variable ADY;
 %dtc2dt(LBDTC, refdt=TRTSDT );
Run;</code></pre>
</div>
<div id="imputed_date" class="section level3" number="28.4.5">
<h3><span class="header-section-number">28.4.5</span> %imputed_date</h3>
<p>Imputation of date parts of partial dates to be able to compare partial date (e.g. Medical History) with other dates (e.g. Start of Treatment)</p>
<p>估算部分日期的日期部分，以便能够将部分日期（例如病史）与其他日期（例如治疗开始）进行比较</p>
<pre><code>
*** macro parameter:
    - dtcvar = SDTM Date variable as character, which migth be partial
    - prefix = prefix of Date Imputation Flag of date variable
    - timepoint = S = Start date, EN = End date;
%macro imputed_date(dtvar, prefix, timepoint); 
        if      length(&amp;dtvar) eq 4 then do;
            &amp;prefix.&amp;timepoint.DT = input((strip(&amp;dtvar) || &quot;-01-01&quot;), YYMMDD10.);
            &amp;prefix.&amp;timepoint.DTF = &quot;M&quot;;
        end;
        else if length(&amp;dtvar) eq 7 then do;
            &amp;prefix.&amp;timepoint.DT = input((strip(&amp;dtvar) || &quot;-01&quot;), YYMMDD10.);
            &amp;prefix.&amp;timepoint.DTF = &quot;D&quot;;
        end;
        else if length(&amp;dtvar) eq 10 then do;
            &amp;prefix.&amp;timepoint.DT = input(strip(&amp;dtvar), YYMMDD10.);
            &amp;prefix.&amp;timepoint.DTF = &quot;&quot;;
        end;
        else if length(&amp;dtvar) = 0 then &amp;prefix.&amp;timepoint.DTF = &quot;Y&quot;;
%mend imputed_date;</code></pre>
</div>
<div id="mergsupp" class="section level3" number="28.4.6">
<h3><span class="header-section-number">28.4.6</span> %mergsupp</h3>
<p><strong>Merging in Supplemental Qualifiers</strong></p>
<p>通常需要将SUPP-SDTM数据集中的补充限定词合并到ADaM数据集中。它可以用于合并指定域列表中的补充限定词，或者如果DOMAINS参数保留为空白，则可以将所有补充限定词与给定源库中的所有父域合并。</p>
<p>例如，可能有创建ADSL所需的存储在SUPPDM中的重要日期，或者有创建ADAE所需的存储在SUPPAE中的紧急处理标记。
Ex&gt; 所有受试者的随机分组日期均保存为补充限定词；并且具有其他种族的受试者的种族规格也另存为补充限定词。构建ADSL数据集可能需要这两条信息。为此，您必须首先转置SUPPDM，将其中QNAM =’RACEOTH’和QNAM =’RANDDTC’的记录转换为以RACEOTH和RANDDTC作为变量的水平结构，然后将这些变量与ADSL数据集合并。</p>
<p><span class="math display">\[
\begin{array}{lllll}
\hline \text { STUDYID } &amp; \text { RDOMAIN } &amp; \text { USUBJID } &amp; \text { QNAM } &amp; \text { QLABEL } \\
\hline \text { XYZ123 } &amp; \text { DM } &amp; \text { UNI101 } &amp; \text { RACEOTH } &amp; \text { Race, Other } \\
\text { XYZ123 } &amp; \text { DM } &amp; \text { UNI101 } &amp; \text { RANDDTC } &amp; \begin{array}{l}
\text { Date of } \\
\text { Randomization }
\end{array} \\
\text { XYZ123 } &amp; \text { DM } &amp; \text { UNI102 } &amp; \text { RANDDTC } &amp; \begin{array}{l}
\text { Date of } \\
\text { Randomization }
\end{array} \\
\text { XYZ123 } &amp; \text { DM } &amp; \text { UNI103 } &amp; \text { RANDDTC } &amp; \begin{array}{l}
\text { Date of } \\
\text { Randomization }
\end{array} \\
\text { XYZ123 } &amp; \text { DM } &amp; \text { UNI104 } &amp; \text { RANDDTC } &amp; \begin{array}{l}
\text { Date of } \\
\text { Randomization }
\end{array} \\
\hline
\end{array}
\]</span></p>
<pre><code>*------------------------------------------------------------;
* Merge supplemental qualifiers into the parent SDTM domain;
* This can either be for an entire library or for specified 
* domains;
*------------------------------------------------------------;
%macro mergsupp(sourcelib=library, outlib=WORK, domains= , suppqual=0);
  %local domain;
    
  %** de-normalize suppqual and merge into the given domain;
  %macro domainx(domain= ,suppqual=0);
      %local suppdata idvar varlist nvars;
      
      %if &amp;suppqual %then
        %let suppdata=suppqual;
      %else
        %let suppdata=supp&amp;domain;
      ;
        
      %* count the number of supplemental qualifiers for the given domain;
       proc sort 
        data = &amp;sourcelib..&amp;suppdata
        out = nvars
        nodupkey;  
          where rdomain=upcase(&quot;&amp;domain&quot;);
          by qnam idvar;
      run;
            
      data _null_;
        set nvars end=eof;
          by qnam idvar;
             length varlist $200;   
             retain varlist;
             if not first.qnam then
                put &#39;PROB&#39; &#39;LEM: More than one IDVAR for the domain-- &#39; 
                     rdomain= qnam=   
                              idvar= ;
             else
                do; 
                   nvars + 1; 
                   varlist = trim(varlist) || &quot; &quot; || trim(qnam);
                end;
             if eof then 
               do;
                  call symput(&quot;nvars&quot;, put(nvars, 2.)); 
                  call symput(&quot;varlist&quot;, trim(left(varlist)));
                  call symput(&quot;idvar&quot;, trim(idvar));
               end;  
      run;
      %put domain=&amp;domain idvar=&amp;idvar nvars=&amp;nvars varlist=&amp;varlist; 

      proc sort
        data = &amp;sourcelib..&amp;suppdata
        out = supp&amp;domain;
          where rdomain=upcase(&quot;&amp;domain&quot;);
          by usubjid idvar idvarval;
      run;

      %*  determine whether IDVAR in the parent domain is character or numeric; 
      %if &amp;idvar^= %then
        %do;
          %let dsetnum=%sysfunc(open(&amp;sourcelib..&amp;domain));
          %let varnum=%sysfunc(varnum(&amp;dsetnum,&amp;idvar));
          %let idtype=%sysfunc(vartype(&amp;dsetnum,&amp;varnum));
          %let rc=%sysfunc(close(&amp;dsetnum));
        %end;
      %else
        %let idtype= ;

      data supp&amp;domain;
        set supp&amp;domain;
          by usubjid idvar idvarval;
             drop q: idvarval idvar i rdomain;
             length &amp;varlist $200.;
             retain &amp;varlist;
             array vars{*} &amp;varlist;
             if first.idvarval then
               do i = 1 to dim(vars); 
                 vars{i} = &#39;&#39;;
               end;
             do i = 1 to dim(vars);
               if upcase(qnam)=upcase(vname(vars{i})) then
                 vars{i} = qval;
             end;

             %** convert to numeric if numeric in the parent domain; 
             %if &amp;idvar^= and &amp;idtype=N %then
                &amp;idvar = input(idvarval, best.);
             %else %if &amp;idvar^= %then
               &amp;idvar = idvarval;
             ;
             if last.idvarval;
      run;
      proc sort
        data = supp&amp;domain;
          by usubjid &amp;idvar;
      proc sort
        data = &amp;sourcelib..&amp;domain
        out = __tmp;
          by usubjid &amp;idvar;
      data &amp;outlib..&amp;domain;
        merge __tmp supp&amp;domain ; 
          by usubjid &amp;idvar;
      run;
    %mend domainx;
    
    %*-------------------------------------------------------;
    %* If DOMAINS parameter specified, then loop through those 
    %* domains;
    %* otherwise, dynamically identify the SUPPxx data sets and 
    %* go through them all;
    %*-------------------------------------------------------;
    %let _wrd=1;
    %if &amp;DOMAINS^= %then 
      %do %while(%scan(&amp;domains,&amp;_wrd)^= );                
          %let domain=%scan(&amp;domains,&amp;_wrd);
          %domainx(domain=&amp;domain,suppqual=0);
          %let _wrd=%eval(&amp;_wrd+1);
      %end;
    %else
      %do;                
          %** find all of the SUPPxx datasets and loop through each one;
          ods output members=members;
          proc contents
            data = &amp;sourcelib.._all_ memtype=data nods ;
          run;
         data members;
            set members;
             if upcase(name)=:&#39;SUPP&#39; and upcase(name)^=:&#39;SUPPQUAL&#39; then
                      do;
                      rdomain = substr(name,5,2);
                      put name= rdomain= ;
 
                     output;
                   end;
                 else if upcase(name)=:&#39;SUPPQUAL&#39; then
                   call symput(&quot;suppqual&quot;,&quot;1&quot;);
          run;
    
          %** loop through each domain;
          proc sql noprint;
           select count(distinct rdomain)
             into :domn
             from %if &amp;suppqual %then &amp;sourcelib..suppqual; %else 
                members;
             ;   
           select distinct rdomain 
             into :domain1 - :domain%left(&amp;domn)
             from %if &amp;suppqual %then &amp;sourcelib..suppqual; %else 
                members;
             ;
          %do _i=1 %to &amp;domn;
            %domainx(domain=&amp;&amp;domain&amp;_i,suppqual=&amp;suppqual);
          %end;
      %end; %* if domains not specified explicitly...;

%mend mergsupp;</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="adaptive-designs.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="regularization-penalized-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/28-CDISC.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
